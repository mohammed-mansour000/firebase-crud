(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),a=u[1],c=this.normalizeInstanceIdentifier(u[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}class a extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let u=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(u=Object.create(e),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=u.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),a=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(u.add(s?s.call(u,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.9","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(...t){let e=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return Object(i.a)(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof u&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return an}),n.d(e,"b",function(){return Qc}),n.d(e,"c",function(){return Bc}),n.d(e,"d",function(){return Hc}),n.d(e,"e",function(){return zc}),n.d(e,"f",function(){return Hl}),n.d(e,"g",function(){return Nl}),n.d(e,"h",function(){return Va}),n.d(e,"i",function(){return sl}),n.d(e,"j",function(){return ca}),n.d(e,"k",function(){return Xc}),n.d(e,"l",function(){return da}),n.d(e,"m",function(){return Cr}),n.d(e,"n",function(){return mc}),n.d(e,"o",function(){return Eo}),n.d(e,"p",function(){return vn}),n.d(e,"q",function(){return un}),n.d(e,"r",function(){return Fo}),n.d(e,"s",function(){return ja}),n.d(e,"t",function(){return ka}),n.d(e,"u",function(){return Zc}),n.d(e,"v",function(){return $a}),n.d(e,"w",function(){return Dl}),n.d(e,"x",function(){return Ga}),n.d(e,"y",function(){return xl}),n.d(e,"z",function(){return cl}),n.d(e,"A",function(){return bn}),n.d(e,"B",function(){return Kc}),n.d(e,"C",function(){return $c}),n.d(e,"D",function(){return ga}),n.d(e,"E",function(){return pa}),n.d(e,"F",function(){return Ar}),n.d(e,"G",function(){return ma}),n.d(e,"H",function(){return br}),n.d(e,"I",function(){return _n}),n.d(e,"J",function(){return Ll}),n.d(e,"K",function(){return Ha}),n.d(e,"L",function(){return yl}),n.d(e,"M",function(){return cn}),n.d(e,"N",function(){return ba}),n.d(e,"O",function(){return va}),n.d(e,"P",function(){return Qa}),n.d(e,"Q",function(){return N}),n.d(e,"R",function(){return Tl}),n.d(e,"S",function(){return Il}),n.d(e,"T",function(){return d}),n.d(e,"U",function(){return Cl}),n.d(e,"V",function(){return Ul}),n.d(e,"W",function(){return bl}),n.d(e,"X",function(){return Yc}),n.d(e,"Y",function(){return Io}),n.d(e,"Z",function(){return ou}),n.d(e,"ab",function(){return mr}),n.d(e,"bb",function(){return Jn}),n.d(e,"cb",function(){return qn}),n.d(e,"db",function(){return zn}),n.d(e,"eb",function(){return $n}),n.d(e,"fb",function(){return Wn}),n.d(e,"gb",function(){return Bn}),n.d(e,"hb",function(){return Gn}),n.d(e,"ib",function(){return eu}),n.d(e,"jb",function(){return Fl}),n.d(e,"kb",function(){return nu}),n.d(e,"lb",function(){return ru}),n.d(e,"mb",function(){return Hn}),n.d(e,"nb",function(){return L}),n.d(e,"ob",function(){return Qo}),n.d(e,"pb",function(){return ps}),n.d(e,"qb",function(){return ds}),n.d(e,"rb",function(){return tu}),n.d(e,"sb",function(){return It}),n.d(e,"tb",function(){return l}),n.d(e,"ub",function(){return Un}),n.d(e,"vb",function(){return qo}),n.d(e,"wb",function(){return bt}),n.d(e,"xb",function(){return sa}),n.d(e,"yb",function(){return Ci}),n.d(e,"zb",function(){return ts}),n.d(e,"Ab",function(){return Ps}),n.d(e,"Bb",function(){return Qs}),n.d(e,"Cb",function(){return Ns}),n.d(e,"Db",function(){return Pc}),n.d(e,"Eb",function(){return K}),n.d(e,"Fb",function(){return et}),n.d(e,"Gb",function(){return m}),n.d(e,"Hb",function(){return v}),n.d(e,"Ib",function(){return X}),n.d(e,"Jb",function(){return nt}),n.d(e,"Kb",function(){return is}),n.d(e,"Lb",function(){return cs}),n.d(e,"Mb",function(){return hs}),n.d(e,"Nb",function(){return ls}),n.d(e,"Ob",function(){return as}),n.d(e,"Pb",function(){return us}),n.d(e,"Qb",function(){return fs}),n.d(e,"Rb",function(){return nn}),n.d(e,"Sb",function(){return Ys}),n.d(e,"Tb",function(){return Yu}),n.d(e,"Ub",function(){return Xu}),n.d(e,"Vb",function(){return Zu}),n.d(e,"Wb",function(){return kn}),n.d(e,"Xb",function(){return rn}),n.d(e,"Yb",function(){return qc}),n.d(e,"Zb",function(){return gs}),n.d(e,"ac",function(){return Vc}),n.d(e,"bc",function(){return vs}),n.d(e,"cc",function(){return gc}),n.d(e,"dc",function(){return yc}),n.d(e,"ec",function(){return _s}),n.d(e,"fc",function(){return ws}),n.d(e,"gc",function(){return os}),n.d(e,"hc",function(){return Os}),n.d(e,"ic",function(){return Es}),n.d(e,"jc",function(){return lc}),n.d(e,"kc",function(){return hc}),n.d(e,"lc",function(){return fc}),n.d(e,"mc",function(){return Ac}),n.d(e,"nc",function(){return rs}),n.d(e,"oc",function(){return Wt}),n.d(e,"pc",function(){return wr}),n.d(e,"qc",function(){return J}),n.d(e,"rc",function(){return Dc}),n.d(e,"sc",function(){return jc}),n.d(e,"tc",function(){return ks}),n.d(e,"uc",function(){return ns}),n.d(e,"vc",function(){return Uc}),n.d(e,"wc",function(){return Ws}),n.d(e,"xc",function(){return Gs}),n.d(e,"yc",function(){return $s}),n.d(e,"zc",function(){return Ks}),n.d(e,"Ac",function(){return kc});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("w1tV");function a(t){for(let e in t)if(t[e]===a)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=a({__forward_ref__:a});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}function y(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function m(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function v(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function b(t){return w(t,O)||w(t,C)}function w(t,e){return t.hasOwnProperty(e)?t[e]:null}function _(t){return t&&(t.hasOwnProperty(E)||t.hasOwnProperty(I))?t[E]:null}const O=a({"\u0275prov":a}),E=a({"\u0275inj":a}),C=a({ngInjectableDef:a}),I=a({ngInjectorDef:a});var S=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let x;function T(t){const e=x;return x=t,e}function A(t,e,n){const r=b(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&S.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${l(t)}]`)}function j(t){return{toString:t}.toString()}var k=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),N=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const P="undefined"!=typeof globalThis&&globalThis,D="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,L=P||V||D||R,M={},F=[],U=a({"\u0275cmp":a}),q=a({"\u0275dir":a}),H=a({"\u0275pipe":a}),z=a({"\u0275mod":a}),B=a({"\u0275loc":a}),W=a({"\u0275fac":a}),G=a({__NG_ELEMENT_ID__:a});let $=0;function K(t){return j(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===k.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||F,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||N.Emulated,id:"c",styles:t.styles||F,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=$++,n.inputs=tt(t.inputs,e),n.outputs=tt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Q):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Y):null,n})}function Q(t){return rt(t)||function(t){return t[q]||null}(t)}function Y(t){return function(t){return t[H]||null}(t)}const Z={};function X(t){const e={type:t.type,bootstrap:t.bootstrap||F,declarations:t.declarations||F,imports:t.imports||F,exports:t.exports||F,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&j(()=>{Z[t.id]=t.type}),e}function J(t,e){return j(()=>{const n=it(t,!0);n.declarations=e.declarations||F,n.imports=e.imports||F,n.exports=e.exports||F})}function tt(t,e){if(null==t)return M;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const et=K;function nt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function rt(t){return t[U]||null}function it(t,e){const n=t[z]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ot=20,st=10;function ut(t){return Array.isArray(t)&&"object"==typeof t[1]}function at(t){return Array.isArray(t)&&!0===t[1]}function ct(t){return 0!=(8&t.flags)}function lt(t){return 2==(2&t.flags)}function ht(t){return 1==(1&t.flags)}function ft(t){return null!==t.template}function dt(t,e){return t.hasOwnProperty(W)?t[W]:null}class pt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function gt(t){return"string"==typeof t?t:null==t?"":String(t)}function yt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():gt(t)}function mt(t,e){const n=e?" in "+e:"";throw new pt("201",`No provider for ${yt(t)} found${n}`)}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ot),_t}function _t(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===M)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ot(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:M,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new vt(a&&a.currentValue,e,s===M),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}bt.ngInherit=!0;let Ct=void 0;function It(t){Ct=t}function St(){return void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0}function xt(t){return!!t.listen}const Tt={createRenderer:(t,e)=>St()};function At(t){for(;Array.isArray(t);)t=t[0];return t}function jt(t,e){return At(e[t])}function kt(t,e){return At(e[t.index])}function Nt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function Dt(t,e){const n=e[t];return ut(n)?n:n[0]}function Rt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Vt(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Mt(t,e){return null==e?null:t[e]}function Ft(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const qt={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return qt.bindingsEnabled}function zt(){return qt.lFrame.lView}function Bt(){return qt.lFrame.tView}function Wt(t){qt.lFrame.contextLView=t}function Gt(){let t=$t();for(;null!==t&&64===t.type;)t=t.parent;return t}function $t(){return qt.lFrame.currentTNode}function Kt(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Qt(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return qt.lFrame.isParent}function Zt(){qt.lFrame.isParent=!1}function Xt(){return qt.isInCheckNoChangesMode}function Jt(t){qt.isInCheckNoChangesMode=t}function te(){const t=qt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ee(){return qt.lFrame.bindingIndex}function ne(){return qt.lFrame.bindingIndex++}function re(t){const e=qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t){qt.lFrame.inI18n=t}function oe(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,se(e)}function se(t){qt.lFrame.currentDirectiveIndex=t}function ue(){return qt.lFrame.currentQueryIndex}function ae(t){qt.lFrame.currentQueryIndex=t}function ce(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function le(t,e,n){if(n&S.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&S.Host||(r=ce(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=qt.lFrame=fe();return r.currentTNode=e,r.lView=t,!0}function he(t){const e=fe(),n=t[1];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fe(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pe(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ge=pe;function ye(){const t=pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function me(){return qt.lFrame.selectedIndex}function ve(t){qt.lFrame.selectedIndex=t}function be(){const t=qt.lFrame;return Nt(t.tView,t.selectedIndex)}function we(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:u}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function _e(t,e,n){Ce(t,e,3,n)}function Oe(t,e,n,r){(3&t[2])===n&&Ce(t,e,n,r)}function Ee(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ce(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(s=e[u],null!=r&&s>=r)break}else e[u]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ie(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Ie(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Se=-1;class xe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=xt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];je(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function Ae(t){return 3===t||4===t||6===t}function je(t){return 64===t.charCodeAt(0)}function ke(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ne(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ne(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Pe(t){return t!==Se}function De(t){return 32767&t}function Re(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ve=!0;function Le(t){const e=Ve;return Ve=t,e}let Me=0;function Fe(t,e){const n=qe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ue(r.data,t),Ue(e,null),Ue(r.blueprint,null));const i=He(t,e),o=t.injectorIndex;if(Pe(i)){const t=De(i),n=Re(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Ue(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function He(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Se;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Se}function ze(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(G)&&(r=n[G]),null==r&&(r=n[G]=Me++);const i=255&r,o=1<<i,s=64&i,u=32&i,a=e.data;128&i?s?u?a[t+7]|=o:a[t+6]|=o:u?a[t+5]|=o:a[t+4]|=o:s?u?a[t+3]|=o:a[t+2]|=o:u?a[t+1]|=o:a[t]|=o}(t,e,n)}function Be(t,e,n){if(n&S.Optional)return t;mt(e,"NodeInjector")}function We(t,e,n,r){if(n&S.Optional&&void 0===r&&(r=null),0==(n&(S.Self|S.Host))){const i=t[9],o=T(void 0);try{return i?i.get(e,r,n&S.Optional):A(e,r,n&S.Optional)}finally{T(o)}}return Be(r,e,n)}function Ge(t,e,n,r=S.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(G)?t[G]:void 0;return"number"==typeof e?e>=0?255&e:Ke:e}(n);if("function"==typeof o){if(!le(e,t,r))return r&S.Host?Be(i,n,r):We(e,n,r,i);try{const t=o();if(null!=t||r&S.Optional)return t;mt(n)}finally{ge()}}else if("number"==typeof o){let i=null,s=qe(t,e),u=Se,a=r&S.Host?e[16][6]:null;for((-1===s||r&S.SkipSelf)&&(u=-1===s?He(t,e):e[s+8],u!==Se&&Je(r,!1)?(i=e[1],s=De(u),e=Re(u,e)):s=-1);-1!==s;){const t=e[1];if(Xe(o,s,t.data)){const t=Qe(s,e,n,i,r,a);if(t!==$e)return t}u=e[s+8],u!==Se&&Je(r,e[1].data[s+8]===a)&&Xe(o,s,e)?(i=t,s=De(u),e=Re(u,e)):s=-1}}}return We(e,n,r,i)}const $e={};function Ke(){return new tn(Gt(),zt())}function Qe(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=Ye(u,s,n,null==r?lt(u)&&Ve:r!=s&&0!=(3&u.type),i&S.Host&&o===u);return null!==a?Ze(e,s,a,u):$e}function Ye(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&ft(t)&&t.type===n)return a}return null}function Ze(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof xe){const s=i;s.resolving&&function(t,e){throw new pt("200","Circular dependency in DI detected for "+t)}(yt(o[n]));const u=Le(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?T(s.injectImpl):null;le(t,r,S.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==a&&T(a),Le(u),s.resolving=!1,ge()}}return i}function Xe(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Je(t,e){return!(t&S.Self||t&S.Host&&e)}class tn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ge(this._tNode,this._lView,t,void 0,e)}}function en(t){const e=t;if(g(t))return()=>{const t=en(p(e));return t?t():null};let n=dt(e);if(null===n){const t=_(e);n=t&&t.factory}return n||null}function nn(t){return j(()=>{const e=t.prototype.constructor,n=e[W]||en(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[W]||en(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function rn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ae(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}const on="__parameters__";function sn(t,e,n){return j(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(on)?t[on]:Object.defineProperty(t,on,{value:[]})[on];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class un{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=m({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const an=new un("AnalyzeForEntryComponents"),cn=Function;function ln(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),ln(r,e)):e!==t&&e.push(r)}return e}function hn(t,e){t.forEach(t=>Array.isArray(t)?hn(t,e):e(t))}function fn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function gn(t,e,n){let r=mn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function yn(t,e){const n=mn(t,e);if(n>=0)return t[1|n]}function mn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const vn=sn("Inject",t=>({token:t})),bn=sn("Optional"),wn=sn("Self"),_n=sn("SkipSelf"),On=sn("Host"),En={},Cn=/\n/gm,In="__source",Sn=a({provide:String,useValue:a});let xn,Tn=void 0;function An(t){const e=Tn;return Tn=t,e}function jn(t,e=S.Default){if(void 0===Tn)throw new Error("inject() must be called from an injection context");return null===Tn?A(t,void 0,e):Tn.get(t,e&S.Optional?null:void 0,e)}function kn(t,e=S.Default){return(x||jn)(p(t),e)}function Nn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=S.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof bn||"Optional"===i.ngMetadataName||i===bn?n|=S.Optional:i instanceof _n||"SkipSelf"===i.ngMetadataName||i===_n?n|=S.SkipSelf:i instanceof wn||"Self"===i.ngMetadataName||i===wn?n|=S.Self:i instanceof On||"Host"===i.ngMetadataName||i===On?n|=S.Host:t=i instanceof vn||i===vn?i.token:i}e.push(kn(t,n))}else e.push(kn(r))}return e}function Pn(t){var e;return(null===(e=function(){if(void 0===xn&&(xn=null,L.trustedTypes))try{xn=L.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return xn}())||void 0===e?void 0:e.createHTML(t))||t}class Dn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Rn extends Dn{getTypeName(){return"HTML"}}class Vn extends Dn{getTypeName(){return"Style"}}class Ln extends Dn{getTypeName(){return"Script"}}class Mn extends Dn{getTypeName(){return"URL"}}class Fn extends Dn{getTypeName(){return"ResourceURL"}}function Un(t){return t instanceof Dn?t.changingThisBreaksApplicationSecurity:t}function qn(t,e){const n=Hn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Hn(t){return t instanceof Dn&&t.getTypeName()||null}function zn(t){return new Rn(t)}function Bn(t){return new Vn(t)}function Wn(t){return new Ln(t)}function Gn(t){return new Mn(t)}function $n(t){return new Fn(t)}function Kn(t){const e=new Yn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(t){return!1}}()?new Qn(e):e}class Qn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Yn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jn(t){return(t=String(t)).match(Zn)||t.match(Xn)?t:"unsafe:"+t}function tr(t){return(t=String(t)).split(",").map(t=>Jn(t.trim())).join(", ")}function er(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function nr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const rr=er("area,br,col,hr,img,wbr"),ir=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),or=er("rp,rt"),sr=nr(or,ir),ur=nr(rr,nr(ir,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nr(or,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sr),ar=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cr=er("srcset"),lr=nr(ar,cr,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hr=er("script,style,template");class fr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ur.hasOwnProperty(e))return this.sanitizedSomething=!0,!hr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!lr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;ar[i]&&(o=Jn(o)),cr[i]&&(o=tr(o)),this.buf.push(" ",e,'="',gr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ur.hasOwnProperty(e)&&!rr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(gr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const dr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pr=/([^\#-~ |!])/g;function gr(t){return t.replace(/&/g,"&amp;").replace(dr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(pr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yr;function mr(t,e){let n=null;try{yr=yr||Kn(t);let r=e?String(e):"";n=yr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=yr.getInertBodyElement(r)}while(r!==o);return(new fr).sanitizeChildren(vr(n)||n)}finally{if(n){const t=vr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function vr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var br=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function wr(t){const e=function(){const t=zt();return t&&t[12]}();return e?e.sanitize(br.URL,t)||"":qn(t,"URL")?Un(t):Jn(gt(t))}function _r(t){return t.ngDebugContext}function Or(t){return t.ngOriginalError}function Er(t,...e){t.error(...e)}class Cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Er}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_r(t)?_r(t):this._findContext(Or(t)):null}_findOriginalError(t){let e=Or(t);for(;e&&Or(e);)e=Or(e);return e}}const Ir=/-->/g;function Sr(t,e){t.__ngContext__=e}const xr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L))();function Tr(t){return t instanceof Function?t():t}var Ar=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let jr;function kr(t,e){return jr(t,e)}function Nr(t){const e=t[3];return at(e)?e[3]:e}function Pr(t){return Rr(t[13])}function Dr(t){return Rr(t[4])}function Rr(t){for(;null!==t&&!at(t);)t=t[4];return t}function Vr(t,e,n,r,i){if(null!=r){let o,s=!1;at(r)?o=r:ut(r)&&(s=!0,r=r[0]);const u=At(r);0===t&&null!==n?null==i?Kr(e,n,u):$r(e,n,u,i||null,!0):1===t&&null!==n?$r(e,n,u,i||null,!0):2===t?oi(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==At(n)&&Vr(e,t,r,o,i);for(let s=st;s<n.length;s++){const i=n[s];ui(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Lr(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}function Mr(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}function Fr(t,e){return t.createComment(function(t){return t.replace(Ir,"-\u200b-\u200b>")}(e))}function Ur(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function qr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Hr(t,e){if(t.length<=st)return;const n=st+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&qr(o,r),e>0&&(t[n-1][4]=r[4]);const s=dn(t,st+e);ui(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function zr(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&ui(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Br(t[1],t);for(;e;){let n=null;if(ut(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ut(e)&&Br(e[1],e),e=e[3];null===e&&(e=t),ut(e)&&Br(e[1],e),n=e&&e[4]}e=n}}(e)}}function Br(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof xe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):At(e[t]),u=r[i=n[o+2]],a=n[o+3];"boolean"==typeof a?s.removeEventListener(n[o],u,a):a>=0?r[i=a]():r[i=-a].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&at(e[3])){n!==e[3]&&qr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Wr(t,e,n){return Gr(t,e.parent,n)}function Gr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===N.None||e===N.Emulated)return null}return kt(r,n)}function $r(t,e,n,r,i){xt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Kr(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Qr(t,e,n,r,i){null!==r?$r(t,e,n,r,i):Kr(t,e,n)}function Yr(t,e){return xt(t)?t.parentNode(e):e.parentNode}function Zr(t,e,n){return ti(t,e,n)}function Xr(t,e,n){return 40&t.type?kt(t,n):null}let Jr,ti=Xr;function ei(t,e){ti=t,Jr=e}function ni(t,e,n,r){const i=Wr(t,r,e),o=e[11],s=Zr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Qr(o,i,n[u],s,!1);else Qr(o,i,n,s,!1);void 0!==Jr&&Jr(o,r,e,n,i)}function ri(t,e){if(null!==e){const n=e.type;if(3&n)return kt(e,t);if(4&n)return ii(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ri(t,n);{const n=t[e.index];return at(n)?ii(-1,n):At(n)}}if(32&n)return kr(e,t)()||At(t[e.index]);{const n=t[16],r=n[6],i=Nr(n),o=r.projection[e.projection];return null!=o?ri(i,o):ri(t,e.next)}}return null}function ii(t,e){const n=st+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ri(t,r)}return e[7]}function oi(t,e,n){const r=Yr(t,e);r&&function(t,e,n,r){xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function si(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;if(s&&0===e&&(u&&Sr(At(u),r),n.flags|=4),64!=(64&n.flags))if(8&a)si(t,e,n.child,r,i,o,!1),Vr(e,t,i,u,o);else if(32&a){const s=kr(n,r);let a;for(;a=s();)Vr(e,t,i,a,o);Vr(e,t,i,u,o)}else 16&a?ai(t,e,r,n,i,o):Vr(e,t,i,u,o);n=s?n.projectionNext:n.next}}function ui(t,e,n,r,i,o){si(n,r,t.firstChild,e,i,o,!1)}function ai(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)Vr(e,t,i,u[a],o);else si(t,e,u,s[3],i,o,!0)}function ci(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function li(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function hi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const fi="ng-template";function di(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==hi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function pi(t){return 4===t.type&&t.value!==fi}function gi(t,e,n){return e===(4!==t.type||n?t.value:fi)}function yi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ae(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!gi(t,a,n)||""===a&&1===e.length){if(mi(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!di(t.attrs,c,n)){if(mi(r))return!1;s=!0}continue}const l=vi(8&r?"class":a,i,pi(t),n);if(-1===l){if(mi(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==hi(e,c,0)||2&r&&c!==t){if(mi(r))return!1;s=!0}}}}else{if(!s&&!mi(r)&&!mi(a))return!1;if(s&&mi(a))continue;s=!1,r=a|1&r}}return mi(r)||s}function mi(t){return 0==(1&t)}function vi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function bi(t,e,n=!1){for(let r=0;r<e.length;r++)if(yi(t,e[r],n))return!0;return!1}function wi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function _i(t,e){return t?":not("+e.trim()+")":e}function Oi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||mi(s)||(e+=_i(o,i),i=""),r=s,o=o||!mi(r);n++}return""!==i&&(e+=_i(o,i)),e}const Ei={};function Ci(t){Ii(Bt(),zt(),me()+t,Xt())}function Ii(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&_e(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Oe(e,r,0,n)}ve(n)}function Si(t,e){return t<<17|e<<2}function xi(t){return t>>17&32767}function Ti(t){return 2|t}function Ai(t){return(131068&t)>>2}function ji(t,e){return-131069&t|e<<2}function ki(t){return 1|t}function Ni(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ae(i),n.contentQueries(2,e[o],o)}}}function Pi(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ft(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Di(t,e,n,r,i){let o=t.data[e];if(null===o)o=Ri(t,e,n,r,i),qt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=Kt();o.injectorIndex=null===t?-1:t.injectorIndex}return Qt(o,!0),o}function Ri(t,e,n,r,i){const o=$t(),s=Yt(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}function Vi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Li(t,e,n){he(e);try{const r=t.viewQuery;null!==r&&go(1,r,n);const i=t.template;null!==i&&Ui(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ni(t,e),t.staticViewQueries&&go(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)co(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ye()}}function Mi(t,e,n,r){const i=e[2];if(256==(256&i))return;he(e);const o=Xt();try{Ft(e),qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ui(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&_e(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Oe(e,n,0,null),Ee(e,0)}if(function(t){for(let e=Pr(t);null!==e;e=Dr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=Pr(t);null!==e;e=Dr(e))for(let t=st;t<e.length;t++){const n=e[t],r=n[1];Lt(n)&&Mi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ni(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&_e(e,n)}else{const n=t.contentHooks;null!==n&&Oe(e,n,1),Ee(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ve(~r);else{const i=r,o=n[++t],s=n[++t];oe(o,i),s(2,e[i])}}}finally{ve(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)uo(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&go(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&_e(e,n)}else{const n=t.viewHooks;null!==n&&Oe(e,n,2),Ee(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{ye()}}function Fi(t,e,n,r){const i=e[10],o=!Xt(),s=Vt(e);try{o&&!s&&i.begin&&i.begin(),s&&Li(t,e,r),Mi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ui(t,e,n,r,i){const o=me();try{ve(-1),2&r&&e.length>ot&&Ii(t,e,ot,Xt()),n(r,i)}finally{ve(o)}}function qi(t,e,n){if(ct(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Hi(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Fe(n,e),Sr(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=ft(r);o&&no(e,n,r);const a=Ze(e,t,u,n);Sr(a,e),null!==s&&io(0,u-i,a,r,0,s),o&&(Dt(n.index,e)[8]=a)}}(t,e,n,kt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qt.lFrame.currentDirectiveIndex;try{ve(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];se(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Zi(r,i)}}finally{ve(-1),se(s)}}(t,e,n))}function zi(t,e,n=kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function Bi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Wi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Wi(t,e,n,r,i,o,s,u,a,c){const l=ot+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ei);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function Gi(t,e,n,r){const i=mo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&vo(t).push(r,i.length-1))}function $i(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ki(t,e,n,r,i,o,s,u){const a=kt(e,n);let c,l=e.inputs;var h;!u&&null!=l&&(c=l[r])?(wo(t,n,c,r,i),lt(e)&&function(t,e){const n=Dt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,xt(o)?o.setProperty(a,r,i):je(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}function Qi(t,e,n,r){let i=!1;if(Ht()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];bi(n,s.selectors,!1)&&(i||(i=[]),ze(Fe(n,e),t,s.type),ft(s)?(Xi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,to(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,u=!1,a=Vi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=ke(n.mergedAttrs,c.hostAttrs),eo(t,n,e,a,c),Ji(a,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),a++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||pi(e)?null:oo(n,i);o.push(c),s=$i(n,a,s),u=$i(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new pt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=ke(n.mergedAttrs,n.attrs),i}function Yi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Zi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Xi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ji(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ft(e)&&(n[""]=t)}}function to(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function eo(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=dt(i.type)),s=new xe(o,ft(i),null);t.blueprint[r]=s,n[r]=s,Yi(t,e,0,r,Vi(t,n,i.hostVars,Ei),i)}function no(t,e,n){const r=kt(e,t),i=Bi(n),o=t[10],s=lo(t,Pi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function ro(t,e,n,r,i,o,s){if(null==o)xt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const u=null==s?gt(o):s(o,r||"",i);xt(t)?t.setAttribute(e,i,u,n):n?e.setAttributeNS(n,i,u):e.setAttribute(i,u)}}function io(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function oo(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function so(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function uo(t,e){const n=Dt(e,t);if(Lt(n)){const t=n[1];80&n[2]?Mi(t,n,t.template,n[8]):n[5]>0&&ao(n)}}function ao(t){for(let n=Pr(t);null!==n;n=Dr(n))for(let t=st;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Mi(t,e,t.template,e[8])}else e[5]>0&&ao(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Dt(e[n],t);Lt(r)&&r[5]>0&&ao(r)}}function co(t,e){const n=Dt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Li(r,n,n[8])}function lo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ho(t){for(;t;){t[2]|=64;const e=Nr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function fo(t,e,n){const r=e[10];r.begin&&r.begin();try{Mi(t,e,t.template,n)}catch(i){throw bo(e,i),i}finally{r.end&&r.end()}}function po(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Rt(n),i=r[1];Fi(i,r,i.template,n)}}(t[8])}function go(t,e,n){ae(0),e(t,n)}const yo=(()=>Promise.resolve(null))();function mo(t){return t[7]||(t[7]=[])}function vo(t){return t.cleanup||(t.cleanup=[])}function bo(t,e){const n=t[9],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function wo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function _o(t,e,n){const r=jt(e,t);Mr(t[11],r,n)}function Oo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Eo=new un("INJECTOR",-1);class Co{get(t,e=En){if(e===En){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Io=new un("Set Injector scope."),So={},xo={},To=[];let Ao=void 0;function jo(){return void 0===Ao&&(Ao=new Co),Ao}function ko(t,e=null,n=null,r){return new No(t,n,e||jo(),r)}class No{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&hn(e,n=>this.processProvider(n,t,e)),hn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Eo,Ro(void 0,this));const o=this.records.get(Io);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=En,n=S.Default){this.assertNotDestroyed();const r=An(this);try{if(!(n&S.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof un)&&b(t);e=n&&this.injectableDefInScope(n)?Ro(Po(t),So):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&S.Self?jo():this.parent).get(t,e=n&S.Optional&&e===En?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[In]&&i.unshift(e[In]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Cn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{An(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=_(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=_(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{hn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];hn(r,t=>this.processProvider(t,n,r||To))}}this.injectorDefTypes.add(o),this.records.set(o,Ro(r.factory,So));const u=r.providers;if(null!=u&&!s){const e=t;hn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Lo(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Vo(t)?Ro(void 0,t.useValue):Ro(Do(t),So)}(t);if(Lo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Ro(void 0,So,!0),e.factory=()=>Nn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===So&&(e.value=xo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Po(t){const e=b(t),n=null!==e?e.factory:dt(t);if(null!==n)return n;const r=_(t);if(null!==r)return r.factory;if(t instanceof un)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=pn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[C]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Do(t,e,n){let r=void 0;if(Lo(t)){const e=p(t);return dt(e)||Po(e)}if(Vo(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Nn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>kn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return dt(e)||Po(e);r=()=>new e(...Nn(t.deps))}var i;return r}function Ro(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Vo(t){return null!==t&&"object"==typeof t&&Sn in t}function Lo(t){return"function"==typeof t}const Mo=function(t,e,n){return function(t,e=null,n=null,r){const i=ko(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Fo=(()=>{class t{static create(t,e){return Array.isArray(t)?Mo(t,e,""):Mo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=En,t.NULL=new Co,t.\u0275prov=m({token:t,providedIn:"any",factory:()=>kn(Eo)}),t.__NG_ELEMENT_ID__=-1,t})();function Uo(t,e){we(Rt(t)[1],Gt())}function qo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(ft(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ho(t.inputs),e.declaredInputs=Ho(t.declaredInputs),e.outputs=Ho(t.outputs);const n=i.hostBindings;n&&Wo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&zo(t,o),s&&Bo(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),ft(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===qo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ke(i.hostAttrs,n=ke(n,i.hostAttrs))}}(r)}function Ho(t){return t===M?{}:t===F?[]:t}function zo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Bo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Wo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Go=null;function $o(){if(!Go){const t=L.Symbol;if(t&&t.iterator)Go=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Go=n)}}}return Go}class Ko{constructor(t){this.wrapped=t}static wrap(t){return new Ko(t)}static unwrap(t){return Ko.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ko}}function Qo(t){return!!Yo(t)&&(Array.isArray(t)||!(t instanceof Map)&&$o()in t)}function Yo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Zo(t,e,n){return t[e]=n}function Xo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Jo(t,e,n,r){const i=Xo(t,e,n);return Xo(t,e+1,r)||i}function ts(t,e,n,r){const i=zt();return Xo(i,ne(),e)&&(Bt(),function(t,e,n,r,i,o){const s=kt(t,e);ro(e[11],s,o,t.value,n,r,i)}(be(),i,t,e,n,r)),ts}function es(t,e,n,r){return Xo(t,ne(),n)?e+gt(n)+r:Ei}function ns(t,e,n,r,i,o,s,u){const a=zt(),c=Bt(),l=t+ot,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=Di(e,t,4,s||null,Mt(c,u));Qi(e,n,l,Mt(c,a)),we(e,l);const h=l.tViews=Wi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,s):c.data[l];Qt(h,!1);const f=a[11].createComment("");ni(c,a,f,h),Sr(f,a),lo(a,a[l]=so(f,a,f,h)),ht(h)&&Hi(c,a,h),null!=s&&zi(a,h,u)}function rs(t){return Pt(qt.lFrame.contextLView,ot+t)}function is(t,e=S.Default){const n=zt();return null===n?kn(t,e):Ge(Gt(),n,p(t),e)}function os(t,e,n){const r=zt();return Xo(r,ne(),e)&&Ki(Bt(),be(),r,t,e,r[11],n,!1),os}function ss(t,e,n,r,i){const o=i?"class":"style";wo(t,n,e.inputs[o],o,r)}function us(t,e,n,r){const i=zt(),o=Bt(),s=ot+t,u=i[11],a=i[s]=Ur(u,e,qt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=Di(e,t,2,i,Mt(u,o));return Qi(e,n,a,Mt(u,s)),null!==a.attrs&&Oo(a,a.attrs,!1),null!==a.mergedAttrs&&Oo(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(s,o,i,0,e,n,r):o.data[s];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Te(u,a,l);const h=c.classes;null!==h&&li(u,a,h);const f=c.styles;null!==f&&ci(u,a,f),64!=(64&c.flags)&&ni(o,i,a,c),0===qt.lFrame.elementDepthCount&&Sr(a,i),qt.lFrame.elementDepthCount++,ht(c)&&(Hi(o,i,c),qi(o,c,i)),null!==r&&zi(i,c)}function as(){let t=Gt();Yt()?Zt():(t=t.parent,Qt(t,!1));const e=t;qt.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(we(n,t),ct(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ss(n,e,zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ss(n,e,zt(),e.stylesWithoutHost,!1)}function cs(t,e,n,r){us(t,e,n,r),as()}function ls(t,e,n){const r=zt(),i=Bt(),o=t+ot,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Mt(o,r),u=Di(e,t,8,"ng-container",s);return null!==s&&Oo(u,s,!0),Qi(e,n,u,Mt(o,i)),null!==e.queries&&e.queries.elementStart(e,u),u}(o,i,r,e,n):i.data[o];Qt(s,!0);const u=r[o]=r[11].createComment("");ni(i,r,u,s),Sr(u,r),ht(s)&&(Hi(i,r,s),qi(i,s,r)),null!=n&&zi(r,s)}function hs(){let t=Gt();const e=Bt();Yt()?Zt():(t=t.parent,Qt(t,!1)),e.firstCreatePass&&(we(e,t),ct(t)&&e.queries.elementEnd(t))}function fs(){return zt()}function ds(t){return!!t&&"function"==typeof t.then}function ps(t){return!!t&&"function"==typeof t.subscribe}function gs(t,e,n=!1,r){const i=zt(),o=Bt(),s=Gt();return function(t,e,n,r,i,o,s=!1,u){const a=ht(r),c=t.firstCreatePass&&vo(t),l=mo(e);let h=!0;if(3&r.type){const f=kt(r,e),d=u?u(f):M,p=d.target||f,g=l.length,y=u?t=>u(At(t[r.index])).target:r.index;if(xt(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ms(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,y,g,g+1)}}else o=ms(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,g,s)}else o=ms(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),gs}function ys(t,e,n){try{return!1!==e(n)}catch(r){return bo(t,r),!1}}function ms(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Dt(t.index,e):e;0==(32&e[2])&&ho(s);let u=ys(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=ys(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function vs(t=1){return function(t){return(qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qt.lFrame.contextLView))[8]}(t)}function bs(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?bi(t,o,!0):wi(r,o))return i}else n=i}return n}function ws(t){const e=zt()[16][6];if(!e.projection){const n=e.projection=pn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?bs(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function _s(t,e=0,n){const r=zt(),i=Bt(),o=Di(i,ot+t,16,null,n||null);null===o.projection&&(o.projection=e),Zt(),64!=(64&o.flags)&&function(t,e,n){ai(e[11],0,e,n,Wr(t,n,e),Zr(n.parent||e[6],n,e))}(i,r,o)}function Os(t,e,n){return Es(t,"",e,"",n),Os}function Es(t,e,n,r,i){const o=zt(),s=es(o,e,n,r);return s!==Ei&&Ki(Bt(),be(),o,t,s,o[11],i,!1),Es}const Cs=[];function Is(t,e,n,r,i){const o=t[n+1],s=null===e;let u=r?xi(o):Ai(o),a=!1;for(;0!==u&&(!1===a||s);){const n=t[u+1];Ss(t[u],e)&&(a=!0,t[u+1]=r?ki(n):Ti(n)),u=r?xi(n):Ai(n)}a&&(t[n+1]=r?Ti(o):ki(o))}function Ss(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mn(t,e)>=0}const xs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ts(t){return t.substring(xs.key,xs.keyEnd)}function As(t,e){const n=xs.textEnd;return n===e?-1:(e=xs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,xs.key=e,n),js(t,e,n))}function js(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ks(t,e,n){return Rs(t,e,n,!1),ks}function Ns(t,e){return Rs(t,e,null,!0),Ns}function Ps(t){Vs(gn,Ds,t,!0)}function Ds(t,e){for(let n=function(t){return function(t){xs.key=0,xs.keyEnd=0,xs.value=0,xs.valueEnd=0,xs.textEnd=t.length}(t),As(t,js(t,0,xs.textEnd))}(e);n>=0;n=As(e,n))gn(t,Ts(e),!0)}function Rs(t,e,n,r){const i=zt(),o=Bt(),s=re(2);o.firstUpdatePass&&Ms(o,t,s,r),e!==Ei&&Xo(i,s,e)&&qs(o,o.data[me()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Un(t)))),t}(e,n),r,s)}function Vs(t,e,n,r){const i=Bt(),o=re(2);i.firstUpdatePass&&Ms(i,null,o,r);const s=zt();if(n!==Ei&&Xo(s,o,n)){const u=i.data[me()];if(Bs(u,r)&&!Ls(i,o)){let t=r?u.classesWithoutHost:u.stylesWithoutHost;null!==t&&(n=h(t,n||"")),ss(i,u,s,n,r)}else!function(t,e,n,r,i,o,s,u){i===Ei&&(i=Cs);let a=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=a<i.length?i[a+1]:void 0,d=c<o.length?o[c+1]:void 0;let p=null,g=void 0;l===h?(a+=2,c+=2,f!==d&&(p=h,g=d)):null===h||null!==l&&l<h?(a+=2,p=l):(c+=2,p=h,g=d),null!==p&&qs(t,e,n,r,p,g,s,u),l=a<i.length?i[a]:null,h=c<o.length?o[c]:null}}(i,u,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Cs;const r=[],i=Un(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Ls(t,e){return e>=t.expandoStartIndex}function Ms(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[me()],s=Ls(t,n);Bs(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Us(n=Fs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Fs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ai(r))return t[xi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Fs(null,t,e,n[1],r),n=Us(n,e.attrs,r),function(t,e,n,r){t[xi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Us(r,t[o].hostAttrs,n);return Us(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,u=xi(s),a=Ai(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||mn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==a){const e=xi(t[u+1]);t[r+1]=Si(e,u),0!==e&&(t[e+1]=ji(t[e+1],r)),t[u+1]=131071&t[u+1]|r<<17}else t[r+1]=Si(u,0),0!==u&&(t[u+1]=ji(t[u+1],r)),u=r;else t[r+1]=Si(a,0),0===u?u=r:t[a+1]=ji(t[a+1],r),a=r;l&&(t[r+1]=Ti(t[r+1])),Is(t,c,r,!0),Is(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&mn(o,e)>=0&&(n[r+1]=ki(n[r+1]))}(e,c,t,r,o),s=Si(u,a),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Fs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<s&&(o=e[u],r=Us(r,o.hostAttrs,i),o!==t);)u++;return null!==t&&(n.directiveStylingLast=u),r}function Us(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),gn(t,s,!!n||e[++o]))}return void 0===t?null:t}function qs(t,e,n,r,i,o,s,u){if(!(3&e.type))return;const a=t.data,c=a[u+1];zs(1==(1&c)?Hs(a,e,n,i,Ai(c),s):void 0)||(zs(o)||2==(2&c)&&(o=Hs(a,null,n,i,u,s)),function(t,e,n,r,i){const o=xt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Ar.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Ar.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,jt(me(),n),i,o))}function Hs(t,e,n,r,i,o){const s=null===e;let u=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),a=o?e[1]:e,c=null===a;let l=n[i+1];l===Ei&&(l=c?Cs:void 0);let h=c?yn(l,r):a===r?l:void 0;if(o&&!zs(h)&&(h=yn(e,r)),zs(h)&&(u=h,s))return u;const f=t[i+1];i=s?xi(f):Ai(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(u=yn(t,r))}return u}function zs(t){return void 0!==t}function Bs(t,e){return 0!=(t.flags&(e?16:32))}function Ws(t,e=""){const n=zt(),r=Bt(),i=t+ot,o=r.firstCreatePass?Di(r,i,1,e,null):r.data[i],s=n[i]=Lr(n[11],e);ni(r,n,s,o),Qt(o,!1)}function Gs(t){return $s("",t,""),Gs}function $s(t,e,n){const r=zt(),i=es(r,t,e,n);return i!==Ei&&_o(r,me(),i),$s}function Ks(t,e,n,r,i){const o=zt(),s=function(t,e,n,r,i,o){const s=Jo(t,ee(),n,i);return re(2),s?e+gt(n)+r+gt(i)+o:Ei}(o,t,e,n,r,i);return s!==Ei&&_o(o,me(),s),Ks}function Qs(t,e,n,r,i,o,s,u,a){Vs(gn,Ds,function(t,e,n,r,i,o,s,u,a,c){const l=function(t,e,n,r,i,o){const s=Jo(t,e,n,r);return Jo(t,e+2,i,o)||s}(t,ee(),n,i,s,a);return re(4),l?e+gt(n)+r+gt(i)+o+gt(s)+u+gt(a)+c:Ei}(zt(),t,e,n,r,i,o,s,u,a),!0)}function Ys(t,e,n){const r=zt();return Xo(r,ne(),e)&&Ki(Bt(),be(),r,t,e,r[11],n,!0),Ys}const Zs=void 0;var Xs=["en",[["a","p"],["AM","PM"],Zs],[["AM","PM"],Zs,Zs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zs,"{1} 'at' {0}",Zs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Js={};function tu(t,e,n){"string"!=typeof e&&(n=e,e=t[ou.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Js[e]=t,n&&(Js[e][ou.ExtraData]=n)}function eu(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=iu(e);if(n)return n;const r=e.split("-")[0];if(n=iu(r),n)return n;if("en"===r)return Xs;throw new Error(`Missing locale data for the locale "${t}".`)}function nu(t){return eu(t)[ou.CurrencyCode]||null}function ru(t){return eu(t)[ou.PluralCase]}function iu(t){return t in Js||(Js[t]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[t]),Js[t]}var ou=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const su=["zero","one","two","few","many"],uu="en-US",au={marker:"element"},cu={marker:"ICU"};var lu=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let hu=uu;function fu(t){var e;null==(e=t)&&y("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(hu=t.toLowerCase().replace(/_/g,"-"))}function du(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Xr(t,0,n):At(n[i])}function pu(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,u=null;if(3&e.type||(u=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)$r(t,s,n[o[e]],u,!1)}}function gu(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];yu(r)||mu(r,e)&&null===vu(r)&&bu(r,e.index)}}function yu(t){return!(64&t.type)}function mu(t,e){return yu(e)||t.index>e.index}function vu(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function bu(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ei(du,pu),t.insertBeforeIndex=e)}function wu(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function _u(t,e,n){const r=Ri(t,n,64,null,null);return gu(e,r),r}function Ou(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Eu=0,Cu=0;function Iu(t,e,n,r){const i=n[11];let o,s=null;for(let u=0;u<e.length;u++){const a=e[u];if("string"==typeof a){const t=e[++u];null===n[t]&&(n[t]=Lr(i,a))}else if("number"==typeof a)switch(1&a){case 0:const c=a>>>17;let l,h;if(null===s&&(s=c,o=Yr(i,r)),c===s?(l=r,h=o):(l=null,h=At(n[c])),null!==h){const e=(131070&a)>>>1;$r(i,h,n[e],l,!1);const r=wu(t,e);if(null!==r&&"object"==typeof r){const e=Ou(r,n);null!==e&&Iu(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++u],d=e[++u];ro(i,jt(a>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${a}"`)}else switch(a){case cu:const t=e[++u],r=e[++u];null===n[r]&&Sr(n[r]=Fr(i,t),n);break;case au:const o=e[++u],s=e[++u];null===n[s]&&Sr(n[s]=Ur(i,o,null),n)}}}function Su(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],u=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+u;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=gt(e[r-o]);else{const u=o>>>2;switch(3&o){case 1:const o=n[++s],a=n[++s],c=t.data[u];"string"==typeof c?ro(e[11],e[u],null,c,o,i,a):Ki(t,c,e,o,i,e[11],a,!1);break;case 0:const l=e[u];null!==l&&Mr(e[11],l,i);break;case 2:Tu(t,wu(t,u),e,i);break;case 3:xu(t,wu(t,u),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=wu(t,i>>>2);e[n.currentCaseLViewIndex]<0&&xu(t,n,r,e)}}o+=u}}function xu(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=Eu;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Su(t,r,e.update[i],n,o)}}function Tu(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=ru(e)(parseInt(t,10)),r=su[n];return void 0!==r?r:"other"}(e,hu);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Ou(e,n)!==i&&(Au(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Iu(t,e.create[i],n,r)}}function Au(t,e,n){let r=Ou(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=jt(r,n);null!==t&&oi(n[11],t)}else Au(t,wu(t,~r),n)}}}const ju=/\ufffd(\d+):?\d*\ufffd/gi,ku=/\ufffd(\d+)\ufffd/,Nu=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Pu=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Du=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ru=/\uE500/g;function Vu(t,e,n,r,i,o,s){const u=Vi(t,r,1,null);let a=u<<lu.SHIFT,c=Kt();e===c&&(c=null),null===c&&(a|=lu.APPEND_EAGERLY),s&&(a|=lu.COMMENT,void 0===jr&&(jr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Ou(t,e);n=null!==i?t.remove[i]:F}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(a,null===o?"":o);const l=Ri(t,u,s?32:1,null===o?"":o,null);gu(n,l);const h=l.index;return Qt(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(ei(du,pu),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&y("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function Lu(t,e,n,r,i,o,s){const u=s.match(ju),a=Vu(t,e,n,o,r,u?null:s,!1);u&&Mu(i,s,a.index)}function Mu(t,e,n,r,i=null){const o=t.length,s=o+1;t.push(null,null);const u=o+2,a=e.split(ju);let c=0;for(let l=0;l<a.length;l++){const e=a[l];if(1&l){const n=parseInt(e,10);t.push(-1-n),c|=Fu(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[s]=t.length-u,c}function Fu(t){return 1<<Math.min(t,31)}function Uu(t){let e,n,r="",i=0,o=!1;for(;null!==(e=Pu.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function qu(t,e,n,r,i,o){let s=0;const u={type:i.type,currentCaseLViewIndex:Vi(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Fu(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,u);const a=i.values;for(let c=0;c<a.length;c++){const o=a[c],l=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=l.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=Bu(t,u,e,n,r,i.cases[c],o.join(""),l)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function Hu(t){const e=[],n=[];let r=1,i=0;const o=zu(t=t.replace(Nu,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=zu(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function zu(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Nu.test(n)?r.push(Hu(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function Bu(t,e,n,r,i,o,s,u){const a=[],c=[],l=[];e.cases.push(o),e.create.push(a),e.remove.push(c),e.update.push(l);const h=Kn(St()).getInertBodyElement(s),f=vr(h)||h;return f?Wu(t,e,n,r,a,c,l,f,i,u,0):0}function Wu(t,e,n,r,i,o,s,u,a,c,l){let h=0,f=u.firstChild;for(;f;){const u=Vi(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(ur.hasOwnProperty(p)){Ku(i,au,p,a,u),t.data[u]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(ju)?lr.hasOwnProperty(n)&&(ar[n]?Mu(s,e.value,u,e.name,Jn):cr[n]?Mu(s,e.value,u,e.name,tr):Mu(s,e.value,u,e.name)):Qu(i,u,e)}h=Wu(t,e,n,r,i,o,s,f,u,c,l+1)|h,Gu(o,u,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",y=g.match(ju);Ku(i,null,y?"":g,a,u),Gu(o,u,l),y&&(h=Mu(s,g,u)|h);break;case Node.COMMENT_NODE:const m=ku.exec(f.textContent||"");if(m){const e=c[parseInt(m[1],10)];Ku(i,cu,"",a,u),qu(t,n,r,a,e,u),$u(o,u,l)}}f=f.nextSibling}return h}function Gu(t,e,n){0===n&&t.push(e)}function $u(t,e,n){0===n&&(t.push(~e),t.push(e))}function Ku(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Qu(t,e,n){t.push(e<<1|1,n.name,n.value)}function Yu(t,e,n){(function(t,e,n=-1){const r=Bt(),i=zt(),o=ot+t,s=Mt(r.consts,e),u=Kt();r.firstCreatePass&&function(t,e,n,r,i,o){const s=Kt(),u=[],a=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return Uu(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Uu(t.substring(n,r))}}(i,o),h.replace(Ru," ")).split(Du);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const o=zu(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const e=l;""!==e&&Lu(t,s,c[0],u,a,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);qu(t,n,a,e,r,Vu(t,s,c[0],n,u,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),ot+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),Qt(Kt(),!1);else{const e=_u(t,c[0],n);c.unshift([]),Qt(e,!0)}}}t.data[r]={create:u,update:a}}(r,null===u?0:u.index,i,o,s,n);const a=r.data[o],c=Gr(r,u===i[6]?null:u,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],u=e[o],a=(s&lu.COMMENT)===lu.COMMENT,c=(s&lu.APPEND_EAGERLY)===lu.APPEND_EAGERLY,l=s>>>lu.SHIFT;let h=t[l];null===h&&(h=t[l]=a?i.createComment(u):Lr(i,u)),c&&null!==n&&$r(i,n,h,r,!1)}}(i,a.create,c,u&&8&u.type?i[u.index]:null),ie(!0)})(t,e,n),ie(!1)}function Zu(t){return Xo(zt(),ne(),t)&&(Eu|=1<<Math.min(Cu,31)),Cu++,Zu}function Xu(t){!function(t,e,n){if(Cu>0){const r=t.data[n];Su(t,e,Array.isArray(r)?r:r.update,ee()-Cu-1,Eu)}Eu=0,Cu=0}(Bt(),zt(),t+ot)}function Ju(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ju(t[o],e,n,r,i);else{const o=Bt(),s=zt();let u=Lo(t)?t:p(t.provide),a=Do(t);const c=Gt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Lo(t)||!t.multi){const r=new xe(a,i,is),d=na(u,e,i?l:l+f,h);-1===d?(ze(Fe(c,s),o,u),ta(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=na(u,e,l+f,h),p=na(u,e,l,l+f),g=d>=0&&n[d],y=p>=0&&n[p];if(i&&!y||!i&&!g){ze(Fe(c,s),o,u);const l=function(t,e,n,r,i){const o=new xe(t,n,is);return o.multi=[],o.index=e,o.componentProviders=0,ea(o,i,r&&!n),o}(i?ia:ra,n.length,i,r,a);!i&&y&&(n[p].providerFactory=l),ta(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ta(o,t,d>-1?d:p,ea(n[i?p:d],a,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function ta(t,e,n,r){const i=Lo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ea(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function na(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ra(t,e,n,r){return oa(this.multi,[])}function ia(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ze(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),oa(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],oa(i,o);return o}function oa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function sa(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Bt();if(r.firstCreatePass){const i=ft(t);Ju(n,r.data,r.blueprint,i,!0),Ju(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ua{}class aa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ca=(()=>{class t{}return t.NULL=new aa,t})();function la(...t){}function ha(t,e){return new da(kt(t,e))}const fa=function(){return ha(Gt(),zt())};let da=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=fa,t})();class pa{}let ga=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ya(),t})();const ya=function(){const t=zt(),e=Dt(Gt().index,t);return function(t){return t[11]}(ut(e)?e:t)};let ma=(()=>{class t{}return t.\u0275prov=m({token:t,providedIn:"root",factory:()=>null}),t})();class va{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ba=new va("11.0.9");class wa{constructor(){}supports(t){return Qo(t)}create(t){return new Oa(t)}}const _a=(t,e)=>e;class Oa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||_a}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Sa(n,r,i)?e:n,s=Sa(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Qo(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[$o()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ea(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ia),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ia),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ea{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ca{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ia{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ca,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class xa{constructor(){}supports(t){return t instanceof Map||Yo(t)}create(){return new Ta}}class Ta{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Yo(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Aa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Aa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ja=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _n,new bn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=m({token:t,providedIn:"root",factory:()=>new t([new wa])}),t})(),ka=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _n,new bn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=m({token:t,providedIn:"root",factory:()=>new t([new xa])}),t})();function Na(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(At(o)),at(o))for(let t=st;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Na(e[1],e,n,r)}const s=n.type;if(8&s)Na(t,e,n.child,r);else if(32&s){const t=kr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Nr(t);Na(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Pa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Na(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(at(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Hr(t,n),dn(e,n))}this._attachedToViewContainer=!1}zr(this._lView[1],this._lView)}onDestroy(t){Gi(this._lView[1],this._lView,null,t)}markForCheck(){ho(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){fo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{fo(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ui(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Da extends Pa{constructor(t){super(t),this._view=t}detectChanges(){po(this._view)}checkNoChanges(){!function(t){Jt(!0);try{po(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const Ra=La;let Va=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ra,t.__ChangeDetectorRef__=!0,t})();function La(t=!1){return function(t,e,n){if(!n&&lt(t)){const n=Dt(t.index,e);return new Pa(n,n)}return 47&t.type?new Pa(e[16],e):null}(Gt(),zt(),t)}const Ma=[new xa],Fa=new ja([new wa]),Ua=new ka(Ma),qa=function(){return Wa(Gt(),zt())};let Ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=qa,t})();const za=Ha,Ba=class extends za{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Pi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Li(e,n,t),new Pa(n)}};function Wa(t,e){return 4&t.type?new Ba(e,t,ha(t,e)):null}class Ga{}class $a{}const Ka=function(){return tc(Gt(),zt())};let Qa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ka,t})();const Ya=Qa,Za=class extends Ya{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ha(this._hostTNode,this._hostLView)}get injector(){return new tn(this._hostTNode,this._hostLView)}get parentInjector(){const t=He(this._hostTNode,this._hostLView);if(Pe(t)){const e=Re(t,this._hostLView),n=De(t);return new tn(e[1].data[n+8],e)}return new tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Xa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-st}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ga,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(at(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Za(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=st+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-st?(e[4]=n[i],fn(n,st+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,o,i);const s=ii(i,o),u=n[11],a=Yr(u,o[7]);return null!==a&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,ui(t,r,n,1,i,o)}(r,o[6],u,n,a,s),t.attachToViewContainerRef(),fn(Ja(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Xa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Hr(this._lContainer,e);n&&(dn(Ja(this._lContainer),e),zr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Hr(this._lContainer,e);return n&&null!=dn(Ja(this._lContainer),e)?new Pa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Xa(t){return t[8]}function Ja(t){return t[8]||(t[8]=[])}function tc(t,e){let n;const r=e[t.index];if(at(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=kt(t,e);$r(n,Yr(n,r),i,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=so(r,e,i,t),lo(e,n)}return new Za(n,t,e)}const ec={};class nc extends ca{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=rt(t);return new oc(e,this.ngModule)}}function rc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ic=new un("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>xr});class oc extends ua{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Oi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return rc(this.componentDef.inputs)}get outputs(){return rc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ec,i);return o!==ec||r===ec?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(pa,Tt),s=i.get(ma,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===N.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):Ur(o.createRenderer(null,this.componentDef),a,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:xr,clean:yo,playerHandler:null,flags:0},f=Wi(0,null,null,1,0,null,null,null,null,null),d=Pi(null,f,h,l,null,null,o,u,s,i);let p,g;he(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=Di(s,20,2,"#host",null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(Oo(u,a,!0),null!==t&&(Te(i,t,a),null!==u.classes&&li(i,t,u.classes),null!==u.styles&&ci(i,t,u.styles)));const c=r.createRenderer(t,e),l=Pi(n,Bi(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(ze(Fe(u,n),s,e.type),Xi(s,u),to(u,n.length,1)),lo(n,l),n[20]=l}(c,this.componentDef,d,o,u);if(c)if(n)Te(u,c,["ng-version",ba.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!mi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(u,c,t),e&&e.length>0&&li(u,c,e.join(" "))}if(g=Nt(f,ot),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),eo(t,r,e,Vi(t,e,1,null),n));const i=Ze(e,t,r.directiveStart,r);Sr(i,e);const o=kt(r,e);return o&&Sr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Gt();e.contentQueries(1,s,t.directiveStart)}const u=Gt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ve(u.index),Yi(n[1],u,0,u.directiveStart,u.directiveEnd,e),Zi(e,s)),s}(t,this.componentDef,d,h,[Uo]),Li(f,d,null)}finally{ye()}return new sc(this.componentType,p,ha(g,d),d,g)}}class sc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Da(r),this.componentType=t}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const uc=new Map;class ac extends Ga{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new nc(this);const n=it(t),r=t[B]||null;r&&fu(r),this._bootstrapComponents=Tr(n.bootstrap),this._r3Injector=ko(t,e,[{provide:Ga,useValue:this},{provide:ca,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Fo.THROW_IF_NOT_FOUND,n=S.Default){return t===Fo||t===Ga||t===Eo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class cc extends $a{constructor(t){super(),this.moduleType=t,null!==it(t)&&function(t){const e=new Set;!function t(n){const r=it(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,uc.get(i),n),uc.set(i,n));const o=Tr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new ac(this.moduleType,t)}}function lc(t,e,n,r){return pc(zt(),te(),t,e,n,r)}function hc(t,e,n,r,i){return function(t,e,n,r,i,o,s){const u=e+n;return Jo(t,u,i,o)?Zo(t,u+2,s?r.call(s,i,o):r(i,o)):dc(t,u+2)}(zt(),te(),t,e,n,r,i)}function fc(t,e,n,r,i,o){return function(t,e,n,r,i,o,s,u){const a=e+n;return function(t,e,n,r,i){const o=Jo(t,e,n,r);return Xo(t,e+2,i)||o}(t,a,i,o,s)?Zo(t,a+3,u?r.call(u,i,o,s):r(i,o,s)):dc(t,a+3)}(zt(),te(),t,e,n,r,i,o)}function dc(t,e){const n=t[e];return n===Ei?void 0:n}function pc(t,e,n,r,i,o){const s=e+n;return Xo(t,s,i)?Zo(t,s+1,o?r.call(o,i):r(i)):dc(t,s+1)}function gc(t,e){const n=Bt();let r;const i=t+ot;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new pt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=dt(r.type)),s=T(is);try{const t=Le(!1),e=o();return Le(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,zt(),i,e),e}finally{T(s)}}function yc(t,e,n){const r=t+ot,i=zt(),o=Pt(i,r);return function(t,e){return Ko.isWrapped(e)&&(e=Ko.unwrap(e),t[ee()]=Ei),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?pc(i,te(),e,o.transform,n,o):o.transform(n))}const mc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const u=super.subscribe(r,o,s);return t instanceof i.a&&t.add(u),u}};function vc(){return this._results[$o()]()}class bc{constructor(){this.dirty=!0,this._results=[],this.changes=new mc,this.length=0;const t=$o(),e=bc.prototype;e[t]||(e[t]=vc)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=ln(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class wc{constructor(t){this.queryList=t,this.matches=null}clone(){return new wc(this.queryList)}setDirty(){this.queryList.setDirty()}}class _c{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new _c(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Fc(t,e).matches&&this.queries[e].setDirty()}}class Oc{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Ec{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ec(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Cc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Cc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ic(e,i)),this.matchTNodeWithReadOption(t,e,Ye(e,t,i,!1,!1))}else n===Ha?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ye(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===da||r===Qa||r===Ha&&4&e.type)this.addMatch(e.index,-2);else{const n=Ye(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ic(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Sc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?ha(t,e):4&t.type?Wa(t,e):null}(e,t):-2===n?function(t,e,n){return n===da?ha(e,t):n===Ha?Wa(e,t):n===Qa?tc(e,t):void 0}(t,e,r):Ze(t,t[1],n,e)}function xc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Sc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Tc(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=xc(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=st;t<s.length;t++){const e=s[t];e[17]===e[3]&&Tc(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Tc(n[1],n,i,r)}}}}}return r}function Ac(t){const e=zt(),n=Bt(),r=ue();ae(r+1);const i=Fc(n,r);if(t.dirty&&Vt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Tc(n,e,r,[]):xc(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function jc(t,e,n){Nc(Bt(),zt(),t,e,n,!0)}function kc(t,e,n){Nc(Bt(),zt(),t,e,n,!1)}function Nc(t,e,n,r,i,o){t.firstCreatePass&&(Mc(t,new Oc(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),Lc(t,e)}function Pc(t,e,n,r){Rc(Bt(),zt(),e,n,r,!1,Gt(),t)}function Dc(t,e,n,r){Rc(Bt(),zt(),e,n,r,!0,Gt(),t)}function Rc(t,e,n,r,i,o,s,u){t.firstCreatePass&&(Mc(t,new Oc(n,r,o,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,u),o&&(t.staticContentQueries=!0)),Lc(t,e)}function Vc(){return t=zt(),e=ue(),t[19].queries[e].queryList;var t,e}function Lc(t,e){const n=new bc;Gi(t,e,n,n.destroy),null===e[19]&&(e[19]=new _c),e[19].queries.push(new wc(n))}function Mc(t,e,n){null===t.queries&&(t.queries=new Ec),t.queries.track(new Cc(e,n))}function Fc(t,e){return t.queries.getByIndex(e)}function Uc(t,e){return Wa(t,e)}function qc(t=S.Default){const e=La(!0);if(null!=e||t&S.Optional)return e;mt("ChangeDetectorRef")}const Hc=new un("Application Initializer");let zc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=la,this.reject=la,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ds(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(kn(Hc,8))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const Bc=new un("AppId"),Wc={provide:Bc,useFactory:function(){return`${Gc()}${Gc()}${Gc()}`},deps:[]};function Gc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $c=new un("Platform Initializer"),Kc=new un("Platform ID"),Qc=new un("appBootstrapListener");let Yc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const Zc=new un("LocaleId"),Xc=new un("DefaultCurrencyCode");class Jc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const tl=function(t){return new cc(t)},el=tl,nl=function(t){return Promise.resolve(tl(t))},rl=function(t){const e=tl(t),n=Tr(it(t).declarations).reduce((t,e)=>{const n=rt(e);return n&&t.push(new oc(n)),t},[]);return new Jc(e,n)},il=rl,ol=function(t){return Promise.resolve(rl(t))};let sl=(()=>{class t{constructor(){this.compileModuleSync=el,this.compileModuleAsync=nl,this.compileModuleAndAllComponentsSync=il,this.compileModuleAndAllComponentsAsync=ol}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const ul=(()=>Promise.resolve(0))();function al(t){"undefined"==typeof Zone?ul.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class cl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mc(!1),this.onMicrotaskEmpty=new mc(!1),this.onStable=new mc(!1),this.onError=new mc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=L.requestAnimationFrame,e=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(L,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,fl(t),hl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),fl(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,u)=>{try{return dl(t),n.invokeTask(i,o,s,u)}finally{e&&"eventTask"===o.type&&e(),pl(t)}},onInvoke:(e,n,r,i,o,s,u)=>{try{return dl(t),e.invoke(r,i,o,s,u)}finally{pl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,fl(t),hl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(cl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ll,la,la);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const ll={};function hl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function dl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pl(t){t._nesting--,hl(t)}class gl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mc,this.onMicrotaskEmpty=new mc,this.onStable=new mc,this.onError=new mc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let yl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cl.assertNotInAngularZone(),al(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())al(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(kn(cl))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})(),ml=(()=>{class t{constructor(){this._applications=new Map,_l.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return _l.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();class vl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function bl(t){_l=t}let wl,_l=new vl,Ol=!0,El=!1;function Cl(){return El=!0,Ol}function Il(){if(El)throw new Error("Cannot enable prod mode after platform setup.");Ol=!1}const Sl=new un("AllowMultipleToken");class xl{constructor(t,e){this.name=t,this.token=e}}function Tl(t,e,n=[]){const r="Platform: "+e,i=new un(r);return(e=[])=>{let o=Al();if(!o||o.injector.get(Sl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Io,useValue:"platform"});!function(t){if(wl&&!wl.destroyed&&!wl.injector.get(Sl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");wl=t.get(jl);const e=t.get($c,null);e&&e.forEach(t=>t())}(Fo.create({providers:t,name:r}))}return function(t){const e=Al();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Al(){return wl&&!wl.destroyed?wl:null}let jl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new gl:("zone.js"===t?void 0:t)||new cl({enableLongStackTrace:Cl(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:cl,useValue:n}];return n.run(()=>{const e=Fo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Cr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Pl(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return ds(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(zc);return t.runInitializers(),t.donePromise.then(()=>(fu(i.injector.get(Zc,uu)||uu),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=kl({},e);return function(t,e,n){const r=new cc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Nl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(kn(Fo))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function kl(t,e){return Array.isArray(e)?e.reduce(kl,t):Object.assign(Object.assign({},t),e)}let Nl=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{cl.assertNotInAngularZone(),al(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{cl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(u.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ua?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ga),i=n.create(Fo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(yl,null),u=s&&i.injector.get(ml);return s&&u&&u.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Pl(this.components,i),u&&u.unregisterApplication(o)}),this._loadComponent(i),Cl()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Pl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Qc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(kn(cl),kn(Yc),kn(Fo),kn(Cr),kn(ca),kn(zc))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function Pl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Dl{}class Rl{}const Vl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ll=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Vl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Ml(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ml(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(kn(sl),kn(Rl,8))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function Ml(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Fl=function(t){return null},Ul=Tl(null,"core",[{provide:Kc,useValue:"unknown"},{provide:jl,deps:[Fo]},{provide:ml,deps:[]},{provide:Yc,deps:[]}]),ql=[{provide:Nl,useClass:Nl,deps:[cl,Yc,Fo,Cr,ca,zc]},{provide:ic,deps:[cl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:zc,useClass:zc,deps:[[new bn,Hc]]},{provide:sl,useClass:sl,deps:[]},Wc,{provide:ja,useFactory:function(){return Fa},deps:[]},{provide:ka,useFactory:function(){return Ua},deps:[]},{provide:Zc,useFactory:function(t){return fu(t=t||"undefined"!=typeof $localize&&$localize.locale||uu),t},deps:[[new vn(Zc),new bn,new _n]]},{provide:Xc,useValue:"USD"}];let Hl=(()=>{class t{constructor(t){}}return t.\u0275mod=X({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)(kn(Nl))},providers:ql}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))}}class u extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(u.dispatch,this.delay,new a(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class a{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return a}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,m.prototype.create),o}return Object(r.c)(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new y(i,u,r);return a},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const u=new s(i),a=u},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:u,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){u&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?a(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(a(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return m}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return y}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const g=["ngOnDestroy"],y=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),m=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new a.q("angularfire2.app.options"),b=new a.q("angularfire2.app.nameOrConfig"),w=new a.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(a.U)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const I={provide:class{},useFactory:_,deps:[v,a.z,[new a.A,b]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",a.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)(a.Wb(a.B))},providers:[I]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function u(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>u(e)&&t()),e},clearImmediate(t){u(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function y(t,e=0){return function(n){return n.lift(new m(t,e))}}class m{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}class u{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function u(){return function(t){return t.lift(new a(t))}}class a{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return u()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function d(){return new r.a}function p(){return t=>{return u()((e=d,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new a.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.c)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&c.push("and"),a&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new u.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var u=o.name;if(n.has(u))return p.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw l.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&Object(s.f)(a,o.serviceProps),r[u]=a,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,u).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=y;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",function(t){return new m(t)},"PRIVATE")),t.registerVersion(h,"0.6.15",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBJconmZ2yKnhqIiZqbLovw6J_zwYvyqnw",authDomain:"angular-crud-af77f.firebaseapp.com",projectId:"angular-crud-af77f",storageBucket:"angular-crud-af77f.appspot.com",messagingSenderId:"666379022758",appId:"1:666379022758:web:f4309dc11e7ea444a01f67",measurementId:"G-DGL1R2KDGB"};let o=null;function s(){return o}const u=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Wb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(u))},t.\u0275prov=Object(r.Gb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Wb)(u))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Wb)(u).location;return new w(Object(r.Wb)(a),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(m),r.Wb(a))},t.normalizeQueryParams=y,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Gb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Wb)(m),Object(r.Wb)(a))}function C(t){return t.replace(/\/index.html$/,"")}var I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.lb;class x{}let T=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let j=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new k(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new k(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.P),r.Kb(r.K),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class k{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.P),r.Kb(r.K))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class P{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let R=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:T}]}),t})();function V(t){return"server"===t}let L=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new M(Object(r.Wb)(u),window)}),t})();class M{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=F(this.window.history)||F(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function F(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class U extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new U,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=H||(H=document.querySelector("base"),H)?H.getAttribute("href"):null;return null==e?null:(n=e,q||(q=document.createElement("a")),q.setAttribute("href",n),"/"===q.pathname.charAt(0)?q.pathname:"/"+q.pathname);var n}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let q,H=null;const z=new r.q("TRANSITION_ID"),B=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[z,u,r.r],multi:!0}];class W{static init(){Object(r.W)(new W)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const G=new r.q("EventManagerPlugins");let $=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(G),r.Wb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class K{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Q=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Y=(()=>{class t extends Q{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Z={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},X=/%COMP%/g;function J(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?J(t,i,n):(i=i.replace(X,t),n.push(i))}return n}function tt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let et=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new nt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new rt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new it(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=J(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Wb($),r.Wb(Y),r.Wb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class nt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Z[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Z[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Z[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,tt(n)):this.eventManager.addEventListener(t,e,tt(n))}}class rt extends nt{constructor(t,e,n,r){super(t),this.component=n;const i=J(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(X,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(X,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class it extends nt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=J(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ot=(()=>{class t extends K{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const st=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},at={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ct={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let lt=(()=>{class t extends K{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(st.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&at.hasOwnProperty(e)&&(e=at[e]))}return ut[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),st.forEach(r=>{r!=n&&(0,ct[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ht=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){U.makeCurrent(),W.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],ft=Object(r.R)(r.V,"browser",ht),dt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:G,useClass:ot,multi:!0,deps:[u,r.z,r.B]},{provide:G,useClass:lt,multi:!0,deps:[u]},[],{provide:et,useClass:et,deps:[$,Y,r.c]},{provide:r.E,useExisting:et},{provide:Q,useExisting:Y},{provide:Y,useClass:Y,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:$,useClass:$,deps:[G,r.z]},[]];let pt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:z,useExisting:r.c},B]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Wb(t,12))},providers:dt,imports:[R,r.f]}),t})();"undefined"!=typeof window&&window;var gt=n("Cfvw"),yt=n("LRne"),mt=n("XNiG"),vt=n("9ppp");class bt extends mt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new vt.a;return this._value}next(t){super.next(this._value=t)}}var wt=n("z+Ro"),_t=n("DH7j"),Ot=n("7o/Q");class Et extends Ot.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ct extends Ot.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var It=n("SeVD"),St=n("HDdC");function xt(t,e,n,r,i=new Ct(t,n,r)){if(!i.closed)return e instanceof St.a?e.subscribe(i):Object(It.a)(e)(i)}var Tt=n("yCtX");const At={};class jt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new kt(t,this.resultSelector))}}class kt extends Et{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(At),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(xt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===At?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Nt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Pt=n("bHdf");function Dt(...t){return Object(Pt.a)(1)(Object(yt.a)(...t))}var Rt=n("EY2u");function Vt(t){return new St.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(gt.a)(n):Object(Rt.b)()).subscribe(e)})}var Lt=n("lJxs"),Mt=n("zx2A");function Ft(t,e){return"function"==typeof e?n=>n.pipe(Ft((n,r)=>Object(gt.a)(t(n,r)).pipe(Object(Lt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ut(t))}class Ut{constructor(t){this.project=t}call(t,e){return e.subscribe(new qt(t,this.project))}}class qt extends Mt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Mt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Mt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Ht=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function zt(t){return e=>0===t?Object(Rt.b)():e.lift(new Bt(t))}class Bt{constructor(t){if(this.total=t,this.total<0)throw new Ht}call(t,e){return e.subscribe(new Wt(t,this.total))}}class Wt extends Ot.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Gt(...t){const e=t[t.length-1];return Object(wt.a)(e)?(t.pop(),n=>Dt(t,n,e)):e=>Dt(t,e)}function $t(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Kt(t,e,n))}}class Kt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Qt(t,this.accumulator,this.seed,this.hasSeed))}}class Qt extends Ot.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Yt(t,e){return function(n){return n.lift(new Zt(t,e))}}class Zt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Xt(t,this.predicate,this.thisArg))}}class Xt extends Ot.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Jt(t){return function(e){const n=new te(t),r=e.lift(n);return n.caught=r}}class te{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ee(t,this.selector,this.caught))}}class ee extends Mt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Mt.a(this);this.add(r);const i=Object(Mt.c)(n,r);i!==r&&this.add(i)}}}var ne=n("5+tZ");function re(t,e){return Object(ne.a)(t,e,1)}function ie(t){return function(e){return 0===t?Object(Rt.b)():e.lift(new oe(t))}}class oe{constructor(t){if(this.total=t,this.total<0)throw new Ht}call(t,e){return e.subscribe(new se(t,this.total))}}class se extends Ot.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ue(t=le){return e=>e.lift(new ae(t))}class ae{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ce(t,this.errorFactory))}}class ce extends Ot.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Zw){t=Zw}this.destination.error(t)}}}function le(){return new Nt}function he(t=null){return e=>e.lift(new fe(t))}class fe{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new de(t,this.defaultValue))}}class de extends Ot.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var pe=n("SpAZ");function ge(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yt((e,n)=>t(e,n,r)):pe.a,zt(1),n?he(e):ue(()=>new Nt))}var ye=n("vkgz"),me=n("quSY");class ve{constructor(t){this.callback=t}call(t,e){return e.subscribe(new be(t,this.callback))}}class be extends Ot.a{constructor(t,e){super(t),this.add(new me.a(e))}}class we{constructor(t,e){this.id=t,this.url=e}}class _e extends we{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oe extends we{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ee extends we{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ce extends we{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ie extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Se extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xe extends we{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Te extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ae extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ke{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ne{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Re{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ve{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Le="primary";class Me{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Fe(t){return new Me(t)}function Ue(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function qe(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function He(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ze(t[i],e[i]))return!1;return!0}function ze(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Be(t){return Array.prototype.concat.apply([],t)}function We(t){return t.length>0?t[t.length-1]:null}function Ge(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function $e(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(gt.a)(Promise.resolve(t)):Object(yt.a)(t)}function Ke(t,e,n){return n?function(t,e){return He(t,e)}(t.queryParams,e.queryParams)&&Qe(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ze(t[n],e[n]))}(t.queryParams,e.queryParams)&&Ye(t.root,e.root)}function Qe(t,e){if(!en(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Qe(t.children[n],e.children[n]))return!1}return!0}function Ye(t,e){return Ze(t,e,e.segments)}function Ze(t,e,n){if(t.segments.length>n.length)return!!en(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!en(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ye(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!en(t.segments,r)&&!!t.children.primary&&Ze(t.children.primary,e,i)}}class Xe{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return on.serialize(this)}}class Je{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ge(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sn(this)}}class tn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Fe(this.parameters)),this._parameterMap}toString(){return dn(this)}}function en(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class nn{}class rn{parse(t){const e=new vn(t);return new Xe(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+un(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${cn(e)}=${cn(t)}`).join("&"):`${cn(e)}=${cn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const on=new rn;function sn(t){return t.segments.map(t=>dn(t)).join("/")}function un(t,e){if(!t.hasChildren())return sn(t);if(e){const e=t.children.primary?un(t.children.primary,!1):"",n=[];return Ge(t.children,(t,e)=>{e!==Le&&n.push(`${e}:${un(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Ge(t.children,(t,r)=>{r===Le&&(n=n.concat(e(t,r)))}),Ge(t.children,(t,r)=>{r!==Le&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Le?[un(t.children.primary,!1)]:[`${n}:${un(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${sn(t)}/${e[0]}`:`${sn(t)}/(${e.join("//")})`}}function an(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cn(t){return an(t).replace(/%3B/gi,";")}function ln(t){return an(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hn(t){return decodeURIComponent(t)}function fn(t){return hn(t.replace(/\+/g,"%20"))}function dn(t){return`${ln(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ln(t)}=${ln(e[t])}`).join("")}`;var e}const pn=/^[^\/()?;=#]+/;function gn(t){const e=t.match(pn);return e?e[0]:""}const yn=/^[^=?&#]+/,mn=/^[^?&#]+/;class vn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Je(t,e)),n}parseSegment(){const t=gn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new tn(hn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=gn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=gn(this.remaining);t&&(n=t,this.capture(n))}t[hn(e)]=hn(n)}parseQueryParam(t){const e=function(t){const e=t.match(yn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(mn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=fn(e),i=fn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=gn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Le);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Je([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class bn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=wn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=_n(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return _n(t,this._root).map(t=>t.value)}}function wn(t,e){if(t===e.value)return e;for(const n of e.children){const e=wn(t,n);if(e)return e}return null}function _n(t,e){if(t===e.value)return[e];for(const n of e.children){const r=_n(t,n);if(r.length)return r.unshift(e),r}return[]}class On{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function En(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Cn extends bn{constructor(t,e){super(t),this.snapshot=e,jn(this,t)}toString(){return this.snapshot.toString()}}function In(t,e){const n=function(t,e){const n=new Tn([],{},{},"",{},Le,e,null,t.root,-1,{});return new An("",new On(n,[]))}(t,e),r=new bt([new tn("",{})]),i=new bt({}),o=new bt({}),s=new bt({}),u=new bt(""),a=new Sn(r,i,s,u,o,Le,e,n.root);return a.snapshot=n.root,new Cn(new On(a,[]),n)}class Sn{constructor(t,e,n,r,i,o,s,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Lt.a)(t=>Fe(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Lt.a)(t=>Fe(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Tn{constructor(t,e,n,r,i,o,s,u,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class An extends bn{constructor(t,e){super(e),this.url=t,jn(this,e)}toString(){return kn(this._root)}}function jn(t,e){e.value._routerState=t,e.children.forEach(e=>jn(t,e))}function kn(t){const e=t.children.length>0?` { ${t.children.map(kn).join(", ")} } `:"";return`${t.value}${e}`}function Nn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,He(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),He(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!He(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),He(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Pn(t,e){return He(t.params,e.params)&&function(t,e){return en(t,e)&&t.every((t,n)=>He(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Pn(t.parent,e.parent))}function Dn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Dn(t,e,r);return Dn(t,e)})}(t,e,n);return new On(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Rn(e,t),t}{const n=new Sn(new bt((r=e.value).url),new bt(r.params),new bt(r.queryParams),new bt(r.fragment),new bt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Dn(t,e));return new On(n,i)}}var r}function Rn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Rn(t.children[n],e.children[n])}function Vn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ln(t){return"object"==typeof t&&null!=t&&t.outlets}function Mn(t,e,n,r,i){let o={};return r&&Ge(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Xe(n.root===t?e:Fn(n.root,t,e),o,i)}function Fn(t,e,n){const r={};return Ge(t.children,(t,i)=>{r[i]=t===e?n:Fn(t,e,n)}),new Je(t.segments,r)}class Un{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Vn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Ln);if(r&&r!==We(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Hn(t,e,n){if(t||(t=new Je([],{})),0===t.segments.length&&t.hasChildren())return zn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Ln(s))break;const u=""+s,a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!$n(u,a,e))return o;r+=2}else{if(!$n(u,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Je(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Je(t.segments.slice(r.pathIndex),t.children),zn(e,0,i)}return r.match&&0===i.length?new Je(t.segments,{}):r.match&&!t.hasChildren()?Bn(t,e,n):r.match?zn(t,0,i):Bn(t,e,n)}function zn(t,e,n){if(0===n.length)return new Je(t.segments,{});{const r=function(t){return Ln(t[0])?t[0].outlets:{[Le]:t}}(n),i={};return Ge(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Hn(t.children[r],e,n))}),Ge(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Je(t.segments,i)}}function Bn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Ln(o)){const t=Wn(o.outlets);return new Je(r,t)}if(0===i&&Vn(n[0])){r.push(new tn(t.segments[e].path,n[0])),i++;continue}const s=Ln(o)?o.outlets.primary:""+o,u=i<n.length-1?n[i+1]:null;s&&u&&Vn(u)?(r.push(new tn(s,Gn(u))),i+=2):(r.push(new tn(s,{})),i++)}return new Je(r,{})}function Wn(t){const e={};return Ge(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Bn(new Je([],{}),0,t))}),e}function Gn(t){const e={};return Ge(t,(t,n)=>e[n]=""+t),e}function $n(t,e,n){return t==n.path&&He(e,n.parameters)}class Kn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Nn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=En(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ge(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=En(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=En(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Re(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Pe(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Nn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Qn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Qn(t){Nn(t.value),t.children.forEach(Qn)}class Yn{constructor(t,e){this.routes=t,this.module=e}}function Zn(t){return"function"==typeof t}function Xn(t){return t instanceof Xe}const Jn=Symbol("INITIAL_VALUE");function tr(){return Ft(t=>function(...t){let e=void 0,n=void 0;return Object(wt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(_t.a)(t[0])&&(t=t[0]),Object(Tt.a)(t,n).lift(new jt(e))}(t.map(t=>t.pipe(zt(1),Gt(Jn)))).pipe($t((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Jn)return t;if(r===Jn&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Xn(r))return r}return t},t)},Jn),Yt(t=>t!==Jn),Object(Lt.a)(t=>Xn(t)?t:!0===t),zt(1)))}let er=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[Gr]},encapsulation:2}),t})();function nr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];rr(r,ir(e,r))}}function rr(t,e){t.children&&nr(t.children,e)}function ir(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function or(t){const e=t.children&&t.children.map(or),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Le&&(n.component=er),n}function sr(t){return t.outlet||Le}function ur(t,e){const n=t.filter(t=>sr(t)===e);return n.push(...t.filter(t=>sr(t)!==e)),n}const ar={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function cr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},ar):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||qe)(n,t,e);if(!i)return Object.assign({},ar);const o={};Ge(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function lr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>hr(t,e,n)&&sr(n)!==Le)}(t,n,r)){const i=new Je(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&sr(o)!==Le){const n=new Je([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[sr(o)]=n}return i}(t,e,r,new Je(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>hr(t,e,n))}(t,n,r)){const o=new Je(t.segments,function(t,e,n,r,i,o){const s={};for(const u of r)if(hr(t,n,u)&&!i[sr(u)]){const n=new Je([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[sr(u)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Je(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function hr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function fr(t,e,n,r){return!!(sr(t)===r||r!==Le&&hr(e,n,t))&&("**"===t.path||cr(e,t,n).matched)}function dr(t,e,n){return 0===e.length&&!t.children[n]}class pr{constructor(t){this.segmentGroup=t||null}}class gr{constructor(t){this.urlTree=t}}function yr(t){return new St.a(e=>e.error(new pr(t)))}function mr(t){return new St.a(e=>e.error(new gr(t)))}function vr(t){return new St.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class br{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=lr(this.urlTree.root,[],[],this.config).segmentGroup,e=new Je(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Le).pipe(Object(Lt.a)(t=>this.createUrlTree(wr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Jt(t=>{if(t instanceof gr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof pr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Le).pipe(Object(Lt.a)(e=>this.createUrlTree(wr(e),t.queryParams,t.fragment))).pipe(Jt(t=>{if(t instanceof pr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Je([],{[Le]:t}):t;return new Xe(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Lt.a)(t=>new Je([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(gt.a)(r).pipe(re(r=>{const i=n.children[r],o=ur(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Lt.a)(t=>({segment:t,outlet:r})))}),$t((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yt((e,n)=>t(e,n,r)):pe.a,ie(1),n?he(e):ue(()=>new Nt))}())}expandSegment(t,e,n,r,i,o){return Object(gt.a)(n).pipe(re(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Jt(t=>{if(t instanceof pr)return Object(yt.a)(null);throw t}))),ge(t=>!!t),Jt((t,n)=>{if(t instanceof Nt||"EmptyError"===t.name){if(dr(e,r,i))return Object(yt.a)(new Je([],{}));throw new pr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return fr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):yr(e):yr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?mr(i):this.lineralizeSegments(n,i).pipe(Object(ne.a)(n=>{const i=new Je(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:u,lastChild:a,positionalParamSegments:c}=cr(e,r,i);if(!s)return yr(e);const l=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?mr(l):this.lineralizeSegments(r,l).pipe(Object(ne.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Lt.a)(t=>(n._loadedConfig=t,new Je(r,{})))):Object(yt.a)(new Je(r,{}));const{matched:o,consumedSegments:s,lastChild:u}=cr(e,n,r);if(!o)return yr(e);const a=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(ne.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:u,slicedSegments:c}=lr(e,s,a,o),l=new Je(u.segments,u.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Lt.a)(t=>new Je(s,t)));if(0===o.length&&0===c.length)return Object(yt.a)(new Je(s,{}));const h=sr(n)===i;return this.expandSegment(r,l,o,c,h?Le:i,!0).pipe(Object(Lt.a)(t=>new Je(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(yt.a)(new Yn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(yt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ne.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Lt.a)(t=>(e._loadedConfig=t,t))):function(t){return new St.a(e=>e.error(Ue(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(yt.a)(new Yn([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(yt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Zn(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Zn(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return $e(o)});return Object(yt.a)(i).pipe(tr(),Object(ye.a)(t=>{if(!Xn(t))return;const e=Ue(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Lt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(yt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return vr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Xe(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ge(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Ge(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Je(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function wr(t){const e={};for(const n of Object.keys(t.children)){const r=wr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Je(t.segments.concat(e.segments),e.children)}return t}(new Je(t.segments,e))}class _r{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Or{constructor(t,e){this.component=t,this.route=e}}function Er(t,e,n){const r=t._root;return Ir(r,e?e._root:null,n,[r.value])}function Cr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ir(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=En(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const a=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!en(t.url,e.url);case"pathParamsOrQueryParamsChange":return!en(t.url,e.url)||!He(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pn(t,e)||!He(t.queryParams,e.queryParams);case"paramsChange":default:return!Pn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new _r(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ir(t,e,o.component?u?u.children:null:n,r,i),a&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Or(u.outlet.component,s))}else s&&Sr(e,u,i),i.canActivateChecks.push(new _r(r)),Ir(t,null,o.component?u?u.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Ge(o,(t,e)=>Sr(t,n.getContext(e),i)),i}function Sr(t,e,n){const r=En(t),i=t.value;Ge(r,(t,r)=>{Sr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Or(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class xr{}function Tr(t){return new St.a(e=>e.error(t))}class Ar{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=lr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Le);if(null===e)return null;const n=new Tn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Le,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new On(n,e),i=new An(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=xn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=ur(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!jr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Le?-1:e.value.outlet===Le?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return dr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!fr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?We(n).parameters:{};i=new Tn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Pr(t),sr(t),t.component,t,kr(e),Nr(e)+n.length,Dr(t))}else{const r=cr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Tn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Pr(t),sr(t),t.component,t,kr(e),Nr(e)+o.length,Dr(t))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:c}=lr(e,o,s,u.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const t=this.processChildren(u,a);return null===t?null:[new On(i,t)]}if(0===u.length&&0===c.length)return[new On(i,[])];const l=sr(t)===r,h=this.processSegment(u,a,c,l?Le:r);return null===h?null:[new On(i,h)]}}function jr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function kr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Nr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Pr(t){return t.data||{}}function Dr(t){return t.resolve||{}}function Rr(t){return Ft(e=>{const n=t(e);return n?Object(gt.a)(n).pipe(Object(Lt.a)(()=>e)):Object(yt.a)(e)})}class Vr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Lr=new r.q("ROUTES");class Mr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Lt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Yn(Be(r.injector.get(Lr)).map(or),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(gt.a)(this.loader.load(t)):$e(t()).pipe(Object(ne.a)(t=>t instanceof r.v?Object(yt.a)(t):Object(gt.a)(this.compiler.compileModuleAsync(t))))}}class Fr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ur,this.attachRef=null}}class Ur{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Fr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class qr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Hr(t){throw t}function zr(t,e,n){return e.parse("/")}function Br(t,e){return Object(yt.a)(null)}let Wr=(()=>{class t{constructor(t,e,n,i,o,s,u,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new mt.a,this.errorHandler=Hr,this.malformedUriErrorHandler=zr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Br,afterPreactivation:Br},this.urlHandlingStrategy=new qr,this.routeReuseStrategy=new Vr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new Xe(new Je([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Mr(s,u,t=>this.triggerEvent(new je(t)),t=>this.triggerEvent(new ke(t))),this.routerState=In(this.currentUrlTree,this.rootComponentType),this.transitions=new bt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Yt(t=>0!==t.id),Object(Lt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ft(t=>{let n=!1,r=!1;return Object(yt.a)(t).pipe(Object(ye.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ft(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(yt.a)(t).pipe(Ft(t=>{const n=this.transitions.getValue();return e.next(new _e(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Rt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Ft(t=>function(t,e,n,r,i){return new br(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Lt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(ye.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ne.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Ar(t,e,n,r,i,o).recognize();return null===s?Tr(new xr):Object(yt.a)(s)}catch(Zw){return Tr(Zw)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Lt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(ye.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Ie(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,u=new _e(n,this.serializeUrl(r),i,o);e.next(u);const a=In(r,this.rootComponentType).snapshot;return Object(yt.a)(Object.assign(Object.assign({},t),{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Rt.a}),Rr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ye.a)(t=>{const e=new Se(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Lt.a)(t=>Object.assign(Object.assign({},t),{guards:Er(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ne.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(yt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(gt.a)(t).pipe(Object(ne.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(yt.a)(!0);const s=o.map(o=>{const s=Cr(o,e,i);let u;if(function(t){return t&&Zn(t.canDeactivate)}(s))u=$e(s.canDeactivate(t,e,n,r));else{if(!Zn(s))throw new Error("Invalid CanDeactivate guard");u=$e(s(t,e,n,r))}return u.pipe(ge())});return Object(yt.a)(s).pipe(tr())}(t.component,t.route,n,e,r)),ge(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(ne.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(gt.a)(e).pipe(re(e=>Dt(function(t,e){return null!==t&&e&&e(new Ne(t)),Object(yt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new De(t)),Object(yt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Vt(()=>{const i=e.guards.map(i=>{const o=Cr(i,e.node,n);let s;if(function(t){return t&&Zn(t.canActivateChild)}(o))s=$e(o.canActivateChild(r,t));else{if(!Zn(o))throw new Error("Invalid CanActivateChild guard");s=$e(o(r,t))}return s.pipe(ge())});return Object(yt.a)(i).pipe(tr())}));return Object(yt.a)(i).pipe(tr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(yt.a)(!0);const i=r.map(r=>Vt(()=>{const i=Cr(r,e,n);let o;if(function(t){return t&&Zn(t.canActivate)}(i))o=$e(i.canActivate(e,t));else{if(!Zn(i))throw new Error("Invalid CanActivate guard");o=$e(i(e,t))}return o.pipe(ge())}));return Object(yt.a)(i).pipe(tr())}(t,e.route,n))),ge(t=>!0!==t,!0))}(r,o,t,e):Object(yt.a)(n)),Object(Lt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(ye.a)(t=>{if(Xn(t.guardsResult)){const e=Ue(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Yt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ee(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Rr(t=>{if(t.guards.canActivateChecks.length)return Object(yt.a)(t).pipe(Object(ye.a)(t=>{const e=new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Ft(t=>{let n=!1;return Object(yt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ne.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(yt.a)(t);let o=0;return Object(gt.a)(n).pipe(re(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(yt.a)({});const o={};return Object(gt.a)(i).pipe(Object(ne.a)(i=>function(t,e,n,r){const i=Cr(t,e,r);return $e(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(ye.a)(t=>{o[i]=t}))),ie(1),Object(ne.a)(()=>Object.keys(o).length===i.length?Object(yt.a)(o):Rt.a))}(t._resolve,t,e,r).pipe(Object(Lt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),xn(t,n).resolve),null)))}(t.route,e,r,i)),Object(ye.a)(()=>o++),ie(1),Object(ne.a)(e=>o===n.length?Object(yt.a)(t):Rt.a))})),Object(ye.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ee(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(ye.a)(t=>{const e=new Ae(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Rr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Lt.a)(t=>{const e=function(t,e,n){const r=Dn(t,e._root,n?n._root:void 0);return new Cn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(ye.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,u=t=>this.triggerEvent(t),Object(Lt.a)(t=>(new Kn(s,t.targetRouterState,t.currentRouterState,u).activate(o),t))),Object(ye.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ee(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ve(i))),Jt(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Xn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ee(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ce(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(wf){t.reject(wf)}}var i;return Rt.a}));var i,o,s,u}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){nr(t),this.config=t.map(or),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,u=n||this.routerState.root,a=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Mn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Un(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ge(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Un(n,e,r)}(n);if(o.toRoot())return Mn(e.root,new Je([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new qn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new qn(t,t===e.root,0)}const r=Vn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new qn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),u=s.processChildren?zn(s.segmentGroup,s.index,o.commands):Hn(s.segmentGroup,s.index,o.commands);return Mn(s.segmentGroup,u,e,r,i)}(u,this.currentUrlTree,t,c,a)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Xn(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Zw){e=this.malformedUriErrorHandler(Zw,this.urlSerializer,t)}return e}isActive(t,e){if(Xn(t))return Ke(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ke(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Oe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),u=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&u)return Promise.resolve(!0);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{a=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.M),r.Wb(nn),r.Wb(Ur),r.Wb(O),r.Wb(r.r),r.Wb(r.w),r.Wb(r.i),r.Wb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Gr=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Le,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new $r(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ur),r.Kb(r.P),r.Kb(r.j),r.Xb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class $r{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Sn?this.route:t===Ur?this.childContexts:this.parent.get(t,e)}}class Kr{}class Qr{preload(t,e){return Object(yt.a)(null)}}let Yr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Mr(e,n,e=>t.triggerEvent(new je(e)),e=>t.triggerEvent(new ke(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Yt(t=>t instanceof Oe),re(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(gt.a)(n).pipe(Object(Pt.a)(),Object(Lt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ne.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Wr),r.Wb(r.w),r.Wb(r.i),r.Wb(r.r),r.Wb(Kr))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Zr=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Oe&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ve&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ve(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Wr),r.Wb(L),r.Wb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Xr=new r.q("ROUTER_CONFIGURATION"),Jr=new r.q("ROUTER_FORROOT_GUARD"),ti=[O,{provide:nn,useClass:rn},{provide:Wr,useFactory:function(t,e,n,r,i,o,u,a={},c,l){const h=new Wr(null,t,e,n,r,i,o,Be(u));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,h),a.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[nn,Ur,O,r.r,r.w,r.i,Lr,Xr,[class{},new r.A],[class{},new r.A]]},Ur,{provide:Sn,useFactory:function(t){return t.routerState.root},deps:[Wr]},{provide:r.w,useClass:r.J},Yr,Qr,class{preload(t,e){return e().pipe(Jt(()=>Object(yt.a)(null)))}},{provide:Xr,useValue:{enableTracing:!1}}];function ei(){return new r.y("Router",Wr)}let ni=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ti,si(e),{provide:Jr,useFactory:oi,deps:[[Wr,new r.A,new r.I]]},{provide:Xr,useValue:n||{}},{provide:m,useFactory:ii,deps:[a,[new r.p(b),new r.A],Xr]},{provide:Zr,useFactory:ri,deps:[Wr,L,Xr]},{provide:Kr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Qr},{provide:r.y,multi:!0,useFactory:ei},[ui,{provide:r.d,multi:!0,useFactory:ai,deps:[ui]},{provide:li,useFactory:ci,deps:[ui]},{provide:r.b,multi:!0,useExisting:li}]]}}static forChild(e){return{ngModule:t,providers:[si(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Wb(Jr,8),r.Wb(Wr,8))}}),t})();function ri(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Zr(t,e,n)}function ii(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function oi(t){return"guarded"}function si(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Lr,multi:!0,useValue:t}]}let ui=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new mt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Wr),r=this.injector.get(Xr);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(yt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Xr),n=this.injector.get(Yr),i=this.injector.get(Zr),o=this.injector.get(Wr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function ai(t){return t.appInitializer.bind(t)}function ci(t){return t.bootstrapListener.bind(t)}const li=new r.q("Router Initializer"),hi=[];let fi=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[ni.forRoot(hi)],ni]}),t})();var di=n("XoHu");function pi(t,e){return new St.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let u=0;u<r;u++){const a=Object(gt.a)(t[u]);let c=!1;n.add(a.subscribe({next:t=>{c||(c=!0,s++),i[u]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const gi=new r.q("NgValueAccessor"),yi={provide:gi,useExisting:Object(r.T)(()=>mi),multi:!0};let mi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([yi])]}),t})();const vi={provide:gi,useExisting:Object(r.T)(()=>wi),multi:!0},bi=new r.q("CompositionEventMode");let wi=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l),r.Kb(bi,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Zb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([vi])]}),t})();function _i(t){return null==t||0===t.length}function Oi(t){return null!=t&&"number"==typeof t.length}const Ei=new r.q("NgValidators"),Ci=new r.q("NgAsyncValidators"),Ii=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Si{static min(t){return e=>{if(_i(e.value)||_i(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(_i(e.value)||_i(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return _i(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return _i(t.value)||Ii.test(t.value)?null:{email:!0}}static minLength(t){return e=>_i(e.value)||!Oi(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Oi(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Si.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(_i(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(xi);return 0==e.length?null:function(t){return Ai(ji(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(xi);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(_t.a)(e))return pi(e,null);if(Object(di.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return pi(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return pi(t=1===t.length&&Object(_t.a)(t[0])?t[0]:t,null).pipe(Object(Lt.a)(t=>e(...t)))}return pi(t,null)}(ji(t,e).map(Ti)).pipe(Object(Lt.a)(Ai))}}}function xi(t){return null!=t}function Ti(t){const e=Object(r.qb)(t)?Object(gt.a)(t):t;return Object(r.pb)(e),e}function Ai(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ji(t,e){return e.map(e=>e(t))}function ki(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Ni(t){return null!=t?Si.compose(ki(t)):null}function Pi(t){return null!=t?Si.composeAsync(ki(t)):null}function Di(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Ri(t){return t._rawValidators}function Vi(t){return t._rawAsyncValidators}let Li=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ni(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Pi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),Mi=(()=>{class t extends Li{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Fi(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.vb]}),t})();const Fi=r.Rb(Mi);class Ui extends Li{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qi{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let Hi=(()=>{class t extends qi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ui,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),zi=(()=>{class t extends qi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Mi,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const Bi={provide:gi,useExisting:Object(r.T)(()=>Wi),multi:!0};let Wi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Bi])]}),t})();const Gi={provide:gi,useExisting:Object(r.T)(()=>Ki),multi:!0};let $i=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Ki=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Ui),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l),r.Kb($i),r.Kb(r.r))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Gi])]}),t})();const Qi={provide:gi,useExisting:Object(r.T)(()=>Yi),multi:!0};let Yi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Qi])]}),t})();const Zi={provide:gi,useExisting:Object(r.T)(()=>Xi),multi:!0};let Xi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([Zi])]}),t})();const Ji={provide:gi,useExisting:Object(r.T)(()=>to),multi:!0};let to=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([Ji])]}),t})();function eo(t,e){ro(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&oo(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&oo(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function no(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ro(t,e,n){const r=Ri(t);null!==e.validator?t.setValidators(Di(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Vi(t);if(null!==e.asyncValidator?t.setAsyncValidators(Di(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();no(e._rawValidators,n),no(e._rawAsyncValidators,n)}}function io(t,e,n){if(null!==t){if(null!==e.validator){const n=Ri(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=Vi(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};no(e._rawValidators,t),no(e._rawAsyncValidators,t)}}function oo(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function so(t,e){ro(t,e,!1)}const uo=[mi,Yi,Wi,Xi,to,Ki];function ao(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const co="VALID",lo="INVALID",ho="PENDING",fo="DISABLED";function po(t){return(vo(t)?t.validators:t)||null}function go(t){return Array.isArray(t)?Ni(t):t||null}function yo(t,e){return(vo(e)?e.asyncValidators:t)||null}function mo(t){return Array.isArray(t)?Pi(t):t||null}function vo(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class bo{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=go(this._rawValidators),this._composedAsyncValidatorFn=mo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===co}get invalid(){return this.status===lo}get pending(){return this.status==ho}get disabled(){return this.status===fo}get enabled(){return this.status!==fo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=go(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=mo(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ho,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fo,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=co,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==co&&this.status!==ho||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fo:co}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ho,this._hasOwnPendingAsyncValidator=!0;const e=Ti(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof _o?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Oo&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?fo:this.errors?lo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ho)?ho:this._anyControlsHaveStatus(lo)?lo:co}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){vo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wo extends bo{constructor(t=null,e,n){super(po(e),yo(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ao(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ao(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class _o extends bo{constructor(t,e,n){super(po(e),yo(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof wo?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Oo extends bo{constructor(t,e,n){super(po(e),yo(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof wo?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Eo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Co=new r.q("NgModelWithFormControlWarning"),Io={provide:Mi,useExisting:Object(r.T)(()=>So)};let So=(()=>{class t extends Mi{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return eo(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){ao(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);so(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);so(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),io(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&eo(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ro(this.form,this,!1),this._oldForm&&io(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ei,10),r.Kb(Ci,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Zb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Io]),r.vb,r.wb]}),t})();const xo={provide:Ui,useExisting:Object(r.T)(()=>To)};let To=(()=>{class t extends Ui{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===wi?n=t:(e=t,uo.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Mi,13),r.Kb(Ei,10),r.Kb(Ci,10),r.Kb(gi,10),r.Kb(Co,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([xo]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})(),Ao=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),jo=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new _o(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new wo(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Oo(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof wo||t instanceof _o||t instanceof Oo?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),ko=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[$i],imports:[Ao]}),t})(),No=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Co,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[jo,$i],imports:[Ao]}),t})();var Po=n("n6bG");function Do(t,e,n,r){return Object(Po.a)(n)&&(r=n,n=void 0),r?Do(t,e,n).pipe(Object(Lt.a)(t=>Object(_t.a)(t)?r(...t):r(t))):new St.a(r=>{Ro(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Ro(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)Ro(t[o],e,n,r,i)}r.add(o)}var Vo=n("D0XW"),Lo=n("Y7HM");function Mo(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class Fo{call(t,e){return e.subscribe(new Uo(t))}}class Uo extends Et{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=xt(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("KqfI");var qo=n("Lhse");function Ho(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(Tt.a)(t,void 0).lift(new zo(e))}class zo{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Bo(t,this.resultSelector))}}class Bo extends Ot.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(_t.a)(t)?e.push(new Go(t)):e.push("function"==typeof t[qo.a]?new Wo(t[qo.a]()):new $o(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class Wo{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class Go{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[qo.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class $o extends Mt.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[qo.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(Mt.c)(this.observable,new Mt.a(this))}}var Ko=n("VRyK");function Qo(t){return e=>e.lift(new Yo(t))}class Yo{constructor(t){this.notifier=t}call(t,e){const n=new Zo(t),r=Object(Mt.c)(this.notifier,new Mt.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Zo extends Mt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class Xo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Jo(t,this.compare,this.keySelector))}}class Jo extends Ot.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function ts(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new es(t,n))}}class es{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new ns(t,this.observables,this.project))}}class ns extends Et{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(xt(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4"),n("w1tV");const rs=["*"],is=["dialog"];function os(t){return null!=t}function ss(t){return(t||document.body).offsetHeight}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const us={animation:!0,transitionTimerDelayMs:5};let as=(()=>{class t{constructor(){this.animation=us.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const cs=()=>{},{transitionTimerDelayMs:ls}=us,hs=new Map,fs=(t,e,n,r)=>{let i=r.context||{};const o=hs.get(e);if(o)switch(r.runningTransition){case"continue":return Rt.a;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),hs.delete(e)}const s=n(e,r.animation,i)||cs;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),Object(yt.a)(void 0).pipe(function(t){return e=>new St.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const u=new mt.a,a=new mt.a,c=u.pipe(function(...t){return e=>Dt(e,Object(yt.a)(...t))}(!0));hs.set(e,{transition$:u,complete:()=>{a.next(),a.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=Do(e,"transitionend").pipe(Qo(c),Yt(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(_t.a)(t[0]))return t[0];t=t[0]}return Object(Tt.a)(t,void 0).lift(new Fo)})(function(t=0,e,n){let r=-1;return Object(Lo.a)(e)?r=Number(e)<1?1:Number(e):Object(wt.a)(e)&&(n=e),Object(wt.a)(n)||(n=Vo.a),new St.a(e=>{const i=Object(Lo.a)(t)?t:+t-n.now();return n.schedule(Mo,i,{index:0,period:r,subscriber:e})})}(l+ls).pipe(Qo(c)),n,a).pipe(Qo(c)).subscribe(()=>{hs.delete(e),t.run(()=>{s(),u.next(),u.complete()})})}),u.asObservable()};var ds=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ps=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function gs(t){const e=Array.from(t.querySelectorAll(ps)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),u=this.getAllStyles(e),a=parseFloat(u.marginTop),c=parseFloat(u.marginBottom),l=parseFloat(u.marginLeft),h=parseFloat(u.marginRight);let f=0,d=0;switch(i){case"top":f=s.top-(e.offsetHeight+a+c);break;case"bottom":f=s.top+s.height;break;case"left":d=s.left-(e.offsetWidth+l+h);break;case"right":d=s.left+s.width}switch(o){case"top":f=s.top;break;case"bottom":f=s.top+s.height-e.offsetHeight;break;case"left":d=s.left;break;case"right":d=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=s.left+s.width/2-e.offsetWidth/2:f=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,y=window.innerHeight||g.clientHeight,m=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=m&&p.bottom<=y}},new Date(1882,10,12),new Date(2174,10,25);let ys=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(as))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(as))},token:t,providedIn:"root"}),t})();class ms{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const vs=()=>{};let bs=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):vs}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(u))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(u))},token:t,providedIn:"root"}),t})(),ws=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(zt(1)).subscribe(()=>{fs(this._zone,this._el.nativeElement,(t,e)=>{e&&ss(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return fs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Ab("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Cb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class _s{close(t){}dismiss(t){}}class Os{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new mt.a,this._dismissed=new mt.a,this._hidden=new mt.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Qo(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Qo(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(yt.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ho(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Es=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let Cs=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new mt.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n,this.shown=new mt.a,this.hidden=new mt.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=Ho(fs(this._zone,t,()=>t.classList.remove("show"),e),fs(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};Ho(fs(this._zone,this._elRef.nativeElement,(t,e)=>{e&&ss(t),t.classList.add("show")},t),fs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Do(t,"keydown").pipe(Qo(this._closed$),Yt(t=>t.which===ds.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(Es.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;Do(this._dialogEl.nativeElement,"mousedown").pipe(Qo(this._closed$),Object(ye.a)(()=>e=!1),Ft(()=>Do(t,"mouseup").pipe(Qo(this._closed$),zt(1))),Yt(({target:e})=>t===e)).subscribe(()=>{e=!0}),Do(t,"click").pipe(Qo(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(Es.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=gs(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&fs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(u),r.Kb(r.l),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.sc(is,!0),2&t){let t;r.mc(t=r.ac())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.zb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Ab("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Cb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:rs,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.fc(),r.Pb(0,"div",0,1),r.Pb(2,"div",2),r.ec(3),r.Ob(),r.Ob()),2&t&&r.Ab("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Is=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new mt.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Do(e,"focusin").pipe(Qo(n),Object(Lt.a)(t=>t.target));Do(e,"keydown").pipe(Qo(n),Yt(t=>t.which===ds.Tab),ts(t)).subscribe(([t,n])=>{const[r,i]=gs(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Do(e,"click").pipe(Qo(n),ts(t),Object(Lt.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:os(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const a=new _s,c=this._getContentRef(t,r.injector||e,n,a,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new Os(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(u,u),a.close=t=>{f.close(t)},a.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(ws).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(Cs).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{os(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{os(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.K?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new ms([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new ms([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(""+t);return new ms([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),u=r.r.create({providers:[{provide:_s,useValue:i}],parent:e}),a=s.create(u),c=a.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new ms([[c]],a.hostView,a)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.g),r.Wb(r.r),r.Wb(u),r.Wb(bs),r.Wb(r.E),r.Wb(r.z))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(r.g),Object(r.Wb)(r.o),Object(r.Wb)(u),Object(r.Wb)(bs),Object(r.Wb)(r.E),Object(r.Wb)(r.z))},token:t,providedIn:"root"}),t})(),Ss=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.j),r.Wb(r.r),r.Wb(Is),r.Wb(ys))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(r.j),Object(r.Wb)(r.o),Object(r.Wb)(Is),Object(r.Wb)(ys))},token:t,providedIn:"root"}),t})(),xs=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Ss]}),t})();function Ts(){return t=>t.lift(new As)}new r.q("live announcer delay",{providedIn:"root",factory:function(){return 100}});class As{call(t,e){return e.subscribe(new js(t))}}class js extends Ot.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var ks=n("pxpQ"),Ns=n("spgP"),Ps=n("Jgta"),Ds=n("zIRd"),Rs=n("q/0M"),Vs=n("qOnz"),Ls=function(t,e){return(Ls=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ms(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Fs,Us="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qs=qs||{},Hs=Us||self;function zs(){}function Bs(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ws(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Gs="closure_uid_"+(1e9*Math.random()>>>0),$s=0;function Ks(t,e,n){return t.call.apply(t.bind,arguments)}function Qs(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ys(t,e,n){return(Ys=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ks:Qs).apply(null,arguments)}function Zs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Xs(){return Date.now()}function Js(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function tu(){this.j=this.j,this.i=this.i}tu.prototype.j=!1,tu.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Gs)&&t[Gs]||(t[Gs]=++$s)}(this)},tu.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var eu=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},nu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function ru(t){return Array.prototype.concat.apply([],arguments)}function iu(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ou(t){return/^[\s\xa0]*$/.test(t)}var su,uu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function au(t,e){return-1!=t.indexOf(e)}function cu(t,e){return t<e?-1:t>e?1:0}t:{var lu=Hs.navigator;if(lu){var hu=lu.userAgent;if(hu){su=hu;break t}}su=""}function fu(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function du(t){var e={};for(var n in t)e[n]=t[n];return e}var pu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gu(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<pu.length;o++)n=pu[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yu(t){return yu[" "](t),t}yu[" "]=zs;var mu,vu,bu=au(su,"Opera"),wu=au(su,"Trident")||au(su,"MSIE"),_u=au(su,"Edge"),Ou=_u||wu,Eu=au(su,"Gecko")&&!(au(su.toLowerCase(),"webkit")&&!au(su,"Edge"))&&!(au(su,"Trident")||au(su,"MSIE"))&&!au(su,"Edge"),Cu=au(su.toLowerCase(),"webkit")&&!au(su,"Edge");function Iu(){var t=Hs.document;return t?t.documentMode:void 0}t:{var Su="",xu=(vu=su,Eu?/rv:([^\);]+)(\)|;)/.exec(vu):_u?/Edge\/([\d\.]+)/.exec(vu):wu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(vu):Cu?/WebKit\/(\S+)/.exec(vu):bu?/(?:Version)[ \/]?(\S+)/.exec(vu):void 0);if(xu&&(Su=xu?xu[1]:""),wu){var Tu=Iu();if(null!=Tu&&Tu>parseFloat(Su)){mu=String(Tu);break t}}mu=Su}var Au={};function ju(t){return function(t,e){var n=Au;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=uu(String(mu)).split("."),r=uu(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=cu(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||cu(0==s[2].length,0==u[2].length)||cu(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e})}var ku=Hs.document&&wu&&(Iu()||parseInt(mu,10))||void 0,Nu=!wu||9<=Number(ku),Pu=wu&&!ju("9"),Du=function(){if(!Hs.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Hs.addEventListener("test",zs,e),Hs.removeEventListener("test",zs,e)}catch(n){}return t}();function Ru(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Vu(t,e){if(Ru.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Eu){t:{try{yu(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Lu[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ru.prototype.b=function(){this.defaultPrevented=!0},Js(Vu,Ru);var Lu={2:"touch",3:"pen",4:"mouse"};Vu.prototype.b=function(){Vu.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Pu)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Mu="closure_listenable_"+(1e6*Math.random()|0),Fu=0;function Uu(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Fu,this.Y=this.Z=!1}function qu(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Hu(t){this.src=t,this.a={},this.b=0}function zu(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=eu(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(qu(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Bu(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Hu.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Bu(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Uu(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Wu="closure_lm_"+(1e6*Math.random()|0),Gu={};function $u(t,e,n,r,i){if(r&&r.once)return Qu(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)$u(t,e[o],n,r,i);return null}return n=ra(n),t&&t[Mu]?t.va(e,n,Ws(r)?!!r.capture:!!r,i):Ku(t,e,n,!1,r,i)}function Ku(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ws(i)?!!i.capture:!!i;if(s&&!Nu)return null;var u=ea(t);if(u||(t[Wu]=u=new Hu(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ta,e=Nu?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Du||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Xu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Qu(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Qu(t,e[o],n,r,i);return null}return n=ra(n),t&&t[Mu]?t.wa(e,n,Ws(r)?!!r.capture:!!r,i):Ku(t,e,n,!0,r,i)}function Yu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Yu(t,e[o],n,r,i);else r=Ws(r)?!!r.capture:!!r,n=ra(n),t&&t[Mu]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Bu(o=t.a[e],n,r,i))&&(qu(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=ea(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Bu(e,n,r,i)),(n=-1<t?e[t]:null)&&Zu(n))}function Zu(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Mu])zu(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Xu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ea(e))?(zu(n,t),0==n.b&&(n.src=null,e[Wu]=null)):qu(t)}}}function Xu(t){return t in Gu?Gu[t]:Gu[t]="on"+t}function Ju(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Zu(t),n.call(r,e)}function ta(t,e){if(t.Y)return!0;if(!Nu){if(!e)t:{e=["window","event"];for(var n=Hs,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ju(t,e=new Vu(e,this))}return Ju(t,new Vu(e,this))}function ea(t){return(t=t[Wu])instanceof Hu?t:null}var na="__closure_events_fn_"+(1e9*Math.random()>>>0);function ra(t){return"function"==typeof t?t:(t[na]||(t[na]=function(e){return t.handleEvent(e)}),t[na])}function ia(){tu.call(this),this.c=new Hu(this),this.J=this,this.C=null}function oa(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ru(e,t);else if(e instanceof Ru)e.target=e.target||t;else{var i=e;gu(e=new Ru(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=sa(s,r,!0,e)&&i}if(i=sa(s=e.a=t,r,!0,e)&&i,i=sa(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=sa(s=e.a=n[o],r,!1,e)&&i}function sa(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&zu(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}Js(ia,tu),ia.prototype[Mu]=!0,(Fs=ia.prototype).addEventListener=function(t,e,n,r){$u(this,t,e,n,r)},Fs.removeEventListener=function(t,e,n,r){Yu(this,t,e,n,r)},Fs.G=function(){if(ia.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)qu(n[r]);delete e.a[t],e.b--}}this.C=null},Fs.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Fs.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ua=Hs.JSON.stringify;function aa(){this.b=this.a=null}var ca,la=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new fa},function(t){t.reset()});function ha(){var t=ya,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function fa(){this.next=this.b=this.a=null}function da(t){Hs.setTimeout(function(){throw t},0)}function pa(t,e){ca||function(){var t=Hs.Promise.resolve(void 0);ca=function(){t.then(ma)}}(),ga||(ca(),ga=!0),ya.add(t,e)}aa.prototype.add=function(t,e){var n=la.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},fa.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},fa.prototype.reset=function(){this.next=this.b=this.a=null};var ga=!1,ya=new aa;function ma(){for(var t;t=ha();){try{t.a.call(t.b)}catch(n){da(n)}var e=la;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ga=!1}function va(t,e){ia.call(this),this.b=t||1,this.a=e||Hs,this.f=Ys(this.Za,this),this.g=Xs()}function ba(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function wa(t,e,n){if("function"==typeof t)n&&(t=Ys(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ys(t.handleEvent,t)}return 2147483647<Number(e)?-1:Hs.setTimeout(t,e||0)}function _a(t){t.a=wa(function(){t.a=null,t.c&&(t.c=!1,_a(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Js(va,ia),(Fs=va.prototype).aa=!1,Fs.M=null,Fs.Za=function(){if(this.aa){var t=Xs()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),oa(this,"tick"),this.aa&&(ba(this),this.start()))}},Fs.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Xs())},Fs.G=function(){va.X.G.call(this),ba(this),delete this.a};var Oa=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ls(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:_a(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Hs.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(tu);function Ea(t){tu.call(this),this.b=t,this.a={}}Js(Ea,tu);var Ca=[];function Ia(t,e,n,r){Array.isArray(n)||(n&&(Ca[0]=n.toString()),n=Ca);for(var i=0;i<n.length;i++){var o=$u(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Sa(t){fu(t.a,function(t,e){this.a.hasOwnProperty(e)&&Zu(t)},t),t.a={}}function xa(){this.a=!0}function Ta(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ua(n)}catch(u){return e}}(t,n)+(r?" "+r:"")})}Ea.prototype.G=function(){Ea.X.G.call(this),Sa(this)},Ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xa.prototype.info=function(){};var Aa={},ja=null;function ka(){return ja=ja||new ia}function Na(t){Ru.call(this,Aa.Fa,t)}function Pa(t){var e=ka();oa(e,new Na(e,t))}function Da(t,e){Ru.call(this,Aa.STAT_EVENT,t),this.stat=e}function Ra(t){var e=ka();oa(e,new Da(e,t))}function Va(t){Ru.call(this,Aa.Ga,t)}function La(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Hs.setTimeout(function(){t()},e)}Aa.Fa="serverreachability",Js(Na,Ru),Aa.STAT_EVENT="statevent",Js(Da,Ru),Aa.Ga="timingevent",Js(Va,Ru);var Ma={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Fa={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ua(){}function qa(){}Ua.prototype.a=null;var Ha,za={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ba(){Ru.call(this,"d")}function Wa(){Ru.call(this,"c")}function Ga(){}function $a(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ea(this),this.P=Ka,this.R=new va(t=Ou?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Js(Ba,Ru),Js(Wa,Ru),Js(Ga,Ua),Ha=new Ga;var Ka=45e3,Qa={},Ya={};function Za(t,e,n){t.H=1,t.i=bc(dc(e)),t.j=n,t.I=!0,Xa(t,null)}function Xa(t,e){t.u=Xs(),ec(t),t.l=dc(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Nc(n.b,"t",r),t.D=0,t.a=Sl(t.g,t.g.C?e:null),0<t.O&&(t.F=new Oa(Ys(t.Ca,t,t.a),t.O)),Ia(t.J,t.a,"readystatechange",t.Xa),e=t.B?du(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Pa(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ja(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=tc(t,n);if(i==Ya){4==e&&(t.h=4,Ra(14),r=!1),Ta(t.c,t.f,null,"[Incomplete Response]");break}if(i==Qa){t.h=4,Ra(15),Ta(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ta(t.c,t.f,i,null),sc(t,i)}4==e&&0==n.length&&(t.h=1,Ra(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),vl(e),e.F=!0,Ra(11))):(Ta(t.c,t.f,n,"[Invalid Chunked Response]"),oc(t),ic(t))}function tc(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ya:(n=Number(e.substring(n,r)),isNaN(n)?Qa:(r+=1)+n>e.length?Ya:(e=e.substr(r,n),t.D=r+n,e))}function ec(t){t.T=Xs()+t.P,nc(t,t.P)}function nc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=La(Ys(t.Va,t),e)}function rc(t){t.o&&(Hs.clearTimeout(t.o),t.o=null)}function ic(t){0==t.g.v||t.A||_l(t.g,t)}function oc(t){rc(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ba(t.R),Sa(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function sc(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Fc(n.b,t)))if(n.I=t.N,!t.C&&Fc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(lw){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;wl(n),cl(n)}ml(n),Ra(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=La(Ys(n.Sa,n),6e3));if(1>=Mc(n.b)&&n.ea){try{n.ea()}catch(lw){}n.ea=void 0}}else El(n,11)}else if((t.C||n.a==t)&&wl(n),!ou(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(au(l,"spdy")||au(l,"quic")||au(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Uc(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,vc(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Xs()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=Il(a,a.C?a.ga:null,a.fa),d.C){qc(a.b,d);var p=d,g=a.D;g&&p.setTimeout(g),p.o&&(rc(p),ec(p)),a.a=d}else yl(a);0<n.g.length&&fl(n)}else"stop"!=i[0]&&"close"!=i[0]||El(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?El(n,7):al(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Pa(4)}catch(lw){}}function uc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Bs(t)||"string"==typeof t)nu(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Bs(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Bs(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ac(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ac)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function cc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];lc(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)lc(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function lc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Fs=$a.prototype).setTimeout=function(t){this.P=t},Fs.Xa=function(t){t=t.target;var e=this.F;e&&3==il(t)?e.f():this.Ca(t)},Fs.Ca=function(t){try{if(t==this.a)t:{var e=il(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ou&&!this.a.$())){this.A||4!=e||7==n||Pa(8==n||0>=r?3:2),rc(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ou(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,Ra(12),oc(this),ic(this);break t}Ta(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,sc(this,a)}this.I?(Ja(this,e,o),Ou&&this.b&&3==e&&(Ia(this.J,this.R,"tick",this.Wa),this.R.start())):(Ta(this.c,this.f,o,null),sc(this,o)),4==e&&oc(this),this.b&&!this.A&&(4==e?_l(this.g,this):(this.b=!1,ec(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Ra(12)):(this.h=0,Ra(13)),oc(this),ic(this)}}}catch(c){}},Fs.Wa=function(){if(this.a){var t=il(this.a),e=this.a.$();this.D<e.length&&(rc(this),Ja(this,t,e),this.b&&4!=t&&ec(this))}},Fs.cancel=function(){this.A=!0,oc(this)},Fs.Va=function(){this.o=null;var t=Xs();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Pa(3),Ra(17)),oc(this),this.h=2,ic(this)):nc(this,this.T-t)},(Fs=ac.prototype).K=function(){cc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Fs.L=function(){return cc(this),this.a.concat()},Fs.get=function(t,e){return lc(this.b,t)?this.b[t]:e},Fs.set=function(t,e){lc(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Fs.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var hc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function fc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof fc){this.a=void 0!==e?e:t.a,pc(this,t.f),this.j=t.j,gc(this,t.c),yc(this,t.h),this.g=t.g,e=t.b;var n=new Tc;n.c=e.c,e.a&&(n.a=new ac(e.a),n.b=e.b),mc(this,n),this.i=t.i}else t&&(n=String(t).match(hc))?(this.a=!!e,pc(this,n[1]||"",!0),this.j=wc(n[2]||""),gc(this,n[3]||"",!0),yc(this,n[4]),this.g=wc(n[5]||"",!0),mc(this,n[6]||"",!0),this.i=wc(n[7]||"")):(this.a=!!e,this.b=new Tc(null,this.a))}function dc(t){return new fc(t)}function pc(t,e,n){t.f=n?wc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function gc(t,e,n){t.c=n?wc(e,!0):e}function yc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function mc(t,e,n){e instanceof Tc?(t.b=e,function(t,e){e&&!t.f&&(Ac(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(jc(this,e),Nc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=_c(e,Sc)),t.b=new Tc(e,t.a))}function vc(t,e,n){t.b.set(e,n)}function bc(t){return vc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Xs()).toString(36)),t}function wc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _c(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Oc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Oc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}fc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(_c(e,Ec,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(_c(e,Ec,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(_c(n,"/"==n.charAt(0)?Ic:Cc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",_c(n,xc)),t.join("")};var Ec=/[#\/\?@]/g,Cc=/[#\?:]/g,Ic=/[#\?]/g,Sc=/[#\?@]/g,xc=/#/g;function Tc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ac(t){t.a||(t.a=new ac,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function jc(t,e){Ac(t),e=Pc(t,e),lc(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,lc((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&cc(t)))}function kc(t,e){return Ac(t),e=Pc(t,e),lc(t.a.b,e)}function Nc(t,e,n){jc(t,e),0<n.length&&(t.c=null,t.a.set(Pc(t,e),iu(n)),t.b+=n.length)}function Pc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Fs=Tc.prototype).add=function(t,e){Ac(this),this.c=null,t=Pc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Fs.forEach=function(t,e){Ac(this),this.a.forEach(function(n,r){nu(n,function(n){t.call(e,n,r,this)},this)},this)},Fs.L=function(){Ac(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Fs.K=function(t){Ac(this);var e=[];if("string"==typeof t)kc(this,t)&&(e=ru(e,this.a.get(Pc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ru(e,t[n])}return e},Fs.set=function(t,e){return Ac(this),this.c=null,kc(this,t=Pc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Fs.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Fs.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Dc=function(){return function(t,e){this.b=t,this.a=e}}();function Rc(t){this.g=t||Vc,t=Hs.PerformanceNavigationTiming?0<(t=Hs.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Hs.ia&&Hs.ia.ya&&Hs.ia.ya()&&Hs.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Vc=10;function Lc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Mc(t){return t.b?1:t.a?t.a.size:0}function Fc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Uc(t,e){t.a?t.a.add(e):t.b=e}function qc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Hc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ms(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return iu(t.c)}function zc(){}function Bc(){this.a=new zc}function Wc(t,e,n){var r=n||"";try{uc(t,function(t,n){var i=t;Ws(t)&&(i=ua(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Zw){throw e.push(r+"type="+encodeURIComponent("_badmap")),Zw}}function Gc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Rc.prototype.cancel=function(){var t,e;if(this.c=Hc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ms(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},zc.prototype.stringify=function(t){return Hs.JSON.stringify(t,void 0)},zc.prototype.parse=function(t){return Hs.JSON.parse(t,void 0)};var $c=Hs.JSON.parse;function Kc(t){ia.call(this),this.headers=new ac,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Qc,this.D=this.F=!1}Js(Kc,ia);var Qc="",Yc=/^https?$/i,Zc=["POST","PUT"];function Xc(t){return"content-type"==t.toLowerCase()}function Jc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,tl(t),nl(t)}function tl(t){t.u||(t.u=!0,oa(t,"complete"),oa(t,"error"))}function el(t){if(t.b&&void 0!==qs&&(!t.s[1]||4!=il(t)||2!=t.W()))if(t.l&&4==il(t))wa(t.za,0,t);else if(oa(t,"readystatechange"),4==il(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(hc)[1]||null;if(!o&&Hs.self&&Hs.self.location){var s=Hs.self.location.protocol;o=s.substr(0,s.length-1)}i=!Yc.test(o?o.toLowerCase():"")}e=i}if(e)oa(t,"complete"),oa(t,"success");else{t.h=6;try{var u=2<il(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",tl(t)}}finally{nl(t)}}}function nl(t,e){if(t.a){rl(t);var n=t.a,r=t.s[0]?zs:null;t.a=null,t.s=null,e||oa(t,"ready");try{n.onreadystatechange=r}catch(Zw){}}}function rl(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Hs.clearTimeout(t.m),t.m=null)}function il(t){return t.a?t.a.readyState:0}function ol(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return fu(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):vc(t,e,n))}function sl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ul(t){this.pa=0,this.g=[],this.c=new xa,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=sl("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=sl("baseRetryDelayMs",5e3,t),this.Ra=sl("retryDelaySeedMs",1e4,t),this.Ma=sl("forwardChannelMaxRetries",2,t),this.ma=sl("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Rc(t&&t.concurrentRequestLimit),this.ka=new Bc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function al(t){if(ll(t),3==t.v){var e=t.R++,n=dc(t.B);vc(n,"SID",t.J),vc(n,"RID",e),vc(n,"TYPE","terminate"),pl(t,n),(e=new $a(t,t.c,e,void 0)).H=2,e.i=bc(dc(n)),n=!1,Hs.navigator&&Hs.navigator.sendBeacon&&(n=Hs.navigator.sendBeacon(e.i.toString(),"")),!n&&Hs.Image&&((new Image).src=e.i,n=!0),n||(e.a=Sl(e.g,null),e.a.ba(e.i)),e.u=Xs(),ec(e)}Cl(t)}function cl(t){t.a&&(vl(t),t.a.cancel(),t.a=null)}function ll(t){cl(t),t.j&&(Hs.clearTimeout(t.j),t.j=null),wl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Hs.clearTimeout(t.h),t.h=null)}function hl(t,e){t.g.push(new Dc(t.Oa++,e)),3==t.v&&fl(t)}function fl(t){Lc(t.b)||t.h||(t.h=!0,pa(t.Ba,t),t.u=0)}function dl(t,e){var n;n=e?e.f:t.R++;var r=dc(t.B);vc(r,"SID",t.J),vc(r,"RID",n),vc(r,"AID",t.P),pl(t,r),t.i&&t.l&&ol(r,t.i,t.l),n=new $a(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=gl(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Uc(t.b,n),Za(n,r,e)}function pl(t,e){t.f&&uc({},function(t,n){vc(e,n,t)})}function gl(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ys(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{Wc(l,s,"req"+c+"_")}catch(ah){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function yl(t){t.a||t.j||(t.T=1,pa(t.Aa,t),t.o=0)}function ml(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=La(Ys(t.Aa,t),Ol(t,t.o)),t.o++,0))}function vl(t){null!=t.s&&(Hs.clearTimeout(t.s),t.s=null)}function bl(t){t.a=new $a(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=dc(t.la);vc(e,"RID","rpc"),vc(e,"SID",t.J),vc(e,"CI",t.H?"0":"1"),vc(e,"AID",t.P),pl(t,e),vc(e,"TYPE","xmlhttp"),t.i&&t.l&&ol(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=bc(dc(e)),n.j=null,n.I=!0,Xa(n,t)}function wl(t){null!=t.m&&(Hs.clearTimeout(t.m),t.m=null)}function _l(t,e){var n=null;if(t.a==e){wl(t),vl(t),t.a=null;var r=2}else{if(!Fc(t.b,e))return;n=e.s,qc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Xs()-e.u;var i=t.u;oa(r=ka(),new Va(r,n,e,i)),fl(t)}else yl(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Mc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=La(Ys(t.Ba,t,e),Ol(t,t.u)),t.u++,0)))}(t,e)||2==r&&ml(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:El(t,5);break;case 4:El(t,10);break;case 3:El(t,6);break;default:El(t,2)}}function Ol(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function El(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ys(t.Ya,t);n||(n=new fc("//www.google.com/images/cleardot.gif"),Hs.location&&"http"==Hs.location.protocol||pc(n,"https"),bc(n)),function(t,e){var n=new xa;if(Hs.Image){var r=new Image;r.onload=Zs(Gc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Zs(Gc,n,r,"TestLoadImage: error",!1,e),r.onabort=Zs(Gc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Zs(Gc,n,r,"TestLoadImage: timeout",!1,e),Hs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ra(2);t.v=0,t.f&&t.f.ra(e),Cl(t),ll(t)}function Cl(t){t.v=0,t.I=-1,t.f&&(0==Hc(t.b).length&&0==t.g.length||(t.b.c.length=0,iu(t.g),t.g.length=0),t.f.qa())}function Il(t,e,n){var r=function(t){return t instanceof fc?dc(t):new fc(t,void 0)}(n);if(""!=r.c)e&&gc(r,e+"."+r.c),yc(r,r.h);else{var i=Hs.location;r=function(t,e,n,r){var i=new fc(null,void 0);return t&&pc(i,t),e&&gc(i,e),n&&yc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&fu(t.V,function(t,e){vc(r,e,t)}),n=t.na,(e=t.A)&&n&&vc(r,e,n),vc(r,"VER",t.ha),pl(t,r),r}function Sl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kc(t.Na)).F=t.C,e}function xl(){}function Tl(){if(wu&&!(10<=Number(ku)))throw Error("Environmental error: no available transport.")}function Al(t,e){ia.call(this),this.a=new ul(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ou(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ou(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Nl(this)}function jl(t){Ba.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function kl(){Wa.call(this),this.status=1}function Nl(t){this.a=t}(Fs=Kc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ha),this.a.onreadystatechange=Ys(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Jc(this,o)}t=n||"";var i=new ac(this.headers);r&&uc(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Xc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Hs.FormData&&t instanceof Hs.FormData,!(0<=eu(Zc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{rl(this),0<this.o&&((this.D=function(t){return wu&&ju(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ys(this.xa,this)):this.m=wa(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Jc(this,o)}},Fs.xa=function(){void 0!==qs&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,oa(this,"timeout"),this.abort(8))},Fs.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,oa(this,"complete"),oa(this,"abort"),nl(this))},Fs.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),nl(this,!0)),Kc.X.G.call(this)},Fs.za=function(){this.j||(this.A||this.l||this.g?el(this):this.Ua())},Fs.Ua=function(){el(this)},Fs.W=function(){try{return 2<il(this)?this.a.status:-1}catch(vu){return-1}},Fs.$=function(){try{return this.a?this.a.responseText:""}catch(vu){return""}},Fs.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),$c(e)}},Fs.ua=function(){return this.h},Fs.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Fs=ul.prototype).ha=8,Fs.v=1,Fs.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new $a(this,this.c,t,void 0),r=this.l;if(this.O&&(r?gu(r=du(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=gl(this,n,e),vc(i=dc(this.B),"RID",t),vc(i,"CVER",22),this.A&&vc(i,"X-HTTP-Session-Id",this.A),pl(this,i),this.i&&r&&ol(i,this.i,r),Uc(this.b,n),this.Ia&&vc(i,"TYPE","init"),this.da?(vc(i,"$req",e),vc(i,"SID","null"),n.U=!0,Za(n,i,null)):Za(n,i,e),this.v=2}}else 3==this.v&&(t?dl(this,t):0==this.g.length||Lc(this.b)||dl(this))},Fs.Aa=function(){if(this.j=null,bl(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=La(Ys(this.Ta,this),t)}},Fs.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ra(10),cl(this),bl(this))},Fs.Sa=function(){null!=this.m&&(this.m=null,cl(this),ml(this),Ra(19))},Fs.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ra(2)):(this.c.info("Failed to ping google.com"),Ra(1))},(Fs=xl.prototype).ta=function(){},Fs.sa=function(){},Fs.ra=function(){},Fs.qa=function(){},Fs.Ja=function(){},Tl.prototype.a=function(t,e){return new Al(t,e)},Js(Al,ia),Al.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ra(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Il(t,null,t.fa),fl(t)},Al.prototype.close=function(){al(this.a)},Al.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,hl(this.a,e)}else this.l?((e={}).__data__=ua(t),hl(this.a,e)):hl(this.a,t)},Al.prototype.G=function(){this.a.f=null,delete this.f,al(this.a),delete this.a,Al.X.G.call(this)},Js(jl,Ba),Js(kl,Wa),Js(Nl,xl),Nl.prototype.ta=function(){oa(this.a,"a")},Nl.prototype.sa=function(t){oa(this.a,new jl(t))},Nl.prototype.ra=function(t){oa(this.a,new kl(t))},Nl.prototype.qa=function(){oa(this.a,"b")},Tl.prototype.createWebChannel=Tl.prototype.a,Al.prototype.send=Al.prototype.h,Al.prototype.open=Al.prototype.g,Al.prototype.close=Al.prototype.close,Ma.NO_ERROR=0,Ma.TIMEOUT=8,Ma.HTTP_ERROR=6,Fa.COMPLETE="complete",qa.EventType=za,za.OPEN="a",za.CLOSE="b",za.ERROR="c",za.MESSAGE="d",ia.prototype.listen=ia.prototype.va,Kc.prototype.listenOnce=Kc.prototype.wa,Kc.prototype.getLastError=Kc.prototype.Qa,Kc.prototype.getLastErrorCode=Kc.prototype.ua,Kc.prototype.getStatus=Kc.prototype.W,Kc.prototype.getResponseJson=Kc.prototype.Pa,Kc.prototype.getResponseText=Kc.prototype.$,Kc.prototype.send=Kc.prototype.ba;var Pl=Ma,Dl=Fa,Rl=Aa,Vl=qa,Ll=Kc,Ml=n("30Go"),Fl=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},Ul=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ql=new Rs.b("@firebase/firestore");function Hl(){return ql.logLevel}function zl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ql.logLevel<=Rs.a.DEBUG){var r=e.map(Gl);ql.debug.apply(ql,Object(Ml.g)(["Firestore (8.2.9): "+t],r))}}function Bl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ql.logLevel<=Rs.a.ERROR){var r=e.map(Gl);ql.error.apply(ql,Object(Ml.g)(["Firestore (8.2.9): "+t],r))}}function Wl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ql.logLevel<=Rs.a.WARN){var r=e.map(Gl);ql.warn.apply(ql,Object(Ml.g)(["Firestore (8.2.9): "+t],r))}}function Gl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Zw){return t}}function $l(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw Bl(e),new Error(e)}function Kl(t,e){t||$l()}function Ql(t,e){return t}function Yl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Zl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Yl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Xl(t,e){return t<e?-1:t>e?1:0}function Jl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function th(t){return t+"\0"}var eh=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Xl(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();eh.T=new eh("");var nh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rh=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ml.c)(e,t),e}(Error),ih=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(eh.fromBase64String(e))}catch(e){throw new rh(nh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(eh.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),oh=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();oh.UNAUTHENTICATED=new oh(null),oh.R=new oh("google-credentials-uid"),oh.P=new oh("first-party-uid");var sh=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},uh=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(oh.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),ah=function(){function t(t){var e=this;this.D=null,this.currentUser=oh.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(zl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Kl("string"==typeof n.accessToken),new sh(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Kl(null===t||"string"==typeof t),new oh(t)},t}(),ch=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=oh.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),lh=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new ch(this.F,this.O))},t.prototype.v=function(t){t(oh.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),hh=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();hh.q=-1;var fh=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new rh(nh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new rh(nh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new rh(nh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rh(nh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Xl(this.nanoseconds,t.nanoseconds):Xl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),dh=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new fh(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),ph=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&$l(),void 0===n?n=t.length-e:n>t.length-e&&$l(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ml.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new rh(nh.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(ph),yh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ml.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return yh.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new rh(nh.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new rh(nh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new rh(nh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new rh(nh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(ph),vh=function(){function t(t){this.path=t}return t._t=function(e){return new t(gh.ot(e))},t.ft=function(e){return new t(gh.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===gh.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return gh.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new gh(e.slice()))},t}();function bh(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _h(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oh=function(){function t(t){this.fields=t,t.sort(mh.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Jl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Eh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ch(t){if(Kl(!!t),"string"==typeof t){var e=0,n=Eh.exec(t);if(Kl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ih(t.seconds),nanos:Ih(t.nanos)}}function Ih(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Sh(t){return"string"==typeof t?eh.fromBase64String(t):eh.fromUint8Array(t)}function xh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Th(t){var e=t.mapValue.fields.__previous_value__;return xh(e)?Th(e):e}function Ah(t){var e=Ch(t.mapValue.fields.__local_write_time__.timestampValue);return new fh(e.seconds,e.nanos)}function jh(t){return null==t}function kh(t){return 0===t&&1/t==-1/0}function Nh(t){return"number"==typeof t&&Number.isInteger(t)&&!kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ph(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xh(t)?4:10:$l()}function Dh(t,e){var n=Ph(t);if(n!==Ph(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ah(t).isEqual(Ah(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ch(t.timestampValue),r=Ch(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Sh(t.bytesValue).isEqual(Sh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ih(t.geoPointValue.latitude)===Ih(e.geoPointValue.latitude)&&Ih(t.geoPointValue.longitude)===Ih(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ih(t.integerValue)===Ih(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ih(t.doubleValue),r=Ih(e.doubleValue);return n===r?kh(n)===kh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Jl(t.arrayValue.values||[],e.arrayValue.values||[],Dh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(bh(n)!==bh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dh(n[i],r[i])))return!1;return!0}(t,e);default:return $l()}}function Rh(t,e){return void 0!==(t.values||[]).find(function(t){return Dh(t,e)})}function Vh(t,e){var n=Ph(t),r=Ph(e);if(n!==r)return Xl(n,r);switch(n){case 0:return 0;case 1:return Xl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ih(t.integerValue||t.doubleValue),r=Ih(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Lh(t.timestampValue,e.timestampValue);case 4:return Lh(Ah(t),Ah(e));case 5:return Xl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Sh(t),r=Sh(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Xl(n[i],r[i]);if(0!==o)return o}return Xl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Xl(Ih(t.latitude),Ih(e.latitude));return 0!==n?n:Xl(Ih(t.longitude),Ih(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Vh(n[i],r[i]);if(o)return o}return Xl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=Xl(r[s],o[s]);if(0!==u)return u;var a=Vh(n[r[s]],i[o[s]]);if(0!==a)return a}return Xl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw $l()}}function Lh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Xl(t,e);var n=Ch(t),r=Ch(e),i=Xl(n.seconds,r.seconds);return 0!==i?i:Xl(n.nanos,r.nanos)}function Mh(t){return Fh(t)}function Fh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ch(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Sh(t.bytesValue).toBase64():"referenceValue"in t?vh.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Fh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Fh(t.fields[o])}return e+"}"}(t.mapValue):$l();var e}function Uh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function qh(t){return!!t&&"integerValue"in t}function Hh(t){return!!t&&"arrayValue"in t}function zh(t){return!!t&&"nullValue"in t}function Bh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wh(t){return!!t&&"mapValue"in t}var Gh=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Wh(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return Dh(this.proto,t.proto)},t}(),$h=function(){function t(t){void 0===t&&(t=Gh.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ph(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(mh.ct(),this.At);return null!=t?new Gh(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=Wh(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Kh(t){var e=[];return wh(t.fields||{},function(t,n){var r=new mh([t]);if(Wh(n)){var i=Kh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Oh(e)}var Qh=function(t,e){this.key=t,this.version=e},Yh=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Ml.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Qh),Zh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Ml.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Qh),Xh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ml.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Qh),Jh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function tf(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Jh(t,e,n,r,i,o,s)}function ef(t){var e=Ql(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+Mh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=gf(e.startAt)),e.endAt&&(n+="|ub:",n+=gf(e.endAt)),e.vt=n}return e.vt}function nf(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!mf(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Dh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bf(t.startAt,e.startAt)&&bf(t.endAt,e.endAt)}function rf(t){return vh.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var of=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ml.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new sf(t,n,r):"array-contains"===n?new lf(t,r):"in"===n?new hf(t,r):"not-in"===n?new ff(t,r):"array-contains-any"===n?new df(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new uf(t,n):new af(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(Vh(e,this.value)):null!==e&&Ph(this.value)===Ph(e)&&this.Dt(Vh(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return $l()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),sf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=vh.ft(r.referenceValue),i}return Object(Ml.c)(e,t),e.prototype.matches=function(t){var e=vh.H(t.key,this.key);return this.Dt(e)},e}(of),uf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=cf(0,n),r}return Object(Ml.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(of),af=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=cf(0,n),r}return Object(Ml.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(of);function cf(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return vh.ft(t.referenceValue)})}var lf=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ml.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Hh(e)&&Rh(e.arrayValue,this.value)},e}(of),hf=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ml.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Rh(this.value.arrayValue,e)},e}(of),ff=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ml.c)(e,t),e.prototype.matches=function(t){if(Rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Rh(this.value.arrayValue,e)},e}(of),df=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ml.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Hh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Rh(e.value.arrayValue,t)})},e}(of),pf=function(t,e){this.position=t,this.before=e};function gf(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Mh(t)}).join(",")}var yf=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function mf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function vf(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?vh.H(vh.ft(s.referenceValue),n.key):Vh(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function bf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Dh(t.position[n],e.position[n]))return!1;return!0}var wf=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Nt=null,this.$t=null};function _f(t,e,n,r,i,o,s,u){return new wf(t,e,n,r,i,o,s,u)}function Of(t){return new wf(t)}function Ef(t){return!jh(t.limit)&&"F"===t.limitType}function Cf(t){return!jh(t.limit)&&"L"===t.limitType}function If(t){return t.xt.length>0?t.xt[0].field:null}function Sf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function xf(t){return null!==t.collectionGroup}function Tf(t){var e=Ql(t);if(null===e.Nt){e.Nt=[];var n=Sf(e),r=If(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new yf(n)),e.Nt.push(new yf(mh.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var u=s[o];e.Nt.push(u),u.field.ut()&&(i=!0)}if(!i){var a=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new yf(mh.ht(),a))}}}return e.Nt}function Af(t){var e=Ql(t);if(!e.$t)if("F"===e.limitType)e.$t=tf(e.path,e.collectionGroup,Tf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Tf(e);r<i.length;r++){var o=i[r];n.push(new yf(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new pf(e.endAt.position,!e.endAt.before):null,u=e.startAt?new pf(e.startAt.position,!e.startAt.before):null;e.$t=tf(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.$t}function jf(t,e,n){return new wf(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kf(t,e){return nf(Af(t),Af(e))&&t.limitType===e.limitType}function Nf(t){return ef(Af(t))+"|lt:"+t.limitType}function Pf(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+Mh(e.value);var e}).join(", ")+"]"),jh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+gf(t.startAt)),t.endAt&&(e+=", endAt: "+gf(t.endAt)),"Target("+e+")"}(Af(t))+"; limitType="+t.limitType+")"}function Df(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):vh.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!vf(t.startAt,Tf(t),e)||t.endAt&&vf(t.endAt,Tf(t),e))}(t,e)}function Rf(t){return function(e,n){for(var r=!1,i=0,o=Tf(t);i<o.length;i++){var s=o[i],u=Vf(s,e,n);if(0!==u)return u;r=r||s.field.ut()}return 0}}function Vf(t,e,n){var r=t.field.ut()?vh.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Vh(r,i):$l()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $l()}}var Lf=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=dh.min()),void 0===o&&(o=dh.min()),void 0===s&&(s=eh.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function Mf(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function Ff(t){return{integerValue:""+t}}function Uf(t,e){return Nh(e)?Ff(e):Mf(t,e)}var qf=function(){this.qt=void 0};function Hf(t,e,n){return t instanceof Wf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Gf?$f(t,e):t instanceof Kf?Qf(t,e):function(t,e){var n=Bf(t,e),r=Zf(n)+Zf(t.Ut);return qh(n)&&qh(t.Ut)?Ff(r):Mf(t.Qt,r)}(t,e)}function zf(t,e,n){return t instanceof Gf?$f(t,e):t instanceof Kf?Qf(t,e):n}function Bf(t,e){return t instanceof Yf?qh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Wf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ml.c)(e,t),e}(qf),Gf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ml.c)(e,t),e}(qf);function $f(t,e){for(var n=Xf(e),r=function(t){n.some(function(e){return Dh(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Kf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ml.c)(e,t),e}(qf);function Qf(t,e){for(var n=Xf(e),r=function(t){n=n.filter(function(e){return!Dh(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Yf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(Ml.c)(e,t),e}(qf);function Zf(t){return Ih(t.integerValue||t.doubleValue)}function Xf(t){return Hh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Jf=function(t,e){this.field=t,this.transform=e},td=function(t,e){this.version=t,this.transformResults=e},ed=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function nd(t,e){return void 0!==t.updateTime?e instanceof Yh&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Yh}var rd=function(){};function id(t,e,n){return t instanceof cd?function(t,e,n){var r=t.value;if(n.transformResults){var i=fd(t.fieldTransforms,e,n.transformResults);r=pd(t.fieldTransforms,r,i)}return new Yh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ld?function(t,e,n){if(!nd(t.jt,e))return new Xh(t.key,n.version);var r=hd(t,e,n.transformResults?fd(t.fieldTransforms,e,n.transformResults):[]);return new Yh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Zh(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function od(t,e,n){return t instanceof cd?function(t,e,n){if(!nd(t.jt,e))return e;var r=t.value,i=dd(t.fieldTransforms,n,e);r=pd(t.fieldTransforms,r,i);var o=ad(e);return new Yh(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof ld?function(t,e,n){if(!nd(t.jt,e))return e;var r=ad(e),i=hd(t,e,dd(t.fieldTransforms,n,e));return new Yh(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return nd(t.jt,e)?new Zh(t.key,dh.min()):e}(t,e)}function sd(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Yh?e.field(o.field):void 0,u=Bf(o.transform,s||null);null!=u&&(n=null==n?(new $h).set(o.field,u):n.set(o.field,u))}return n?n.Pt():null}(t.fieldTransforms,e)}function ud(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Jl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Gf&&e instanceof Gf||t instanceof Kf&&e instanceof Kf?Jl(t.elements,e.elements,Dh):t instanceof Yf&&e instanceof Yf?Dh(t.Ut,e.Ut):t instanceof Wf&&e instanceof Wf}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function ad(t){return t instanceof Yh?t.version:dh.min()}var cd=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(Ml.c)(e,t),e}(rd),ld=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(Ml.c)(e,t),e}(rd);function hd(t,e,n){var r;return r=function(t,e){var n=new $h(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof Yh?e.data():Gh.empty()),pd(t.fieldTransforms,r,n)}function fd(t,e,n){var r=[];Kl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof Yh&&(u=e.field(o.field)),r.push(zf(s,u,n[i]))}return r}function dd(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],u=s.transform,a=null;n instanceof Yh&&(a=n.field(s.field)),r.push(Hf(u,a,e))}return r}function pd(t,e,n){for(var r=new $h(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var gd,yd,md=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(Ml.c)(e,t),e}(rd),vd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(Ml.c)(e,t),e}(rd),bd=function(t){this.count=t};function wd(t){switch(t){case nh.OK:return $l();case nh.CANCELLED:case nh.UNKNOWN:case nh.DEADLINE_EXCEEDED:case nh.RESOURCE_EXHAUSTED:case nh.INTERNAL:case nh.UNAVAILABLE:case nh.UNAUTHENTICATED:return!1;case nh.INVALID_ARGUMENT:case nh.NOT_FOUND:case nh.ALREADY_EXISTS:case nh.PERMISSION_DENIED:case nh.FAILED_PRECONDITION:case nh.ABORTED:case nh.OUT_OF_RANGE:case nh.UNIMPLEMENTED:case nh.DATA_LOSS:return!0;default:return $l()}}function _d(t){if(void 0===t)return Bl("GRPC error has no .code"),nh.UNKNOWN;switch(t){case gd.OK:return nh.OK;case gd.CANCELLED:return nh.CANCELLED;case gd.UNKNOWN:return nh.UNKNOWN;case gd.DEADLINE_EXCEEDED:return nh.DEADLINE_EXCEEDED;case gd.RESOURCE_EXHAUSTED:return nh.RESOURCE_EXHAUSTED;case gd.INTERNAL:return nh.INTERNAL;case gd.UNAVAILABLE:return nh.UNAVAILABLE;case gd.UNAUTHENTICATED:return nh.UNAUTHENTICATED;case gd.INVALID_ARGUMENT:return nh.INVALID_ARGUMENT;case gd.NOT_FOUND:return nh.NOT_FOUND;case gd.ALREADY_EXISTS:return nh.ALREADY_EXISTS;case gd.PERMISSION_DENIED:return nh.PERMISSION_DENIED;case gd.FAILED_PRECONDITION:return nh.FAILED_PRECONDITION;case gd.ABORTED:return nh.ABORTED;case gd.OUT_OF_RANGE:return nh.OUT_OF_RANGE;case gd.UNIMPLEMENTED:return nh.UNIMPLEMENTED;case gd.DATA_LOSS:return nh.DATA_LOSS;default:return $l()}}(yd=gd||(gd={}))[yd.OK=0]="OK",yd[yd.CANCELLED=1]="CANCELLED",yd[yd.UNKNOWN=2]="UNKNOWN",yd[yd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yd[yd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yd[yd.NOT_FOUND=5]="NOT_FOUND",yd[yd.ALREADY_EXISTS=6]="ALREADY_EXISTS",yd[yd.PERMISSION_DENIED=7]="PERMISSION_DENIED",yd[yd.UNAUTHENTICATED=16]="UNAUTHENTICATED",yd[yd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yd[yd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yd[yd.ABORTED=10]="ABORTED",yd[yd.OUT_OF_RANGE=11]="OUT_OF_RANGE",yd[yd.UNIMPLEMENTED=12]="UNIMPLEMENTED",yd[yd.INTERNAL=13]="INTERNAL",yd[yd.UNAVAILABLE=14]="UNAVAILABLE",yd[yd.DATA_LOSS=15]="DATA_LOSS";var Od=function(){function t(t,e){this.H=t,this.root=e||Cd.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,Cd.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,Cd.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new Ed(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new Ed(this.root,t,this.H,!1)},t.prototype.ne=function(){return new Ed(this.root,null,this.H,!0)},t.prototype.se=function(t){return new Ed(this.root,t,this.H,!0)},t}(),Ed=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),Cd=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw $l();if(this.right.le())throw $l();var t=this.left.Ie();if(t!==this.right.Ie())throw $l();return t+(this.le()?0:1)},t}();Cd.EMPTY=null,Cd.RED=!0,Cd.Ht=!1,Cd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw $l()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw $l()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw $l()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw $l()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw $l()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new Cd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var Id=function(){function t(t){this.H=t,this.data=new Od(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new Sd(this.data.te())},t.prototype.ee=function(t){return new Sd(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),Sd=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),xd=new Od(vh.H);function Td(){return xd}function Ad(){return Td()}var jd=new Od(vh.H);function kd(){return jd}var Nd=new Od(vh.H);function Pd(){return Nd}var Dd=new Id(vh.H);function Rd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Dd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Vd=new Id(Xl);function Ld(){return Vd}var Md=function(){function t(t){this.H=t?function(e,n){return t(e,n)||vh.H(e.key,n.key)}:function(t,e){return vh.H(t.key,e.key)},this.ge=kd(),this.Ve=new Od(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),Fd=function(){function t(){this.be=new Od(vh.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):$l():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),Ud=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=u}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Md.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&kf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),qd=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,Hd.Le(e,n)),new t(dh.min(),r,Ld(),Td(),Rd())},t}(),Hd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(eh.T,n,Rd(),Rd(),Rd())},t}(),zd=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Bd=function(t,e){this.targetId=t,this.je=e},Wd=function(t,e,n,r){void 0===n&&(n=eh.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Gd=function(){function t(){this.Ge=0,this.ze=Qd(),this.He=eh.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=Rd(),e=Rd(),n=Rd();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:$l()}}),new Hd(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Qd()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),$d=function(){function t(t){this.un=t,this.hn=new Map,this.ln=Td(),this._n=Kd(),this.fn=new Id(Xl)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof Yh?this.wn(r,t.We):t.We instanceof Zh&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:$l()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(rf(i))if(0===n){var o=new vh(i.path);this.En(e,o,new Zh(o,dh.min()))}else Kl(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&rf(o.target)){var s=new vh(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new Zh(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=Rd();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)}),i&&(r=r.add(t))});var i=new qd(t,n,this.fn,this.ln,r);return this.ln=Td(),this._n=Kd(),this.fn=new Id(Xl),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Gd,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new Id(Xl),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||zl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Gd),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function Kd(){return new Od(vh.H)}function Qd(){return new Od(vh.H)}var Yd={asc:"ASCENDING",desc:"DESCENDING"},Zd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xd=function(t,e){this.t=t,this.Bt=e};function Jd(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function tp(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function ep(t,e){return Jd(t,e.j())}function np(t){return Kl(!!t),dh.K(function(t){var e=Ch(t);return new fh(e.seconds,e.nanos)}(t))}function rp(t,e){return function(t){return new gh(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function ip(t){var e=gh.ot(t);return Kl(Tp(e)),e}function op(t,e){return rp(t.t,e.path)}function sp(t,e){var n=ip(e);if(n.get(1)!==t.t.projectId)throw new rh(nh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new rh(nh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new vh(lp(n))}function up(t,e){return rp(t.t,e)}function ap(t){var e=ip(t);return 4===e.length?gh.ct():lp(e)}function cp(t){return new gh(["projects",t.t.projectId,"databases",t.t.database]).rt()}function lp(t){return Kl(t.length>4&&"documents"===t.get(4)),t.Y(5)}function hp(t,e,n){return{name:op(t,e),fields:n.proto.mapValue.fields}}function fp(t,e,n){var r=sp(t,e.name),i=np(e.updateTime),o=new Gh({mapValue:{fields:e.fields}});return new Yh(r,i,o,{hasCommittedMutations:!!n})}function dp(t,e){var n;if(e instanceof cd)n={update:hp(t,e.key,e.value)};else if(e instanceof md)n={delete:op(t,e.key)};else if(e instanceof ld)n={update:hp(t,e.key,e.data),updateMask:xp(e.Gt)};else{if(!(e instanceof vd))return $l();n={verify:op(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Wf)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gf)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Kf)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof Yf)return{fieldPath:e.field.rt(),increment:n.Ut};throw $l()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ep(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:$l()}(t,e.jt)),n}function pp(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ed.updateTime(np(t.updateTime)):void 0!==t.exists?ed.exists(t.exists):ed.Kt()}(e.currentDocument):ed.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Kl("REQUEST_TIME"===e.setToServerValue),n=new Wf):"appendMissingElements"in e?n=new Gf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Kf(e.removeAllFromArray.values||[]):"increment"in e?n=new Yf(t,e.increment):$l();var r=mh.lt(e.fieldPath);return new Jf(r,n)}(t,e)}):[];if(e.update){var i=sp(t,e.update.name),o=new Gh({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Oh((t.fieldPaths||[]).map(function(t){return mh.lt(t)}))}(e.updateMask);return new ld(i,o,s,n,r)}return new cd(i,o,n,r)}if(e.delete){var u=sp(t,e.delete);return new md(u,n)}if(e.verify){var a=sp(t,e.verify);return new vd(a,n)}return $l()}function gp(t,e){return{documents:[up(t,e.path)]}}function yp(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=up(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=up(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Bh(t.value))return{unaryFilter:{field:Ep(t.field),op:"IS_NAN"}};if(zh(t.value))return{unaryFilter:{field:Ep(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Bh(t.value))return{unaryFilter:{field:Ep(t.field),op:"IS_NOT_NAN"}};if(zh(t.value))return{unaryFilter:{field:Ep(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ep(t.field),op:Op(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Ep(t.field),direction:_p(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||jh(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=bp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=bp(e.endAt)),n}function mp(t){var e=ap(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Kl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=vp(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new yf(Cp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return jh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=wp(n.startAt));var l=null;return n.endAt&&(l=wp(n.endAt)),_f(e,i,u,s,a,"F",c,l)}function vp(t){return t?void 0!==t.unaryFilter?[Sp(t)]:void 0!==t.fieldFilter?[Ip(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return vp(t)}).reduce(function(t,e){return t.concat(e)}):$l():[]}function bp(t){return{before:t.before,values:t.position}}function wp(t){return new pf(t.values||[],!!t.before)}function _p(t){return Yd[t]}function Op(t){return Zd[t]}function Ep(t){return{fieldPath:t.rt()}}function Cp(t){return mh.lt(t.fieldPath)}function Ip(t){return of.create(Cp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return $l()}}(t.fieldFilter.op),t.fieldFilter.value)}function Sp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Cp(t.unaryFilter.field);return of.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Cp(t.unaryFilter.field);return of.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Cp(t.unaryFilter.field);return of.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Cp(t.unaryFilter.field);return of.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return $l()}}function xp(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function Tp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ap=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},jp=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&$l(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}})},t.prototype.On=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Mn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Mn(r)},t}(),kp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new Ap,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new Dp(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=Fp(e.target.error);n.Bn.reject(new Dp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Dp(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(zl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Vp(e)},t}(),Np=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(Vs.g)())&&Bl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return zl("SimpleDb","Removing database:",t),Lp(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Vs.g)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(Ml.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ml.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(zl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Dp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new rh(nh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Dp(t,n))},i.onupgradeneeded=function(t){zl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){zl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ml.b)(this,void 0,void 0,function(){var i,o,s,u,a;return Object(Ml.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(Ml.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.Hn(t)];case 2:return u.db=h.sent(),e=kp.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),jp.reject(t)}).On(),a={},s.catch(function(){}),[4,e.qn];case 3:return[2,(a.value=(h.sent(),s),a)];case 4:return zl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Pp=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return Lp(this.Zn.delete())},t}(),Dp=function(t){function e(e,n){var r=this;return(r=t.call(this,nh.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ml.c)(e,t),e}(rh);function Rp(t){return"IndexedDbTransactionError"===t.name}var Vp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(zl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(zl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Lp(n)},t.prototype.add=function(t){return zl("SimpleDb","ADD",this.store.name,t,t),Lp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Lp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),zl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return zl("SimpleDb","DELETE",this.store.name,t),Lp(this.store.delete(t))},t.prototype.count=function(){return zl("SimpleDb","COUNT",this.store.name),Lp(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){zl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new jp(function(n,r){e.onerror=function(t){var e=Fp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new jp(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Pp(i),s=e(i.primaryKey,i.value,o);if(s instanceof jp){var u=s.catch(function(t){return o.done(),jp.reject(t)});n.push(u)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return jp.Mn(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Lp(t){return new jp(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Fp(t.target.error);n(e)}})}var Mp=!1;function Fp(t){var e=Np.Qn(Object(Vs.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new rh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Mp||(Mp=!0,setTimeout(function(){throw r},0)),r}}return t}var Up=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new Ap,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new rh(nh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function qp(t,e){if(Bl("AsyncQueue",e+": "+t),Rp(t))return new rh(nh.UNAVAILABLE,e+": "+t);throw t}var Hp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zp=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function Bp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Gp(e)),e=Wp(t.get(n),e);return Gp(e)}function Wp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Gp(t){return t+"\x01\x01"}function $p(t){var e=t.length;if(Kl(e>=2),2===e)return Kl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),gh.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&$l(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:$l()}o=s+2}return new gh(r)}var Kp=function(t,e){this.seconds=t,this.nanoseconds=e},Qp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Qp.store="owner",Qp.key="owner";var Yp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Yp.store="mutationQueues",Yp.keyPath="userId";var Zp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Zp.store="mutations",Zp.keyPath="batchId",Zp.userMutationsIndex="userMutationsIndex",Zp.userMutationsKeyPath=["userId","batchId"];var Xp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Bp(e)]},t.key=function(t,e,n){return[t,Bp(e),n]},t}();Xp.store="documentMutations",Xp.PLACEHOLDER=new Xp;var Jp=function(t,e){this.path=t,this.readTime=e},tg=function(t,e){this.path=t,this.version=e},eg=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};eg.store="remoteDocuments",eg.readTimeIndex="readTimeIndex",eg.readTimeIndexPath="readTime",eg.collectionReadTimeIndex="collectionReadTimeIndex",eg.collectionReadTimeIndexPath=["parentPath","readTime"];var ng=function(t){this.byteSize=t};ng.store="remoteDocumentGlobal",ng.key="remoteDocumentGlobalKey";var rg=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};rg.store="targets",rg.keyPath="targetId",rg.queryTargetsIndexName="queryTargetsIndex",rg.queryTargetsKeyPath=["canonicalId","targetId"];var ig=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ig.store="targetDocuments",ig.keyPath=["targetId","path"],ig.documentTargetsIndex="documentTargetsIndex",ig.documentTargetsKeyPath=["path","targetId"];var og=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};og.key="targetGlobalKey",og.store="targetGlobal";var sg=function(t,e){this.collectionId=t,this.parent=e};sg.store="collectionParents",sg.keyPath=["collectionId","parent"];var ug=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ug.store="clientMetadata",ug.keyPath="clientId";var ag=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ag.store="bundles",ag.keyPath="bundleId";var cg=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};cg.store="namedQueries",cg.keyPath="name";var lg=Object(Ml.g)(Object(Ml.g)(Object(Ml.g)(Object(Ml.g)([Yp.store,Zp.store,Xp.store,eg.store,rg.store,Qp.store,og.store,ig.store],[ug.store]),[ng.store]),[sg.store]),[ag.store,cg.store]),hg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(Ml.c)(e,t),e}(zp);function fg(t,e){var n=Ql(t);return Np.zn(n.ps,e)}var dg=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=id(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=od(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=od(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Rd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Jl(this.mutations,t.mutations,function(t,e){return ud(t,e)})&&Jl(this.baseMutations,t.baseMutations,function(t,e){return ud(t,e)})},t}(),pg=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){Kl(e.mutations.length===r.length);for(var i=Pd(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),gg=function(t){this.Fs=t};function yg(t,e){if(e.document)return fp(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=vh.Et(e.noDocument.path),r=_g(e.noDocument.readTime);return new Zh(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=vh.Et(e.unknownDocument.path);return r=_g(e.unknownDocument.version),new Xh(i,r)}return $l()}function mg(t,e,n){var r=vg(n),i=e.key.path.X().it();if(e instanceof Yh){var o=function(t,e){return{name:op(t,e.key),fields:e.bt().mapValue.fields,updateTime:Jd(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new eg(null,null,o,s,r,i)}if(e instanceof Zh){var u=e.key.path.it(),a=wg(e.version);return s=e.hasCommittedMutations,new eg(null,new Jp(u,a),null,s,r,i)}if(e instanceof Xh){var c=e.key.path.it(),l=wg(e.version);return new eg(new tg(c,l),null,null,!0,r,i)}return $l()}function vg(t){var e=t.j();return[e.seconds,e.nanoseconds]}function bg(t){var e=new fh(t[0],t[1]);return dh.K(e)}function wg(t){var e=t.j();return new Kp(e.seconds,e.nanoseconds)}function _g(t){var e=new fh(t.seconds,t.nanoseconds);return dh.K(e)}function Og(t,e){for(var n=(e.baseMutations||[]).map(function(e){return pp(t.Fs,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return pp(t.Fs,e)}),o=fh.fromMillis(e.localWriteTimeMs);return new dg(e.batchId,o,n,i)}function Eg(t){var e,n,r=_g(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?_g(t.lastLimboFreeSnapshotVersion):dh.min();return void 0!==t.query.documents?(Kl(1===(n=t.query).documents.length),e=Af(Of(ap(n.documents[0])))):e=function(t){return Af(mp(t))}(t.query),new Lf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,eh.fromBase64String(t.resumeToken))}function Cg(t,e){var n,r=wg(e.Ot),i=wg(e.lastLimboFreeSnapshotVersion);n=rf(e.target)?gp(t.Fs,e.target):yp(t.Fs,e.target);var o=e.resumeToken.toBase64();return new rg(e.targetId,ef(e.target),r,o,e.sequenceNumber,i,n)}function Ig(t){var e=mp({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?jf(e,e.limit,"L"):e}var Sg=function(){function t(){}return t.prototype.Os=function(t,e){return xg(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:_g(e.createTime),version:e.version};var e})},t.prototype.ks=function(t,e){return xg(t).put({bundleId:(n=e).id,createTime:wg(np(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return Tg(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Ig(e.bundledQuery),readTime:_g(e.readTime)};var e})},t.prototype.Ls=function(t,e){return Tg(t).put(function(t){return{name:t.name,readTime:wg(np(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function xg(t){return fg(t,ag.store)}function Tg(t){return fg(t,cg.store)}var Ag=function(){function t(){this.Bs=new jg}return t.prototype.qs=function(t,e){return this.Bs.add(e),jp.resolve()},t.prototype.Us=function(t,e){return jp.resolve(this.Bs.getEntries(e))},t}(),jg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new Id(gh.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Id(gh.H)).it()},t}(),kg=function(){function t(){this.Qs=new jg}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:Bp(i)};return Ng(t).put(o)}return jp.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[th(e),""],!1,!0);return Ng(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push($p(o.parent))}return n})},t}();function Ng(t){return fg(t,sg.store)}var Pg={Ks:!1,Ws:0,js:0,Gs:0},Dg=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function Rg(t){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(e){if(t.code!==nh.FAILED_PRECONDITION||t.message!==Hp)throw t;return zl("LocalStore","Unexpectedly lost primary lease"),[2]})})}Dg.Xs=10,Dg.Zs=1e3,Dg.ti=new Dg(41943040,Dg.Xs,Dg.Zs),Dg.ei=new Dg(-1,0,0);var Vg=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){wh(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return _h(this.ii)},t}(),Lg=function(){function t(){this.ri=new Vg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:dh.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?jp.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function Mg(t,e,n){var r=t.store(Zp.store),i=t.store(Xp.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.hs({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){Kl(1===u)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Xp.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return jp.Mn(o).next(function(){return c})}function Fg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw $l();e=t.noDocument}return JSON.stringify(e).length}var Ug=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return Kl(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hg(t).hs({index:Zp.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=zg(t),s=Hg(t);return s.add({}).next(function(u){Kl("number"==typeof u);for(var a=new dg(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return dp(t.Fs,e)}),i=n.mutations.map(function(e){return dp(t.Fs,e)});return new Zp(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,a),l=[],h=new Id(function(t,e){return Xl(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Xp.key(i.userId,p.key.path,u);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(g,Xp.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[u]=a.keys()}),jp.Mn(l).next(function(){return a})})},t.prototype.Pi=function(t,e){var n=this;return Hg(t).get(e).next(function(t){return t?(Kl(t.userId===n.userId),Og(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?jp.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Hg(t).hs({index:Zp.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Kl(e.batchId>=r),o=Og(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Hg(t).hs({index:Zp.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hg(t).rs(Zp.userMutationsIndex,n).next(function(t){return t.map(function(t){return Og(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=Xp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return zg(t).hs({range:i},function(r,i,s){var u=r[0],a=r[2],c=$p(r[1]);if(u===n.userId&&e.path.isEqual(c))return Hg(t).get(a).next(function(t){if(!t)throw $l();Kl(t.userId===n.userId),o.push(Og(n.Qt,t))});s.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new Id(Xl),i=[];return e.forEach(function(e){var o=Xp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=zg(t).hs({range:s},function(t,i,o){var s=t[0],u=t[2],a=$p(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()});i.push(u)}),jp.Mn(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=Xp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new Id(Xl);return zg(t).hs({range:s},function(t,e,o){var s=t[0],a=t[2],c=$p(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(u=u.add(a)):o.done()}).next(function(){return n.Si(t,u)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Hg(t).get(e).next(function(t){if(null===t)throw $l();Kl(t.userId===n.userId),r.push(Og(n.Qt,t))}))}),jp.Mn(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return Mg(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),jp.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return jp.resolve();var r=IDBKeyRange.lowerBound(Xp.prefixForUser(e.userId)),i=[];return zg(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=$p(t[1]);i.push(o)}else r.done()}).next(function(){Kl(0===i.length)})})},t.prototype.Fi=function(t,e){return qg(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Bg(t).get(this.userId).next(function(t){return t||new Yp(e.userId,-1,"")})},t}();function qg(t,e,n){var r=Xp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return zg(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Hg(t){return fg(t,Zp.store)}function zg(t){return fg(t,Xp.store)}function Bg(t){return fg(t,Yp.store)}var Wg=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Gg=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new Wg(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return dh.K(new fh(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return $g(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return Kl(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return $g(t).hs(function(s,u){var a=Eg(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Ji(t,a)))}).next(function(){return jp.Mn(o)}).next(function(){return i})},t.prototype.In=function(t,e){return $g(t).hs(function(t,n){var r=Eg(n);e(r)})},t.prototype.qi=function(t){return Kg(t).get(og.key).next(function(t){return Kl(null!==t),t})},t.prototype.Ui=function(t,e){return Kg(t).put(og.key,e)},t.prototype.Gi=function(t,e){return $g(t).put(Cg(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=ef(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return $g(t).hs({range:r,index:rg.queryTargetsIndexName},function(t,n,r){var o=Eg(n);nf(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=Qg(t);return e.forEach(function(e){var s=Bp(e.path);i.push(o.put(new ig(n,s))),i.push(r.Ti.nr(t,n,e))}),jp.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=Qg(t);return jp.forEach(e,function(e){var o=Bp(e.path);return jp.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=Qg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Qg(t),i=Rd();return r.hs({range:n,us:!0},function(t,e,n){var r=$p(t[1]),o=new vh(r);i=i.add(o)}).next(function(){return i})},t.prototype.Fi=function(t,e){var n=Bp(e.path),r=IDBKeyRange.bound([n],[th(n)],!1,!0),i=0;return Qg(t).hs({index:ig.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return $g(t).get(e).next(function(t){return t?Eg(t):null})},t}();function $g(t){return fg(t,rg.store)}function Kg(t){return fg(t,og.store)}function Qg(t){return fg(t,ig.store)}function Yg(t,e){var n=t[1],r=e[1],i=Xl(t[0],e[0]);return 0===i?Xl(n,r):i}var Zg=function(){function t(t){this.cr=t,this.buffer=new Id(Yg),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Yg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Xg=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;zl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(Ml.b)(e,void 0,void 0,function(){var e;return Object(Ml.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return Rp(e=n.sent())?(zl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Rg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),Jg=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return jp.resolve(hh.q);var r=new Zg(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(zl("LruGarbageCollector","Garbage collection skipped; disabled"),jp.resolve(Pg)):this.pr(t).next(function(r){return r<n.params.zs?(zl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Pg):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(zl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.gr(t,n)}).next(function(t){return a=Date.now(),Hl()<=Rs.a.DEBUG&&zl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),jp.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),ty=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new Jg(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return ey(t,n)},t.prototype.ir=function(t,e,n){return ey(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return ey(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Bg(t).ls(function(r){return qg(t,r,e).next(function(t){return t&&(n=!0),jp.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,function(s,u){if(u<=e){var a=n.Cr(t,s).next(function(e){if(!e)return o++,r._i(t,s).next(function(){return r.li(s),Qg(t).delete([0,Bp(s.path)])})});i.push(a)}}).next(function(){return jp.Mn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return ey(t,e)},t.prototype.Dr=function(t,e){var n,r=Qg(t),i=hh.q;return r.hs({index:ig.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==hh.q&&e(new vh($p(n)),i),i=s,n=o):i=hh.q}).next(function(){i!==hh.q&&e(new vh($p(n)),i)})},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function ey(t,e){return Qg(t).put(function(t,e){return new ig(0,Bp(t.path),e)}(e,t.bs))}var ny=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return oy(t).put(sy(e),n)},t.prototype.li=function(t,e){var n=oy(t),r=sy(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.kr(t,r)})},t.prototype._i=function(t,e){var n=this;return oy(t).get(sy(e)).next(function(t){return n.Mr(t)})},t.prototype.Lr=function(t,e){var n=this;return oy(t).get(sy(e)).next(function(t){var e=n.Mr(t);return e?{hi:e,size:Fg(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Ad();return this.Br(t,e,function(t,e){var i=n.Mr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=Ad(),i=new Od(vh.H);return this.Br(t,e,function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,Fg(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return jp.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return oy(t).hs({range:r},function(t,e,r){for(var s=vh.Et(t);o&&vh.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=kd(),o=e.path.length+1,s={};if(n.isEqual(dh.min())){var u=e.path.it();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.it(),c=vg(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=eg.collectionReadTimeIndex}return oy(t).hs(s,function(t,n,s){if(t.length===o){var u=yg(r.Qt,n);e.path.nt(u.key.path)?u instanceof Yh&&Df(e,u)&&(i=i.zt(u.key,u)):s.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new ry(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return iy(t).get(ng.key).next(function(t){return Kl(!!t),t})},t.prototype.kr=function(t,e){return iy(t).put(ng.key,e)},t.prototype.Mr=function(t){if(t){var e=yg(this.Qt,t);return e instanceof Zh&&e.version.isEqual(dh.min())?null:e}return null},t}(),ry=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new Vg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Ml.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new Id(function(t,e){return Xl(t.rt(),e.rt())});return this.ri.forEach(function(o,s){var u=e.Gr.get(o);if(s.hi){var a=mg(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=Fg(a);r+=c-u,n.push(e.jr.ai(t,o,a))}else if(r-=u,e.Wr){var l=mg(e.jr.Qt,new Zh(o,dh.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),jp.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(Lg);function iy(t){return fg(t,ng.store)}function oy(t){return fg(t,eg.store)}function sy(t){return t.path.it()}var uy=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;Kl(n<r&&n>=0&&r<=11);var o=new kp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Qp.store)}(t),function(t){t.createObjectStore(Yp.store,{keyPath:Yp.keyPath}),t.createObjectStore(Zp.store,{keyPath:Zp.keyPath,autoIncrement:!0}).createIndex(Zp.userMutationsIndex,Zp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Xp.store)}(t),ay(t),function(t){t.createObjectStore(eg.store)}(t));var s=jp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ig.store),t.deleteObjectStore(rg.store),t.deleteObjectStore(og.store)}(t),ay(t)),s=s.next(function(){return function(t){var e=t.store(og.store),n=new og(0,0,dh.min().j(),0);return e.put(og.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Zp.store).rs().next(function(n){t.deleteObjectStore(Zp.store),t.createObjectStore(Zp.store,{keyPath:Zp.keyPath,autoIncrement:!0}).createIndex(Zp.userMutationsIndex,Zp.userMutationsKeyPath,{unique:!0});var r=e.store(Zp.store),i=n.map(function(t){return r.put(t)});return jp.Mn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(ug.store,{keyPath:ug.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.zr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(ng.store)}(t),i.Hr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Jr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(eg.store);e.createIndex(eg.readTimeIndex,eg.readTimeIndexPath,{unique:!1}),e.createIndex(eg.collectionReadTimeIndex,eg.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Xr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(ag.store,{keyPath:ag.keyPath})}(t),function(t){t.createObjectStore(cg.store,{keyPath:cg.keyPath})}(t)})),s},t.prototype.Hr=function(t){var e=0;return t.store(eg.store).hs(function(t,n){e+=Fg(n)}).next(function(){var n=new ng(e);return t.store(ng.store).put(ng.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(Yp.store),r=t.store(Zp.store);return n.rs().next(function(n){return jp.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(Zp.userMutationsIndex,i).next(function(r){return jp.forEach(r,function(r){Kl(r.userId===n.userId);var i=Og(e.Qt,r);return Mg(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(ig.store),n=t.store(eg.store);return t.store(og.store).get(og.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new gh(n),s=function(t){return[0,Bp(t)]}(o);r.push(e.get(s).next(function(n){return n?jp.resolve():function(n){return e.put(new ig(0,Bp(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return jp.Mn(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(sg.store,{keyPath:sg.keyPath});var n=e.store(sg.store),r=new jg,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Bp(i)})}};return e.store(eg.store).hs({us:!0},function(t,e){var n=new gh(t);return i(n.X())}).next(function(){return e.store(Xp.store).hs({us:!0},function(t,e){var n=$p(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(rg.store);return n.hs(function(t,r){var i=Eg(r),o=Cg(e.Qt,i);return n.put(o)})},t}();function ay(t){t.createObjectStore(ig.store,{keyPath:ig.keyPath}).createIndex(ig.documentTargetsIndex,ig.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(rg.store,{keyPath:rg.keyPath}).createIndex(rg.queryTargetsIndexName,rg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(og.store)}var cy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ly=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=u,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new rh(nh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new ty(this,i),this.ho=n+"main",this.Qt=new gg(a),this.lo=new Np(this.ho,11,new uy(this.Qt)),this._o=new Gg(this.Ti,this.Qt),this.Ei=new kg,this.fo=function(t,e){return new ny(t,e)}(this.Qt,this.Ei),this.wo=new Sg,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Bl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new rh(nh.FAILED_PRECONDITION,cy);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new hh(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(Ml.b)(e,void 0,void 0,function(){return Object(Ml.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(Ml.b)(e,void 0,void 0,function(){return Object(Ml.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(Ml.b)(e,void 0,void 0,function(){return Object(Ml.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return fy(e).put(new ug(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(Rp(e))return zl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return zl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return hy(t).get(Qp.key).next(function(t){return jp.resolve(e.Do(t))})},t.prototype.Co=function(t){return fy(t).delete(this.clientId)},t.prototype.xo=function(){return Object(Ml.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Ml.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=fg(t,ug.store);return e.rs().next(function(t){var n=r.$o(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return jp.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?jp.resolve(!0):hy(t).get(Qp.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new rh(nh.FAILED_PRECONDITION,cy);return!1}}return!(!e.networkEnabled||!e.inForeground)||fy(t).rs().next(function(t){return void 0===e.$o(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&zl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ko=function(){return Object(Ml.b)(this,void 0,void 0,function(){var t=this;return Object(Ml.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Qp.store,ug.store],function(e){var n=new hg(e,hh.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return fy(e).rs().next(function(e){return t.$o(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return Ug.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return zl("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",lg,function(o){return r=new hg(o,i.so?i.so.next():hh.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw Bl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new rh(nh.FAILED_PRECONDITION,Hp);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return hy(t).get(Qp.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new rh(nh.FAILED_PRECONDITION,cy)})},t.prototype.So=function(t){var e=new Qp(this.clientId,this.allowTabSynchronization,Date.now());return hy(t).put(Qp.key,e)},t.Kn=function(){return Np.Kn()},t.prototype.vo=function(t){var e=this,n=hy(t);return n.get(Qp.key).next(function(t){return e.Do(t)?(zl("IndexedDbPersistence","Releasing primary lease."),n.delete(Qp.key)):jp.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Bl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps(function(){return e.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return zl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Bl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Bl("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function hy(t){return fg(t,Qp.store)}function fy(t){return fg(t,ug.store)}function dy(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var py=function(t,e){this.progress=t,this.Go=e},gy=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=Ad();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=Td();return i.forEach(function(t,e){e||(e=new Zh(t,dh.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return vh.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):xf(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new vh(e)).next(function(t){var e=kd();return t instanceof Yh&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=kd();return this.Ei.Us(t,i).next(function(s){return jp.forEach(s,function(s){var u=function(t,e){return new wf(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,u,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=od(a,r.get(c),o.vs);r=l instanceof Yh?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Df(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=Rd(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof ld&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Yh&&(c=c.zt(t,e))}),c})},t}(),yy=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=Rd(),i=Rd(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),my=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(dh.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var s=i.hc(e,o);return(Ef(e)||Cf(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(Hl()<=Rs.a.DEBUG&&zl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Pf(e)),i.ac.Kr(t,e,n).next(function(t){return s.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new Id(Rf(t));return e.forEach(function(e,r){r instanceof Yh&&Df(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Hl()<=Rs.a.DEBUG&&zl("QueryEngine","Using full collection scan to execute query:",Pf(e)),this.ac.Kr(t,e,dh.min())},t}(),vy=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new Od(Xl),this.dc=new Vg(function(t){return ef(t)},nf),this.wc=dh.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new gy(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function by(t,e,n,r){return new vy(t,e,n,r)}function wy(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ml.d)(this,function(s){switch(s.label){case 0:return n=Ql(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(s){return o=s,r=n.persistence.Qo(e),i=new gy(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],s=Rd(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,y=p.mutations;g<y.length;g++)s=s.add(y[g].key)}return i.Xo(t,s).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function _y(t,e){var n=Ql(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=jp.resolve();return o.forEach(function(t){s=s.next(function(){return r._i(e,t)}).next(function(e){var o=e,s=n.$s.get(t);Kl(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),s.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}function Oy(t){var e=Ql(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function Ey(t,e){var n=Ql(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach(function(e,o){var u=i.get(o);if(u){s.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var a=e.resumeToken;if(a.l()>0){var c=u.Mt(a,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return Kl(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(u,c,e)&&s.push(n._o.Hi(t,c))}}});var u=Td();if(e.Oe.forEach(function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))}),s.push(Cy(t,o,e.Oe,r,void 0).next(function(t){u=t})),!r.isEqual(dh.min())){var a=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});s.push(a)}return jp.Mn(s).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,u)})}).then(function(t){return n.fc=i,t})}function Cy(t,e,n,r,i){var o=Rd();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Td();return n.forEach(function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof Zh&&s.version.isEqual(dh.min())?(e.li(n,a),o=o.zt(n,s)):null==u||s.version._(u.version)>0||0===s.version._(u.version)&&u.hasPendingWrites?(e.ai(s,a),o=o.zt(n,s)):zl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)}),o})}function Iy(t,e){var n=Ql(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function Sy(t,e){var n=Ql(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?jp.resolve(r=i):n._o.Bi(t).next(function(i){return r=new Lf(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function xy(t,e,n){return Object(Ml.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ml.d)(this,function(u){switch(u.label){case 0:r=Ql(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Rp(s=u.sent()))throw s;return zl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function Ty(t,e,n){var r=Ql(t),i=dh.min(),o=Rd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Ql(t),i=r.dc.get(n);return void 0!==i?jp.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,Af(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:dh.min(),n?o:Rd())}).next(function(t){return{documents:t,Rc:o}})})}function Ay(t,e){var n=Ql(t),r=Ql(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function jy(t){var e=Ql(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Ql(t),i=Td(),o=vg(n),s=oy(e),u=IDBKeyRange.lowerBound(o,!0);return s.hs({index:eg.readTimeIndex,range:u},function(t,e){var n=yg(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:bg(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function ky(t){return Object(Ml.b)(this,void 0,void 0,function(){var e;return Object(Ml.d)(this,function(n){return[2,(e=Ql(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=oy(t),n=dh.min();return e.hs({index:eg.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=bg(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function Ny(t,e,n,r){return Object(Ml.b)(this,void 0,void 0,function(){var i,o,s,u,a,c,l,h,f,d;return Object(Ml.d)(this,function(p){switch(p.label){case 0:for(i=Ql(t),o=Rd(),s=Td(),u=Pd(),a=0,c=n;a<c.length;a++)h=e.Pc((l=c[a]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),u=u.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,Sy(i,function(t){return Af(Of(gh.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Cy(t,f,s,dh.min(),u).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Py(t,e,n){return void 0===n&&(n=Rd()),Object(Ml.b)(this,void 0,void 0,function(){var r,i;return Object(Ml.d)(this,function(o){switch(o.label){case 0:return[4,Sy(t,Af(Ig(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ql(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=np(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(eh.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.Ls(t,e)})})]}})})}var Dy=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return jp.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:np(n.createTime)}),jp.resolve()},t.prototype.Ms=function(t,e){return jp.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:Ig(t.bundledQuery),readTime:np(t.readTime)}}(e)),jp.resolve()},t}(),Ry=function(){function t(){this.vc=new Id(Vy.Sc),this.Dc=new Id(Vy.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new Vy(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new Vy(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Fc=function(t){var e=this,n=new vh(new gh([])),r=new Vy(n,t),i=new Vy(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.Oc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new vh(new gh([])),n=new Vy(e,t),r=new Vy(e,t+1),i=Rd();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Fi=function(t){var e=new Vy(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),Vy=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return vh.H(t.key,e.key)||Xl(t.Mc,e.Mc)},t.Cc=function(t,e){return Xl(t.Mc,e.Mc)||vh.H(t.key,e.key)},t}(),Ly=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new Id(Vy.Sc)}return t.prototype.Ai=function(t){return jp.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var o=new dg(i,e,n,r);this.zo.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.Bc=this.Bc.add(new Vy(a.key,i)),this.Ei.qs(t,a.key.path.X())}return jp.resolve(o)},t.prototype.Pi=function(t,e){return jp.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return jp.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return jp.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return jp.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new Vy(e,0),i=new Vy(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Mc);o.push(e)}),jp.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new Id(Xl);return e.forEach(function(t){var e=new Vy(t,0),i=new Vy(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Mc)})}),jp.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;vh.wt(i)||(i=i.child(""));var o=new Vy(new vh(i),0),s=new Id(Xl);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)},o),jp.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;Kl(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return jp.forEach(e.mutations,function(i){var o=new Vy(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new Vy(e,0),r=this.Bc.Re(n);return jp.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return jp.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),My=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new Od(vh.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return jp.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ad();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),jp.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=kd(),i=new vh(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),u=s.value,a=u.hi,c=u.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||a instanceof Yh&&Df(e,a)&&(r=r.zt(a.key,a))}return jp.resolve(r)},t.prototype.jc=function(t,e){return jp.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new Fy(this)},t.prototype.Or=function(t){return jp.resolve(this.size)},t}(),Fy=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(Ml.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),jp.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(Lg),Uy=function(){function t(t){this.persistence=t,this.Gc=new Vg(function(t){return ef(t)},nf),this.lastRemoteSnapshotVersion=dh.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Ry,this.targetCount=0,this.Jc=Wg.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),jp.resolve()},t.prototype.Qi=function(t){return jp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return jp.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),jp.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),jp.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Wg(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,jp.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),jp.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,jp.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,u.targetId)),i++)}),jp.Mn(o).next(function(){return i})},t.prototype.Zi=function(t){return jp.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return jp.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),jp.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),jp.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),jp.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return jp.resolve(n)},t.prototype.Fi=function(t,e){return jp.resolve(this.Hc.Fi(e))},t}(),qy=function(){function t(t,e){var n=this;this.Yc={},this.so=new hh(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Uy(this),this.Ei=new Ag,this.fo=function(t,e){return new My(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new gg(e),this.wo=new Dy(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Ly(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;zl("MemoryPersistence","Starting transaction:",t);var i=new Hy(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).On().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return jp.Ln(Object.values(this.Yc).map(function(n){return function(){return n.Fi(t,e)}}))},t}(),Hy=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(Ml.c)(e,t),e}(zp),zy=function(){function t(t){this.persistence=t,this.na=new Ry,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw $l()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),jp.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),jp.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),jp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return jp.forEach(this.ra,function(r){var i=vh._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return jp.Ln([function(){return jp.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function By(t,e){return"firestore_clients_"+t+"_"+e}function Wy(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Gy(t,e){return"firestore_targets_"+t+"_"+e}var $y=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new rh(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Bl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ky=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new rh(i.error.code,i.error.message)),o?new t(e,i.state,r):(Bl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Qy=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ld(),s=0;i&&s<r.activeTargetIds.length;++s)i=Nh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Bl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Yy=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Bl("SharedClientState","Failed to parse online state: "+e),null)},t}(),Zy=function(){function t(){this.activeTargetIds=Ld()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Xy=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Od(Xl),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=By(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new Zy),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ml.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(Ml.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(By(this.persistenceKey,r)))&&(o=Qy.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(u=this.pa(s))&&this.ba(u),a=0,c=this.Ta;a<c.length;a++)this.wa(c[a]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Gy(this.persistenceKey,t));if(n){var r=Ky.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Gy(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.$a(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return zl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){zl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){zl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(zl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Bl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(Ml.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Ml.d)(this,function(u){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=hh.q;if(null!=t)try{var n=JSON.parse(t);Kl("number"==typeof n),e=n}catch(t){Bl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==hh.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new $y(this.currentUser,t,e,n),i=Wy(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Wy(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Gy(this.persistenceKey,t),i=new Ky(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Qy.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return $y.ca(new oh(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Ky.ca(r,e)},t.prototype.pa=function(t){return Yy.ca(t)},t.prototype.Ya=function(t){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(zl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this._a.su(s,u).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=Ld();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),Jy=function(){function t(){this.iu=new Zy,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new Zy,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),tm=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),em=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){zl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){zl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),nm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},rm=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),im=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Ml.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var s=new Ll;s.listenOnce(Dl.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Pl.NO_ERROR:var e=s.getResponseJson();zl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Pl.TIMEOUT:zl("Connection",'RPC "'+t+'" timed out'),o(new rh(nh.DEADLINE_EXCEEDED,"Request time out"));break;case Pl.HTTP_ERROR:var n=s.getStatus();if(zl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(nh).indexOf(e)>=0?e:nh.UNKNOWN}(r.status);o(new rh(u,r.message))}else o(new rh(nh.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new rh(nh.UNAVAILABLE,"Connection failed."));break;default:$l()}}finally{zl("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Tl,i=ka(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(Vs.l)()||Object(Vs.n)()||Object(Vs.j)()||Object(Vs.k)()||Object(Vs.o)()||Object(Vs.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");zl("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new rm({fu:function(t){c?zl("Connection","Not sending because WebChannel is closed:",t):(a||(zl("Connection","Opening WebChannel transport."),u.open(),a=!0),zl("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u,Vl.EventType.OPEN,function(){c||zl("Connection","WebChannel transport opened.")}),h(u,Vl.EventType.CLOSE,function(){c||(c=!0,zl("Connection","WebChannel transport closed"),l.Ru())}),h(u,Vl.EventType.ERROR,function(t){c||(c=!0,Wl("Connection","WebChannel transport errored:",t),l.Ru(new rh(nh.UNAVAILABLE,"The operation could not be completed")))}),h(u,Vl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Kl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){zl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=gd[t];if(void 0!==e)return _d(e)}(i),s=r.message;void 0===o&&(o=nh.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new rh(o,s)),u.close()}else zl("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,Rl.STAT_EVENT,function(t){10===t.stat?zl("Connection","Detected buffering proxy"):11===t.stat&&zl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);zl("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return zl("RestConnection","Received: ",t),t},function(e){throw Wl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+nm[t]},t}());function om(){return"undefined"!=typeof window?window:null}function sm(){return"undefined"!=typeof document?document:null}function um(t){return new Xd(t,!0)}var am=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&zl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,function(){return e.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),cm=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new am(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===nh.RESOURCE_EXHAUSTED?(Bl(e.toString()),Bl("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===nh.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new rh(nh.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return Object(Ml.b)(t,void 0,void 0,function(){return Object(Ml.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return zl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(zl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),lm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(Ml.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:$l()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(Kl(void 0===e||"string"==typeof e),eh.fromBase64String(e||"")):(Kl(void 0===e||e instanceof Uint8Array),eh.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?nh.UNKNOWN:_d(t.code);return new rh(e,t.message||"")}(u);n=new Wd(r,i,o,s||null)}else if("documentChange"in e){i=sp(t,(r=e.documentChange).document.name),o=np(r.document.updateTime);var u=new Gh({mapValue:{fields:r.document.fields}}),a=(s=new Yh(i,o,u,{}),r.targetIds||[]);n=new zd(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=sp(t,(r=e.documentDelete).document),o=r.readTime?np(r.readTime):dh.min(),u=new Zh(i,o),n=new zd([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=sp(t,(r=e.documentRemove).document),n=new zd([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return $l();var c=e.filter;i=new bd(r=c.count||0),n=new Bd(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return dh.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?dh.min():e.readTime?np(e.readTime):dh.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=cp(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=rf(r)?{documents:gp(t,r)}:{query:yp(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=tp(t,e.resumeToken):e.Ot._(dh.min())>0&&(n.readTime=Jd(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $l()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=cp(this.Qt),e.removeTarget=t,this.th(e)},e}(cm),hm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(Ml.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(Kl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(Kl(void 0!==e),t.map(function(t){return function(t,e){var n=np(t.updateTime?t.updateTime:e);n.isEqual(dh.min())&&(n=np(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new td(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=np(t.commitTime);return this.listener.dh(n,e)}return Kl(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=cp(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return dp(e.Qt,t)})};this.th(n)},e}(cm),fm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(Ml.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new rh(nh.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===nh.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===nh.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),dm=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Bl(e),this.Rh=!1):zl("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),pm=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(t){n.Ps(function(){return Object(Ml.b)(o,void 0,void 0,function(){return Object(Ml.d)(this,function(t){switch(t.label){case 0:return Em(this)?(zl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ml.b)(this,void 0,void 0,function(){var e;return Object(Ml.d)(this,function(n){switch(n.label){case 0:return(e=Ql(t)).Nh.add(4),[4,ym(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,gm(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Oh=new dm(n,r)};function gm(t){return Object(Ml.b)(this,void 0,void 0,function(){var e,n;return Object(Ml.d)(this,function(r){switch(r.label){case 0:if(!Em(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ym(t){return Object(Ml.b)(this,void 0,void 0,function(){var e,n;return Object(Ml.d)(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function mm(t,e){var n=Ql(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),Om(n)?_m(n):Mm(n).Hu()&&bm(n,e))}function vm(t,e){var n=Ql(t),r=Mm(n);n.xh.delete(e),r.Hu()&&wm(n,e),0===n.xh.size&&(r.Hu()?r.Xu():Em(n)&&n.Oh.set("Unknown"))}function bm(t,e){t.kh.on(e.targetId),Mm(t).uh(e)}function wm(t,e){t.kh.on(e),Mm(t).hh(e)}function _m(t){t.kh=new $d({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Mm(t).start(),t.Oh.Ph()}function Om(t){return Em(t)&&!Mm(t).zu()&&t.xh.size>0}function Em(t){return 0===Ql(t).Nh.size}function Cm(t){t.kh=void 0}function Im(t){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(e){return t.xh.forEach(function(e,n){bm(t,e)}),[2]})})}function Sm(t,e){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(n){return Cm(t),Om(t)?(t.Oh.Vh(e),_m(t)):t.Oh.set("Unknown"),[2]})})}function xm(t,e,n){return Object(Ml.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ml.d)(this,function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof Wd&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ml.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Mh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),zl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Tm(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof zd?t.kh.dn(e):e instanceof Bd?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(dh.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Oy(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}}),n.Fe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(eh.T,n.Ot)),wm(t,e);var r=new Lf(n.target,e,1,n.sequenceNumber);bm(t,r)}}),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return zl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Tm(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Tm(t,e,n){return Object(Ml.b)(this,void 0,void 0,function(){var r=this;return Object(Ml.d)(this,function(i){switch(i.label){case 0:if(!Rp(e))throw e;return t.Nh.add(1),[4,ym(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return Oy(t.bh)}),t._s.po(function(){return Object(Ml.b)(r,void 0,void 0,function(){return Object(Ml.d)(this,function(e){switch(e.label){case 0:return zl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,gm(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Am(t,e){return e().catch(function(n){return Tm(t,n,e)})}function jm(t){return Object(Ml.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Ml.d)(this,function(s){switch(s.label){case 0:e=Ql(t),n=Fm(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Em(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Iy(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=Fm(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Tm(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return km(e)&&Nm(e),[2]}})})}function km(t){return Em(t)&&!Fm(t).zu()&&t.Ch.length>0}function Nm(t){Fm(t).start()}function Pm(t){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(e){return Fm(t).Eh(),[2]})})}function Dm(t){return Object(Ml.b)(this,void 0,void 0,function(){var e,n,r;return Object(Ml.d)(this,function(i){for(e=Fm(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function Rm(t,e,n){return Object(Ml.b)(this,void 0,void 0,function(){var r,i;return Object(Ml.d)(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=pg.from(r,e,n),[4,Am(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,jm(t)];case 2:return o.sent(),[2]}})})}function Vm(t,e){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(n){switch(n.label){case 0:return e&&Fm(t)._h?[4,function(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r;return Object(Ml.d)(this,function(i){switch(i.label){case 0:return wd(r=e.code)&&r!==nh.ABORTED?(n=t.Ch.shift(),Fm(t).Yu(),[4,Am(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,jm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return km(t)&&Nm(t),[2]}})})}function Lm(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n;return Object(Ml.d)(this,function(r){switch(r.label){case 0:return n=Ql(t),e?(n.Nh.delete(2),[4,gm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,ym(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Mm(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=Ql(t);return r.Ih(),new lm(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Im.bind(null,t),Tu:Sm.bind(null,t),ah:xm.bind(null,t)}),t.$h.push(function(n){return Object(Ml.b)(e,void 0,void 0,function(){return Object(Ml.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),Om(t)?_m(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),Cm(t),e.label=3;case 3:return[2]}})})})),t.Uh}function Fm(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Ql(t);return r.Ih(),new hm(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Pm.bind(null,t),Tu:Vm.bind(null,t),wh:Dm.bind(null,t),dh:Rm.bind(null,t)}),t.$h.push(function(n){return Object(Ml.b)(e,void 0,void 0,function(){return Object(Ml.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,jm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(zl("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var Um=function(){this.Kh=void 0,this.listeners=[]},qm=function(){this.queries=new Vg(function(t){return Nf(t)},kf),this.onlineState="Unknown",this.Wh=new Set};function Hm(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(Ml.d)(this,function(c){switch(c.label){case 0:if(n=Ql(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Um),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return u=c.sent(),a=qp(u,"Initialization of query '"+Pf(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Gm(n),[2]}})})}function zm(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ml.d)(this,function(u){return n=Ql(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function Bm(t,e){for(var n=Ql(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].zh(s)&&(r=!0);u.Kh=s}}r&&Gm(n)}function Wm(t,e,n){var r=Ql(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Gm(t){t.Wh.forEach(function(t){t.next()})}var $m=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ud(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=Ud.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),Km=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),Qm=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return sp(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?fp(this.Qt,t.document,!1):new Zh(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return np(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new Qm(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||Rd()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Ml.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Ml.d)(this,function(o){switch(o.label){case 0:return[4,Ny(this.bh,new Qm(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Py(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new py(Object.assign({},this.progress),t))]}})})}}();var Ym=function(t){this.key=t},Zm=function(t){this.key=t},Xm=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=Rd(),this.De=Rd(),this.hl=Rf(t),this.ll=new Md(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new Fd,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,u=!1,a=Ef(this.query)&&i.size===this.query.limit?i.last():null,c=Cf(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof Yh?e:null;h&&(h=Df(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.hl(h,a)>0||c&&n.hl(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Ef(this.query)||Cf(this.query))for(;s.size>this.query.limit;){var l=Ef(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:u,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $l()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var s=e?this.Tl():[],u=0===this.ul.size&&this.Be?1:0,a=u!==this.al;return this.al=u,0!==o.length||a?{snapshot:new Ud(this.query,t.ll,i,o,t.De,0===u,a,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new Fd,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=Rd(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new Zm(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new Ym(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=Rd();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return Ud.Ne(this.query,this.ll,this.De,0===this.al)},t}(),Jm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},tv=function(t){this.key=t,this.Pl=!1},ev=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new Vg(function(t){return Nf(t)},kf),this.Sl=new Map,this.Dl=new Set,this.Cl=new Od(vh.H),this.xl=new Map,this.Nl=new Ry,this.$l={},this.Fl=new Map,this.Ol=Wg.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function nv(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ml.d)(this,function(u){switch(u.label){case 0:return n=kv(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,Sy(n.bh,Af(e))];case 2:return o=u.sent(),s=n.Vl.Fa(o.targetId),[4,rv(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.Ml&&mm(n.yl,o),u.label=4;case 4:return[2,r]}})})}function rv(t,e,n,r){return Object(Ml.b)(this,void 0,void 0,function(){var i,o,s,u,a,c;return Object(Ml.d)(this,function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(Ml.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ml.d)(this,function(u){switch(u.label){case 0:return(i=e.view.fl(n)).lc?[4,Ty(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(yv(t,e.targetId,s.Il),s.snapshot)]}})})}(t,e,n,r)},[4,Ty(t.bh,e,!0)];case 1:return i=l.sent(),o=new Xm(e,i.Rc),s=o.fl(i.documents),u=Hd.Le(n,r&&"Offline"!==t.onlineState),a=o.wi(s,t.Ml,u),yv(t,n,a.Il),c=new Jm(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),a.snapshot)]}})})}function iv(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ml.d)(this,function(o){switch(o.label){case 0:return n=Ql(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!kf(t,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,xy(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),vm(n.yl,r.targetId),pv(n,r.targetId)}).catch(Rg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return pv(n,r.targetId),[4,xy(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function ov(t,e,n){return Object(Ml.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ml.d)(this,function(u){switch(u.label){case 0:r=Nv(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=Ql(t),i=fh.now(),o=e.reduce(function(t,e){return t.add(e.key)},Rd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=sd(c,n.get(c.key));null!=l&&s.push(new ld(c.key,l,Kh(l.proto.mapValue),ed.exists(!0)))}return r.zo.Ri(t,i,s,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=u.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new Od(Xl)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,bv(r,i.ri)];case 3:return u.sent(),[4,jm(r.yl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=qp(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function sv(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r;return Object(Ml.d)(this,function(i){switch(i.label){case 0:n=Ql(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ey(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(t,e){var r=n.xl.get(e);r&&(Kl(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?Kl(r.Pl):t.Qe.size>0&&(Kl(r.Pl),r.Pl=!1))}),[4,bv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Rg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function uv(t,e,n){var r=Ql(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Ql(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&Gm(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function av(t,e,n){return Object(Ml.b)(this,void 0,void 0,function(){var r,i,o,s,u,a;return Object(Ml.d)(this,function(c){switch(c.label){case 0:return(r=Ql(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new Od(vh.H)).zt(o,new Zh(o,dh.min())),u=Rd().add(o),a=new qd(dh.min(),new Map,new Id(Xl),s,u),[4,sv(r,a)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),vv(r),[3,4];case 2:return[4,xy(r.bh,e,!1).then(function(){return pv(r,e,n)}).catch(Rg)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function cv(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ml.d)(this,function(o){switch(o.label){case 0:n=Ql(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,_y(n.bh,e)];case 2:return i=o.sent(),dv(n,r,null),fv(n,r),n.Vl.Na(r,"acknowledged"),[4,bv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Rg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function lv(t,e,n){return Object(Ml.b)(this,void 0,void 0,function(){var r,i;return Object(Ml.d)(this,function(o){switch(o.label){case 0:r=Ql(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Ql(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return Kl(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),dv(r,e,n),fv(r,e),r.Vl.Na(e,"rejected",n),[4,bv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Rg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function hv(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ml.d)(this,function(u){switch(u.label){case 0:Em((n=Ql(t)).yl)||zl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=Ql(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=u.sent(),s=qp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function fv(t,e){(t.Fl.get(e)||[]).forEach(function(t){t.resolve()}),t.Fl.delete(e)}function dv(t,e,n){var r=Ql(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function pv(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(e){t.Nl.Fi(e)||gv(t,e)})}function gv(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(vm(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),vv(t))}function yv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Ym?(t.Nl.nr(o.key,e),mv(t,o)):o instanceof Zm?(zl("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||gv(t,o.key)):$l()}}function mv(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(zl("SyncEngine","New document in limbo: "+n),t.Dl.add(r),vv(t))}function vv(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new vh(gh.ot(e)),r=t.Ol.next();t.xl.set(r,new tv(n)),t.Cl=t.Cl.zt(n,r),mm(t.yl,new Lf(Af(Of(n.path)),r,2,hh.q))}}function bv(t,e,n){return Object(Ml.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ml.d)(this,function(u){switch(u.label){case 0:return r=Ql(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,u){s.push(r.Ll(u,e,n).then(function(t){if(t){r.Ml&&r.Vl.Ba(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=yy.oc(u.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.bl.ah(i),[4,function(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c;return Object(Ml.d)(this,function(l){switch(l.label){case 0:n=Ql(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return jp.forEach(e,function(e){return jp.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return jp.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Rp(r=l.sent()))throw r;return zl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.fc.get(u),c=a.Lt(a.Ot),n.fc=n.fc.zt(u,c));return[2]}})})}(r.bh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function wv(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r;return Object(Ml.d)(this,function(i){switch(i.label){case 0:return(n=Ql(t)).currentUser.isEqual(e)?[3,3]:(zl("SyncEngine","User change. New user:",e.A()),[4,wy(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach(function(t){t.forEach(function(t){t.reject(new rh(nh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,bv(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function _v(t,e){var n=Ql(t),r=n.xl.get(e);if(r&&r.Pl)return Rd().add(r.key);var i=Rd(),o=n.Sl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.vl.get(u[s]);i=i.Pe(a.view._l)}return i}function Ov(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ml.d)(this,function(o){switch(o.label){case 0:return[4,Ty((n=Ql(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&yv(n,e.targetId,i.Il),i)]}})})}function Ev(t){return Object(Ml.b)(this,void 0,void 0,function(){var e;return Object(Ml.d)(this,function(n){return[2,jy((e=Ql(t)).bh).then(function(t){return bv(e,t)})]})})}function Cv(t,e,n,r){return Object(Ml.b)(this,void 0,void 0,function(){var i,o;return Object(Ml.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Ql(t),r=Ql(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):jp.resolve(null)})})}((i=Ql(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,jm(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(dv(i,e,r||null),fv(i,e),function(t,e){Ql(Ql(t).zo).xi(e)}(i.bh,e)):$l(),s.label=4;case 4:return[4,bv(i,o)];case 5:return s.sent(),[3,7];case 6:zl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Iv(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(Ml.d)(this,function(c){switch(c.label){case 0:return kv(n=Ql(t)),Nv(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,Sv(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,Lm(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)mm(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(u=[],a=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.Ma(e)?u.push(e):a=a.then(function(){return pv(n,e),xy(n.bh,e,!0)}),vm(n.yl,e)}),[4,a]);case 4:return c.sent(),[4,Sv(n,u)];case 5:return c.sent(),function(t){var e=Ql(t);e.xl.forEach(function(t,n){vm(e.yl,n)}),e.Nl.Oc(),e.xl=new Map,e.Cl=new Od(vh.H)}(n),n.kl=!1,[4,Lm(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Sv(t,e,n){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c,l,h,f,d,p;return Object(Ml.d)(this,function(g){switch(g.label){case 0:n=Ql(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=void 0,(c=n.Sl.get(u=s[o]))&&0!==c.length?[4,Sy(n.bh,Af(c[0]))]:[3,7]):[3,13];case 2:a=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,Ov(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ay(n.bh,u)];case 8:return p=g.sent(),[4,Sy(n.bh,p)];case 9:return a=g.sent(),[4,rv(n,xv(p),u,!1)];case 10:g.sent(),g.label=11;case 11:r.push(a),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function xv(t){return _f(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Tv(t){var e=Ql(t);return Ql(Ql(e.bh).persistence).Uo()}function Av(t,e,n,r){return Object(Ml.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ml.d)(this,function(u){switch(u.label){case 0:return(i=Ql(t)).kl?(zl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,jy(i.bh)];case 3:return o=u.sent(),s=qd.Me(e,"current"===n),[4,bv(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,xy(i.bh,e,!0)];case 6:return u.sent(),pv(i,e,r),[3,8];case 7:$l(),u.label=8;case 8:return[2]}})})}function jv(t,e,n){return Object(Ml.b)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,h;return Object(Ml.d)(this,function(f){switch(f.label){case 0:if(!(r=kv(t)).kl)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(zl("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ay(r.bh,s)]:[3,6];case 2:return u=f.sent(),[4,Sy(r.bh,u)];case 3:return a=f.sent(),[4,rv(r,xv(u),a.targetId,!1)];case 4:f.sent(),mm(r.yl,a),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ml.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,xy(r.bh,t,!1).then(function(){vm(r.yl,t),pv(r,t)}).catch(Rg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function kv(t){var e=Ql(t);return e.yl.Dh.Lh=sv.bind(null,e),e.yl.Dh.vn=_v.bind(null,e),e.yl.Dh.Mh=av.bind(null,e),e.bl.ah=Bm.bind(null,e.gl),e.bl.Bl=Wm.bind(null,e.gl),e}function Nv(t){var e=Ql(t);return e.yl.Dh.Bh=cv.bind(null,e),e.yl.Dh.qh=lv.bind(null,e),e}var Pv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(e){switch(e.label){case 0:return this.Qt=um(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return by(this.persistence,new my,t.Jl,this.Qt)},t.prototype.jl=function(t){return new qy(zy.ia,this.Qt)},t.prototype.Wl=function(t){return new Jy},t.prototype.terminate=function(){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},t}(),Dv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ml.c)(e,t),e.prototype.initialize=function(e){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ky(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,Nv(this.Yl._a)];case 4:return n.sent(),[4,jm(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return by(this.persistence,new my,t.Jl,this.Qt)},e.prototype.zl=function(t){return new Xg(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=dy(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?Dg.Ys(this.cacheSizeBytes):Dg.ti;return new ly(this.synchronizeTabs,e,t.clientId,n,t._s,om(),sm(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Jy},e}(Pv),Rv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ml.c)(e,t),e.prototype.initialize=function(e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ml.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof Xy?(this.Vl._a={eu:Cv.bind(null,n),nu:Av.bind(null,n),su:jv.bind(null,n),Uo:Tv.bind(null,n),tu:Ev.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(Ml.b)(r,void 0,void 0,function(){return Object(Ml.d)(this,function(e){switch(e.label){case 0:return[4,Iv(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=om();if(!Xy.Kn(e))throw new rh(nh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=dy(t.yu.t,t.yu.persistenceKey);return new Xy(e,t._s,n,t.clientId,t.Jl)},e}(Dv),Vv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n=this;return Object(Ml.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return uv(n._a,t,1)},this.yl.Dh.n_=wv.bind(null,this._a),[4,Lm(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new qm},t.prototype.Xl=function(t){var e=um(t.yu.t),n=new im(t.yu);return function(t,e,n){return new fm(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return uv(s._a,t,0)},o=em.Kn()?new em:new tm,new pm(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var u=new ev(t,e,n,r,i,o);return s&&(u.kl=!0),u}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(Ml.b)(this,void 0,void 0,function(){var e;return Object(Ml.d)(this,function(n){switch(n.label){case 0:return e=Ql(t),zl("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,ym(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}})})}(this.yl)},t}(),Lv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Mv=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new Ap,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(Ml.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Ml.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new Km(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(Ml.b)(this,void 0,void 0,function(){var t,e;return Object(Ml.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(Ml.b)(this,void 0,void 0,function(){var e;return Object(Ml.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(Ml.b)(this,void 0,void 0,function(){var t,e;return Object(Ml.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new rh(nh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new mh(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),Fv=function(t){this._methodName=t},Uv=function(t){this.d_=t};function qv(t,e,n){if(!n)throw new rh(nh.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Hv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new rh(nh.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function zv(t,e,n,r){if(!0===e&&!0===r)throw new rh(nh.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Bv(t){if(!vh.wt(t))throw new rh(nh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Wv(t){if(vh.wt(t))throw new rh(nh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Gv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":$l()}function $v(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new rh(nh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Gv(t);throw new rh(nh.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Kv(t,e){if(e<=0)throw new rh(nh.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Qv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new rh(nh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new rh(nh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,zv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Yv=new Map,Zv=function(){function t(t,e){this.w_="(lite)",this.E_=new Qv({}),this.T_=!1,t instanceof Ul?(this.I_=t,this.m_=new uh):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new rh(nh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(t.options.projectId)}(t),this.m_=new ah(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new rh(nh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new rh(nh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Qv(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new uh;switch(t.type){case"gapi":var e=t.client;return Kl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new lh(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new rh(nh.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Yv.get(this))&&(zl("ComponentProvider","Removing Datastore"),Yv.delete(this),t.terminate()),Promise.resolve();var t},t}(),Xv=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new tb(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Jv=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),tb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Of(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Ml.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new Xv(this.firestore,null,new vh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Jv);function eb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Uv&&(t=t.d_),qv("collection","path",e),t instanceof Zv)return Wv(n=gh.ot.apply(gh,Object(Ml.g)([e],r))),new tb(t,null,n);if(!(t instanceof Xv||t instanceof tb))throw new rh(nh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Wv(n=gh.ot.apply(gh,Object(Ml.g)([t.path],r)).child(gh.ot(e))),new tb(t.firestore,null,n)}function nb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Uv&&(t=t.d_),1===arguments.length&&(e=Zl.u()),qv("doc","path",e),t instanceof Zv)return Bv(n=gh.ot.apply(gh,Object(Ml.g)([e],r))),new Xv(t,null,new vh(n));if(!(t instanceof Xv||t instanceof tb))throw new rh(nh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Bv(n=t.D_.child(gh.ot.apply(gh,Object(Ml.g)([e],r)))),new Xv(t.firestore,t instanceof tb?t.v_:null,new vh(n))}function rb(t,e){return t instanceof Uv&&(t=t.d_),e instanceof Uv&&(e=e.d_),(t instanceof Xv||t instanceof tb)&&(e instanceof Xv||e instanceof tb)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function ib(t,e){return t instanceof Uv&&(t=t.d_),e instanceof Uv&&(e=e.d_),t instanceof Jv&&e instanceof Jv&&t.firestore===e.firestore&&kf(t.C_,e.C_)&&t.v_===e.v_}var ob=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new rh(nh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new rh(nh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Xl(this.x_,t.x_)||Xl(this.N_,t.N_)},t}(),sb=/^__.*__$/,ub=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new ld(t,this.data,this.Gt,e,this.fieldTransforms):new cd(t,this.data,e,this.fieldTransforms)},t}(),ab=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new ld(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function cb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $l()}}var lb=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return jb(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(cb(this.k_)&&sb.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),hb=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||um(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new lb({k_:t,methodName:e,j_:n,path:mh.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function fb(t){var e=t.p_(),n=um(t.I_);return new hb(t.I_,!!e.ignoreUndefinedProperties,n)}function db(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Sb("Data must be an object, but it was:",s,r);var u,a,c=Cb(r,s);if(o.merge)u=new Oh(s.Gt),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=xb(e,f[h],n);if(!s.contains(d))throw new rh(nh.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");kb(l,d)||l.push(d)}u=new Oh(l),a=s.fieldTransforms.filter(function(t){return u.Tt(t.field)})}else u=null,a=s.fieldTransforms;return new ub(new Gh(c),u,a)}var pb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ml.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Fv);function gb(t,e,n){return new lb({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var yb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ml.c)(e,t),e.prototype.z_=function(t){return new Jf(t.path,new Wf)},e.prototype.isEqual=function(t){return t instanceof e},e}(Fv),mb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Ml.c)(e,t),e.prototype.z_=function(t){var e=gb(this,t,!0),n=this.H_.map(function(t){return Eb(t,e)}),r=new Gf(n);return new Jf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Fv),vb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Ml.c)(e,t),e.prototype.z_=function(t){var e=gb(this,t,!0),n=this.H_.map(function(t){return Eb(t,e)}),r=new Kf(n);return new Jf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Fv),bb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Ml.c)(e,t),e.prototype.z_=function(t){var e=new Yf(t.Qt,Uf(t.Qt,this.J_));return new Jf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Fv);function wb(t,e,n,r){var i=t.G_(1,e,n);Sb("Data must be an object, but it was:",i,r);var o=[],s=new $h;wh(r,function(t,r){var u=Ab(e,t,n);r instanceof Uv&&(r=r.d_);var a=i.U_(u);if(r instanceof pb)o.push(u);else{var c=Eb(r,a);null!=c&&(o.push(u),s.set(u,c))}});var u=new Oh(o);return new ab(s.Pt(),u,i.fieldTransforms)}function _b(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[xb(e,r,n)],a=[i];if(o.length%2!=0)throw new rh(nh.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(xb(e,o[c])),a.push(o[c+1]);for(var l=[],h=new $h,f=u.length-1;f>=0;--f)if(!kb(l,u[f])){var d=u[f],p=a[f];p instanceof Uv&&(p=p.d_);var g=s.U_(d);if(p instanceof pb)l.push(d);else{var y=Eb(p,g);null!=y&&(l.push(d),h.set(d,y))}}var m=new Oh(l);return new ab(h.Pt(),m,s.fieldTransforms)}function Ob(t,e,n,r){return void 0===r&&(r=!1),Eb(n,t.G_(r?4:3,e))}function Eb(t,e){if(t instanceof Uv&&(t=t.d_),Ib(t))return Sb("Unsupported field value:",e,t),Cb(t,e);if(t instanceof Fv)return function(t,e){if(!cb(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Eb(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Uv&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Uf(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=fh.fromDate(t);return{timestampValue:Jd(e.Qt,n)}}if(t instanceof fh)return n=new fh(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Jd(e.Qt,n)};if(t instanceof ob)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ih)return{bytesValue:tp(e.Qt,t.I)};if(t instanceof Xv){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:rp(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+Gv(t))}(t,e)}function Cb(t,e){var n={};return _h(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):wh(t,function(t,r){var i=Eb(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Ib(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof fh||t instanceof ob||t instanceof ih||t instanceof Xv||t instanceof Fv)}function Sb(t,e,n){if(!Ib(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Gv(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function xb(t,e,n){if(e instanceof Uv&&(e=e.d_),e instanceof Mv)return e.f_;if("string"==typeof e)return Ab(t,e);throw jb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Tb=new RegExp("[~\\*/\\[\\]]");function Ab(t,e,n){if(e.search(Tb)>=0)throw jb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Mv.bind.apply(Mv,Object(Ml.g)([void 0],e.split("."))))).f_}catch(r){throw jb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function jb(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new rh(nh.INVALID_ARGUMENT,(u+=". ")+t+a)}function kb(t,e){return t.some(function(t){return t.isEqual(e)})}var Nb=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Ml.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ml.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new rh(nh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(Ml.d)(this,function(a){switch(a.label){case 0:return n=Ql(t),r=cp(n.Qt)+"/documents",i={documents:e.map(function(t){return op(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Kl(!!e.found);var n=sp(t,e.found.name),r=np(e.found.updateTime),i=new Gh({mapValue:{fields:e.found.fields}});return new Yh(n,r,i,{})}(t,e):"missing"in e?function(t,e){Kl(!!e.missing),Kl(!!e.readTime);var n=sp(t,e.missing),r=np(e.readTime);return new Zh(n,r)}(t,e):$l()}(n.Qt,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Kl(!!e),u.push(e)}),u)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Zh||t instanceof Yh?n.sf(t):$l()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new md(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Ml.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ml.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=vh._t(n);e.mutations.push(new vd(r,e.jt(r)))}),[4,function(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ml.d)(this,function(o){switch(o.label){case 0:return n=Ql(t),r=cp(n.Qt)+"/documents",i={writes:e.map(function(t){return dp(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Yh)e=t.version;else{if(!(t instanceof Zh))throw $l();e=dh.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new rh(nh.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?ed.updateTime(e):ed.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(dh.min()))throw new rh(nh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ed.updateTime(e)}return ed.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Pb=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new am(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu(function(){return Object(Ml.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Ml.d)(this,function(r){return t=new Nb(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!jh(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wd(e)}return!1},t}(),Db=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=oh.UNAUTHENTICATED,this.clientId=Zl.u(),this._f=function(){},this.C=new Ap,this.credentials.v(function(t){zl("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new rh(nh.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new Ap;return this._s.Tf(function(){return Object(Ml.b)(t,void 0,void 0,function(){var t,n;return Object(Ml.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=qp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Rb(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Ml.d)(this,function(o){switch(o.label){case 0:return t._s.Af(),zl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(Ml.b)(i,void 0,void 0,function(){return Object(Ml.d)(this,function(t){switch(t.label){case 0:return[4,wy(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function Vb(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r;return Object(Ml.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,Lb(t)];case 1:return n=i.sent(),zl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(Ml.b)(this,void 0,void 0,function(){var n,r;return Object(Ml.d)(this,function(i){switch(i.label){case 0:return(n=Ql(t))._s.Af(),zl("RemoteStore","RemoteStore received new credentials"),r=Em(n),n.Nh.add(3),[4,ym(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,gm(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function Lb(t){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(zl("FirestoreClient","Using default OfflineComponentProvider"),[4,Rb(t,new Pv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Mb(t){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(zl("FirestoreClient","Using default OnlineComponentProvider"),[4,Vb(t,new Vv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function Fb(t){return Lb(t).then(function(t){return t.persistence})}function Ub(t){return Lb(t).then(function(t){return t.bh})}function qb(t){return Mb(t).then(function(t){return t.yl})}function Hb(t){return Mb(t).then(function(t){return t._a})}function zb(t){return Object(Ml.b)(this,void 0,void 0,function(){var e,n;return Object(Ml.d)(this,function(r){switch(r.label){case 0:return[4,Mb(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=nv.bind(null,e._a),n.Hh=iv.bind(null,e._a),n)]}})})}function Bb(t,e,n){var r=this;void 0===n&&(n={});var i=new Ap;return t._s.Ps(function(){return Object(Ml.b)(r,void 0,void 0,function(){var r;return Object(Ml.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Lv({next:function(o){e.Ps(function(){return zm(t,s)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new rh(nh.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new rh(nh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new $m(Of(n.path),o,{includeMetadataChanges:!0,nl:!0});return Hm(t,s)},[4,zb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function Wb(t,e,n){var r=this;void 0===n&&(n={});var i=new Ap;return t._s.Ps(function(){return Object(Ml.b)(r,void 0,void 0,function(){var r;return Object(Ml.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Lv({next:function(n){e.Ps(function(){return zm(t,s)}),n.fromCache&&"server"===r.source?i.reject(new rh(nh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new $m(n,o,{includeMetadataChanges:!0,nl:!0});return Hm(t,s)},[4,zb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var Gb=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new am(this,"async_queue_retry"),this.vf=function(){var e=sm();e&&zl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=sm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=sm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Ml.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ml.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Rp(t=n.sent()))throw t;return zl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Bl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Up.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&$l()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Ml.b)(this,void 0,void 0,function(){var t;return Object(Ml.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function $b(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new Ap,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var Kb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Gb,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Ml.c)(e,t),e.prototype.b_=function(){return this.qf||Yb(this),this.qf.terminate()},e}(Zv);function Qb(t){return t.qf||Yb(t),t.qf.df(),t.qf}function Yb(t){var e=t.p_(),n=function(t,e,n){return new Fl(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new Db(t.m_,t.Bf,n)}function Zb(t,e,n){var r=this,i=new Ap;return t._s.enqueue(function(){return Object(Ml.b)(r,void 0,void 0,function(){var r;return Object(Ml.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Rb(t,n)];case 1:return o.sent(),[4,Vb(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===nh.FAILED_PRECONDITION||t.code===nh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Xb(t){if(t.R_||t.P_)throw new rh(nh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Jb=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),Ph(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ih(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(Sh(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw $l()}},t.prototype.Hf=function(t,e){var n=this,r={};return wh(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new ob(Ih(t.latitude),Ih(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=Th(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(Ah(t));default:return null}},t.prototype.Qf=function(t){var e=Ch(t);return new fh(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=gh.ot(t);Kl(Tp(n));var r=new Ul(n.get(1),n.get(3)),i=new vh(n.Y(5));return r.isEqual(e)||Bl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),tw=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Xv(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new ew(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(nw("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),ew=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ml.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(tw);function nw(t,e){return"string"==typeof e?Ab(t,e):e instanceof Uv?e.d_.f_:e.f_}function rw(t){if(Cf(t)&&0===t.xt.length)throw new rh(nh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var iw=function(){};function ow(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var sw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(Ml.c)(e,t),e.prototype.td=function(t){var e=fb(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new rh(nh.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){dw(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(fw(r,t,l[c]));u={arrayValue:{values:a}}}else u=fw(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||dw(s,o),u=Ob(n,"where",s,"in"===o||"not-in"===o);var h=of.create(i,o,u);return function(t,e){if(e.Ct()){var n=Sf(t);if(null!==n&&!n.isEqual(e.field))throw new rh(nh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=If(t);null!==r&&pw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new rh(nh.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new Jv(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new wf(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(iw),uw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(Ml.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new rh(nh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new rh(nh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new yf(e,n);return function(t,e){if(null===If(t)){var n=Sf(t);null!==n&&pw(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new Jv(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new wf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(iw),aw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(Ml.c)(e,t),e.prototype.td=function(t){return new Jv(t.firestore,t.v_,jf(t.C_,this.od,this.ad))},e}(iw),cw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Ml.c)(e,t),e.prototype.td=function(t){var e=hw(t,this.type,this.ud,this.hd);return new Jv(t.firestore,t.v_,function(t,e){return new wf(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(iw),lw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Ml.c)(e,t),e.prototype.td=function(t){var e=hw(t,this.type,this.ud,this.hd);return new Jv(t.firestore,t.v_,function(t,e){return new wf(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(iw);function hw(t,e,n,r){if(n[0]instanceof Uv&&(n[0]=n[0].d_),n[0]instanceof tw)return function(t,e,n,r,i){if(!r)throw new rh(nh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=Tf(t);s<u.length;s++){var a=u[s];if(a.field.ut())o.push(Uh(e,r.key));else{var c=r.field(a.field);if(xh(c))throw new rh(nh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.rt();throw new rh(nh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new pf(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=fb(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new rh(nh.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ut()){if("string"!=typeof c)throw new rh(nh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!xf(t)&&-1!==c.indexOf("/"))throw new rh(nh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(gh.ot(c));if(!vh.wt(l))throw new rh(nh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new vh(l);u.push(Uh(e,h))}else{var f=Ob(n,r,c);u.push(f)}}return new pf(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function fw(t,e,n){if(n instanceof Uv&&(n=n.d_),"string"==typeof n){if(""===n)throw new rh(nh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!xf(e)&&-1!==n.indexOf("/"))throw new rh(nh.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(gh.ot(n));if(!vh.wt(r))throw new rh(nh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Uh(t,new vh(r))}if(n instanceof Xv)return Uh(t,n.S_);throw new rh(nh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Gv(n)+".")}function dw(t,e){if(!Array.isArray(t)||0===t.length)throw new rh(nh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new rh(nh.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function pw(t,e,n){if(!n.isEqual(e))throw new rh(nh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function gw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var yw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ml.c)(e,t),e.prototype.Wf=function(t){return new ih(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Xv(this.firestore,null,e)},e}(Jb),mw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),vw=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).Yf=e,u.ld=e,u.metadata=o,u}return Object(Ml.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new bw(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(nw("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(tw),bw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ml.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(vw),ww=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new mw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new bw(n.Yf,n.Xf,r.key,r,new mw(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new rh(nh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new bw(t.Yf,t.Xf,e.doc.key,e.doc,new mw(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new bw(t.Yf,t.Xf,e.doc.key,e.doc,new mw(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:_w(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function _w(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $l()}}function Ow(t,e){return t instanceof vw&&e instanceof vw?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof ww&&e instanceof ww&&t.Yf===e.Yf&&ib(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var Ew=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ml.c)(e,t),e.prototype.Wf=function(t){return new ih(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Xv(this.firestore,null,e)},e}(Jb);function Cw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=$v(t,Xv);var o=$v(t.firestore,Kb),s=fb(o);return e instanceof Uv&&(e=e.d_),Sw(o,[("string"==typeof e||e instanceof Mv?_b(s,"updateDoc",t.S_,e,n,r):wb(s,"updateDoc",t.S_,e)).F_(t.S_,ed.exists(!0))])}function Iw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Uv&&(t=t.d_);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||$b(i[u])||(s=i[u],u++);var a,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if($b(i[u])){var f=i[u];i[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Xv)c=$v(t.firestore,Kb),l=Of(t.S_.path),a={next:function(e){i[u]&&i[u](xw(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=$v(t,Jv);c=$v(d.firestore,Kb),l=d.C_;var p=new Ew(c);a={next:function(t){i[u]&&i[u](new ww(c,p,d,t))},error:i[u+1],complete:i[u+2]},rw(t.C_)}return function(t,e,n,r){var i=this,o=new Lv(r),s=new $m(e,o,n);return t._s.Ps(function(){return Object(Ml.b)(i,void 0,void 0,function(){var e;return Object(Ml.d)(this,function(n){switch(n.label){case 0:return e=Hm,[4,zb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.i_(),t._s.Ps(function(){return Object(Ml.b)(i,void 0,void 0,function(){var e;return Object(Ml.d)(this,function(n){switch(n.label){case 0:return e=zm,[4,zb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Qb(c),l,h,a)}function Sw(t,e){return function(t,e){var n=this,r=new Ap;return t._s.Ps(function(){return Object(Ml.b)(n,void 0,void 0,function(){var n;return Object(Ml.d)(this,function(i){switch(i.label){case 0:return n=ov,[4,Hb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Qb(t),e)}function xw(t,e,n){var r=n.docs.get(e.S_),i=new Ew(t);return new vw(t,i,e.S_,r,new mw(n.hasPendingWrites,n.fromCache),e.v_)}var Tw=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=fb(t)}return t.prototype.set=function(t,e,n){this.md();var r=Aw(t,this.Yf),i=gw(r.v_,e,n),o=db(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,ed.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=Aw(t,this.Yf);return e instanceof Uv&&(e=e.d_),o="string"==typeof e||e instanceof Mv?_b(this.Id,"WriteBatch.update",s.S_,e,n,r):wb(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,ed.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=Aw(t,this.Yf);return this.Ed=this.Ed.concat(new md(e.S_,ed.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new rh(nh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Aw(t,e){if(t instanceof Uv&&(t=t.d_),t.firestore!==e)throw new rh(nh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var jw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(Ml.c)(e,t),e.prototype.get=function(e){var n=this,r=Aw(e,this.Yf),i=new Ew(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new vw(n.Yf,i,r.S_,t.Zf,new mw(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=fb(t)}return t.prototype.get=function(t){var e=this,n=Aw(t,this.Yf),r=new yw(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return $l();var i=t[0];if(i instanceof Zh)return new tw(e.Yf,r,n.S_,null,n.v_);if(i instanceof Yh)return new tw(e.Yf,r,i.key,i,n.v_);throw $l()})},t.prototype.set=function(t,e,n){var r=Aw(t,this.Yf),i=gw(r.v_,e,n),o=db(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Aw(t,this.Yf);return e instanceof Uv&&(e=e.d_),o="string"==typeof e||e instanceof Mv?_b(this.Id,"Transaction.update",s.S_,e,n,r):wb(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=Aw(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function kw(){if("undefined"==typeof Uint8Array)throw new rh(nh.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Nw(){if("undefined"==typeof atob)throw new rh(nh.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Pw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ml.c)(e,t),e.fromBase64String=function(t){return Nw(),new e(ih.fromBase64String(t))},e.fromUint8Array=function(t){return kw(),new e(ih.fromUint8Array(t))},e.prototype.toBase64=function(){return Nw(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return kw(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Uv),Dw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Xb(t=$v(t,Kb));var n=Qb(t),r=t.p_(),i=new Vv;return Zb(n,i,new Dv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Xb(t=$v(t,Kb));var e=Qb(t),n=t.p_(),r=new Vv;return Zb(e,r,new Rv(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new rh(nh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ap;return t.Bf.Tf(function(){return Object(Ml.b)(e,void 0,void 0,function(){var e;return Object(Ml.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ml.b)(this,void 0,void 0,function(){return Object(Ml.d)(this,function(e){switch(e.label){case 0:return Np.Kn()?[4,Np.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(dy(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),Rw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Ul||(i.Pd=e),i}return Object(Ml.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=$v(t,Zv)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Wl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Ml.b)(e,void 0,void 0,function(){var e,n;return Object(Ml.d)(this,function(r){switch(r.label){case 0:return[4,Fb(t)];case 1:return e=r.sent(),[4,qb(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=Ql(t);return e.Nh.delete(0),gm(e)}(n))]}})})})}(Qb($v(this.d_,Kb)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Ml.b)(e,void 0,void 0,function(){var e,n;return Object(Ml.d)(this,function(r){switch(r.label){case 0:return[4,Fb(t)];case 1:return e=r.sent(),[4,qb(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(Ml.b)(this,void 0,void 0,function(){var e;return Object(Ml.d)(this,function(n){switch(n.label){case 0:return(e=Ql(t)).Nh.add(0),[4,ym(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}})})}(n))]}})})})}(Qb($v(this.d_,Kb)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&zv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ap;return t._s.Ps(function(){return Object(Ml.b)(e,void 0,void 0,function(){var e;return Object(Ml.d)(this,function(r){switch(r.label){case 0:return e=hv,[4,Hb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Qb($v(this.d_,Kb)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Lv(e);return t._s.Ps(function(){return Object(Ml.b)(n,void 0,void 0,function(){var e;return Object(Ml.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ql(t).Wh.add(e),e.next()},[4,zb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(Ml.b)(n,void 0,void 0,function(){var e;return Object(Ml.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ql(t).Wh.delete(e)},[4,zb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Qb(t=$v(t,Kb)),$b(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new rh(nh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qw(this,eb(this.d_,t))}catch(t){throw qw(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Uw(this,nb(this.d_,t))}catch(t){throw qw(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Gw(this,function(t,e){if(t=$v(t,Zv),qv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rh(nh.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Jv(t,null,function(t){return new wf(gh.ct(),t)}(e))}(this.d_,t))}catch(t){throw qw(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ap;return t._s.Ps(function(){return Object(Ml.b)(n,void 0,void 0,function(){var n;return Object(Ml.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Mb(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new Pb(t._s,n,e,r).run(),[2]}})})}),r.promise}(Qb(t),function(n){return e(new jw(t,n))})}(this.d_,function(n){return t(new Lw(e,n))})},e.prototype.batch=function(){var t=this;return Qb(this.d_),new Mw(new Tw(this.d_,function(e){return Sw(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new rh(nh.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new rh(nh.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Uv),Vw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ml.c)(e,t),e.prototype.Wf=function(t){return new Pw(new ih(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return Uw.yd(e,this.firestore,null)},e}(Jb),Lw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new Vw(e),r}return Object(Ml.c)(e,t),e.prototype.get=function(t){var e=this,n=Yw(t);return this.d_.get(n).then(function(t){return new Bw(e.Yf,new vw(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=Yw(t);return n?(Hv("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Yw(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Ml.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Yw(t);return this.d_.delete(e),this},e}(Uv),Mw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ml.c)(e,t),e.prototype.set=function(t,e,n){var r=Yw(t);return n?(Hv("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Yw(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Ml.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Yw(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(Uv),Fw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(Ml.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new bw(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new Ww(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Vw(t),n),i.set(n,o)),o},e}(Uv);Fw.Vd=new WeakMap;var Uw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Vw(e),r}return Object(Ml.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new rh(nh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new Xv(n.d_,r,new vh(t)))},e.yd=function(t,n,r){return new e(n,new Xv(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qw(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qw(this.firestore,eb(this.d_,t))}catch(t){throw qw(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Uv&&(t=t.d_),t instanceof Xv&&rb(this.d_,t)},e.prototype.set=function(t,e){e=Hv("DocumentReference.set",e);try{return function(t,e,n){t=$v(t,Xv);var r=$v(t.firestore,Kb),i=gw(t.v_,e,n);return Sw(r,[db(fb(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,ed.Kt())])}(this.d_,t,e)}catch(t){throw qw(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Cw(this.d_,t):Cw.apply(void 0,Object(Ml.g)([this.d_,t,e],n))}catch(t){throw qw(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Sw($v((t=this.d_).firestore,Kb),[new md(t.S_,ed.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Hw(e),i=zw(e,function(e){return new Bw(t.firestore,new vw(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return Iw(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=$v(t,Xv);var e=$v(t.firestore,Kb),n=Qb(e),r=new Ew(e);return function(t,e){var n=this,r=new Ap;return t._s.Ps(function(){return Object(Ml.b)(n,void 0,void 0,function(){var n;return Object(Ml.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ml.b)(this,void 0,void 0,function(){var r,i;return Object(Ml.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Ql(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Yh?n.resolve(i):i instanceof Zh?n.resolve(null):n.reject(new rh(nh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=qp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Ub(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new vw(e,r,t.S_,n,new mw(n instanceof Yh&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=$v(t,Xv);var e=$v(t.firestore,Kb);return Bb(Qb(e),t.S_,{source:"server"}).then(function(n){return xw(e,t,n)})}(this.d_):function(t){t=$v(t,Xv);var e=$v(t.firestore,Kb);return Bb(Qb(e),t.S_).then(function(n){return xw(e,t,n)})}(this.d_)).then(function(t){return new Bw(e.firestore,new vw(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Fw.gd(this.firestore,t)))},e}(Uv);function qw(t,e,n){return t.message=t.message.replace(e,n),t}function Hw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!$b(r))return r}return{}}function zw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=$b(t[0])?t[0]:$b(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Bw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Ml.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Uw(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return Ow(this.d_,t.d_)},e}(Uv),Ww=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ml.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Bw),Gw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Vw(e),r}return Object(Ml.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,ow(this.d_,function(t,e,n){var r=e,i=nw("where",t);return new sw(i,r,n)}(t,n,r)))}catch(t){throw qw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ow(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=nw("orderBy",t);return new uw(r,n)}(t,n)))}catch(t){throw qw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ow(this.d_,function(t){return Kv("limit",t),new aw("limit",t,"F")}(t)))}catch(t){throw qw(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ow(this.d_,function(t){return Kv("limitToLast",t),new aw("limitToLast",t,"L")}(t)))}catch(t){throw qw(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ow(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cw("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw qw(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ow(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cw("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw qw(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ow(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lw("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw qw(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ow(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lw("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw qw(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ib(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=$v(t,Jv);var e=$v(t.firestore,Kb),n=Qb(e),r=new Ew(e);return function(t,e){var n=this,r=new Ap;return t._s.Ps(function(){return Object(Ml.b)(n,void 0,void 0,function(){var n;return Object(Ml.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ml.b)(this,void 0,void 0,function(){var r,i,o,s,u;return Object(Ml.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Ty(t,e,!0)];case 1:return u=a.sent(),r=new Xm(e,u.Rc),i=r.fl(u.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=qp(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Ub(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new ww(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=$v(t,Jv);var e=$v(t.firestore,Kb),n=Qb(e),r=new Ew(e);return Wb(n,t.C_,{source:"server"}).then(function(n){return new ww(e,r,t,n)})}(this.d_):function(t){t=$v(t,Jv);var e=$v(t.firestore,Kb),n=Qb(e),r=new Ew(e);return rw(t.C_),Wb(n,t.C_).then(function(n){return new ww(e,r,t,n)})}(this.d_)).then(function(t){return new Kw(e.firestore,new ww(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Hw(e),i=zw(e,function(e){return new Kw(t.firestore,new ww(t.firestore.d_,t.Xf,t.d_,e._d))});return Iw(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Fw.gd(this.firestore,t)))},e}(Uv),$w=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Ml.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ww(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(Uv),Kw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Ml.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Gw(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new Ww(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new $w(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new Ww(n.Yf,r))})},e.prototype.isEqual=function(t){return Ow(this.d_,t.d_)},e}(Uv),Qw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(Ml.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new Uw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Uw(this.firestore,void 0===t?nb(this.d_):nb(this.d_,t))}catch(t){throw qw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=$v(t.firestore,Kb),r=nb(t),i=gw(t.v_,e);return Sw(n,[db(fb(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,ed.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new Uw(e.firestore,t)})},e.prototype.isEqual=function(t){return rb(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Fw.gd(this.firestore,t)))},e}(Gw);function Yw(t){return t instanceof Uv&&(t=t.d_),$v(t,Xv)}var Zw,Xw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Mv.bind.apply(Mv,Object(Ml.g)([void 0],e))))||this}return Object(Ml.c)(e,t),e.documentId=function(){return new e(mh.ht().rt())},e.prototype.isEqual=function(t){return t instanceof Uv&&(t=t.d_),t instanceof Mv&&this.d_.f_.isEqual(t.f_)},e}(Uv),Jw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ml.c)(e,t),e.serverTimestamp=function(){var t=new yb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new pb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mb("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vb("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new bb("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(Uv),t_=n("/6Yf"),e_={Firestore:Rw,GeoPoint:ob,Timestamp:fh,Blob:Pw,Transaction:Lw,WriteBatch:Mw,DocumentReference:Uw,DocumentSnapshot:Bw,Query:Gw,QueryDocumentSnapshot:Ww,QuerySnapshot:Kw,CollectionReference:Qw,FieldPath:Xw,FieldValue:Jw,setLogLevel:function(t){ql.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new t_.a("firestore",function(t){return function(t,e){return new Rw(t,new Kb(t,e),new Dw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},e_)))})(Zw=Ds.a),Zw.registerVersion("@firebase/firestore","2.1.7");var n_=n("qgXg"),r_=n("Ylt2");class i_ extends mt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new o_(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new vt.a;if(this.isStopped||this.hasError?o=me.a.EMPTY:(this.observers.push(t),o=new r_.a(this,t)),r&&t.add(t=new ks.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||n_.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class o_{constructor(t,e){this.time=t,this.value=e}}function s_(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,u=!1,a=!1;return function(c){let l;s++,!i||u?(u=!1,i=new i_(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){u=!0,i.error(t)},complete(){a=!0,o=void 0,i.complete()}}),a&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!a&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function u_(t,e){return e?Ft(()=>t,e):Ft(()=>t)}var a_=n("tf+s");const c_=new r.q("angularfire2.auth.use-emulator"),l_=new r.q("angularfire2.auth.settings"),h_=new r.q("angularfire2.auth.tenant-id"),f_=new r.q("angularfire2.auth.langugage-code"),d_=new r.q("angularfire2.auth.use-device-language"),p_=new r.q("angularfire.auth.persistence");let g_=(()=>{class t{constructor(t,e,r,i,o,s,u,a,c,l){const h=new Ns.d(i),f=Object(Ns.h)(h),d=new mt.a,p=Object(yt.a)(void 0).pipe(Object(ks.b)(h.outsideAngular),Ft(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Lt.a)(()=>Object(Ns.g)(t,i,e)),Object(Lt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Ns.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),u&&(r.tenantId=u),r.languageCode=a,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,u,a,c,n,l])})),s_({bufferSize:1,refCount:!1}));if(V(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(yt.a)(null);else{p.pipe(ge()).subscribe();const t=p.pipe(Ft(t=>t.getRedirectResult().then(t=>t,()=>null)),f,s_({bufferSize:1,refCount:!1})),e=t=>new St.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Ft(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Ft(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(u_(n),Object(a_.a)(h.outsideAngular),Object(ks.b)(h.insideAngular)),this.user=t.pipe(u_(r),Object(a_.a)(h.outsideAngular),Object(ks.b)(h.insideAngular)),this.idToken=this.user.pipe(Ft(t=>t?Object(gt.a)(t.getIdToken()):Object(yt.a)(null))),this.idTokenResult=this.user.pipe(Ft(t=>t?Object(gt.a)(t.getIdTokenResult()):Object(yt.a)(null))),this.credential=Object(Ko.a)(t,d,this.authState.pipe(Yt(t=>!t))).pipe(Object(Lt.a)(t=>(null==t?void 0:t.user)?t:null),Object(a_.a)(h.outsideAngular),Object(ks.b)(h.insideAngular))}return Object(Ns.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Ns.c),r.Wb(Ns.b,8),r.Wb(r.B),r.Wb(r.z),r.Wb(c_,8),r.Wb(l_,8),r.Wb(h_,8),r.Wb(f_,8),r.Wb(d_,8),r.Wb(p_,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(Ns.c),Object(r.Wb)(Ns.b,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(c_,8),Object(r.Wb)(l_,8),Object(r.Wb)(h_,8),Object(r.Wb)(f_,8),Object(r.Wb)(d_,8),Object(r.Wb)(p_,8))},token:t,providedIn:"any"}),t})();function y_(t,e){return function(t,e=Vo.b){return new St.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function m_(t,e){return y_(t,e).pipe(Object(Lt.a)(t=>({payload:t,type:"query"})))}function v_(t,e){return m_(t,e).pipe(Gt(void 0),Ts(),Object(Lt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function b_(t,e,n){return v_(t,n).pipe($t((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return w_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return w_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return w_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Xo(void 0,void 0)),Object(Lt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function w_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function __(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Ns.e)(g_,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class O_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=v_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Lt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Gt(void 0),Ts(),Yt(([t,e])=>e.length>0||!t),Object(Lt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe($t((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=__(t);return b_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return m_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(gt.a)(this.query.get(t)).pipe(Object(ks.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new E_(this.ref.doc(t),this.afs)}}class E_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=A_(n,e);return new O_(r,i,this.afs)}snapshotChanges(){return y_(this.ref,this.afs.schedulers.outsideAngular).pipe(Gt(void 0),Ts(),Object(Lt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Lt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(gt.a)(this.ref.get(t)).pipe(Object(ks.b)(this.afs.schedulers.insideAngular))}}class C_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?v_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Yt(t=>t.length>0),this.afs.keepUnstableUntilFirst):v_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe($t((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=__(t);return b_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return m_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(gt.a)(this.query.get(t)).pipe(Object(ks.b)(this.afs.schedulers.insideAngular))}}const I_=new r.q("angularfire2.enableFirestorePersistence"),S_=new r.q("angularfire2.firestore.persistenceSettings"),x_=new r.q("angularfire2.firestore.settings"),T_=new r.q("angularfire2.firestore.use-emulator");function A_(t,e=(t=>t)){return{query:e(t),ref:t}}let j_=(()=>{class t{constructor(t,e,n,r,i,o,s,u,a){this.schedulers=new Ns.d(o),this.keepUnstableUntilFirst=Object(Ns.h)(this.schedulers);const c=Object(Ns.g)(t,o,e);!Ps.a.auth&&a&&Object(Ns.j)();const l=u;[this.firestore,this.persistenceEnabled$]=Object(Ns.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!V(i)){const e=()=>{try{return Object(gt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Zw){return"undefined"!=typeof console&&console.warn(Zw),Object(yt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(yt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=A_(n,e),o=this.schedulers.ngZone.run(()=>r);return new O_(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new C_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new E_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Ns.c),r.Wb(Ns.b,8),r.Wb(I_,8),r.Wb(x_,8),r.Wb(r.B),r.Wb(r.z),r.Wb(S_,8),r.Wb(T_,8),r.Wb(c_,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(Ns.c),Object(r.Wb)(Ns.b,8),Object(r.Wb)(I_,8),Object(r.Wb)(x_,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(S_,8),Object(r.Wb)(T_,8),Object(r.Wb)(c_,8))},token:t,providedIn:"any"}),t})(),k_=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:I_,useValue:!0},{provide:S_,useValue:e}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[j_]}),t})(),N_=(()=>{class t{constructor(t){this.fireStore=t}getEmployees(){return this.fireStore.collection("employee").snapshotChanges()}addEmployee(t){return this.fireStore.collection("employee").add(t)}updateEmployee(t,e){return this.fireStore.doc("employee/"+t).update(e)}deleteEmployee(t){return this.fireStore.doc("employee/"+t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(j_))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function P_(t,e){1&t&&(r.Pb(0,"h3",6),r.wc(1,"Fetching Data..."),r.Ob())}function D_(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",9),r.Pb(1,"div",10),r.Pb(2,"div",11),r.wc(3," Employee Details "),r.Ob(),r.Pb(4,"div",12),r.Pb(5,"div",13),r.wc(6),r.Ob(),r.Lb(7,"hr"),r.Pb(8,"div",14),r.wc(9),r.Ob(),r.Lb(10,"hr"),r.Pb(11,"div",14),r.wc(12),r.Ob(),r.Ob(),r.Pb(13,"div",15),r.Pb(14,"button",16),r.Zb("click",function(){r.oc(t);const n=e.$implicit,i=r.bc(2),o=r.nc(7);return i.openModal(o,n.id)}),r.wc(15,"edit"),r.Ob(),r.Pb(16,"button",17),r.Zb("click",function(){r.oc(t);const n=e.$implicit;return r.bc(2).delete(n.id)}),r.wc(17,"delete"),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.$implicit;r.yb(6),r.xc(t.name),r.yb(3),r.xc(t.age),r.yb(3),r.xc(t.address)}}function R_(t,e){if(1&t&&(r.Pb(0,"div",7),r.uc(1,D_,18,3,"div",8),r.Ob()),2&t){const t=r.bc();r.yb(1),r.gc("ngForOf",t.employeeList)}}function V_(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",18),r.wc(1),r.Ob(),r.Pb(2,"div",19),r.Pb(3,"form",20),r.Pb(4,"div",21),r.Pb(5,"label",22),r.wc(6,"Name"),r.Ob(),r.Lb(7,"input",23),r.Ob(),r.Pb(8,"div",21),r.Pb(9,"label",24),r.wc(10,"Age"),r.Ob(),r.Lb(11,"input",25),r.Ob(),r.Pb(12,"div",21),r.Pb(13,"label",24),r.wc(14,"Address"),r.Ob(),r.Lb(15,"input",26),r.Ob(),r.Pb(16,"div",27),r.Pb(17,"button",28),r.Zb("click",function(){r.oc(t);const n=e.dismiss,i=r.bc();return i.employeeDetails?i.update(i.employeeDetails.id):i.add(),n()}),r.wc(18,"Save"),r.Ob(),r.Pb(19,"button",29),r.Zb("click",function(){return(0,e.dismiss)()}),r.wc(20,"Cancel"),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=r.bc();r.yb(1),r.yc(" ",t.employeeDetails?"update":"add"," employee "),r.yb(2),r.gc("formGroup",t.form),r.yb(14),r.gc("disabled",!t.form.valid)}}let L_=(()=>{class t{constructor(t,e,n){this.fb=t,this.modalService=e,this.fireService=n,this.title="firebase4",this.employeeList=[]}ngOnInit(){this.getEmployeeList()}getEmployeeList(){this.fireService.getEmployees().subscribe(t=>{console.log(t),this.employeeList=t.map(t=>({id:t.payload.doc.id,name:t.payload.doc.data().name,age:t.payload.doc.data().age,address:t.payload.doc.data().address})),console.log(this.employeeList)})}add(){this.fireService.addEmployee(this.form.value).then(t=>{alert("employee added")}).catch(t=>{console.log(t)})}update(t){this.fireService.updateEmployee(t,this.form.value).then(t=>{}).catch(t=>{console.log(t)})}delete(t){confirm("are you sure?")&&this.fireService.deleteEmployee(t).then(t=>{}).catch(t=>{console.log(t)})}formInit(t){this.form=this.fb.group({name:[t?t.name:"",Si.required],age:[t?t.age:"",Si.required],address:[t?t.address:"",Si.required]})}openModal(t,e){this.employeeDetails=this.employeeList.find(t=>t.id===e),this.formInit(this.employeeDetails),this.modalService.open(t,{backdrop:"static",centered:!0})}close(){this.modalService.dismissAll()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(jo),r.Kb(Ss),r.Kb(N_))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:8,vars:2,consts:[[1,"container-fluid"],[1,"text-right","mb-4"],[1,"btn","btn-primary",3,"click"],["class","text-center text-white",4,"ngIf"],["class","row",4,"ngIf"],["popup",""],[1,"text-center","text-white"],[1,"row"],["class","col-md-3 mt-3",4,"ngFor","ngForOf"],[1,"col-md-3","mt-3"],[1,"card"],[1,"card-header"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"],[1,"card-footer","text-center"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm","ml-2","mt-lg-0","mt-md-2",3,"click"],[1,"modal-header","text-primary"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","formControlName","name",1,"form-control"],["for","exampleInputPassword1"],["type","number","formControlName","age",1,"form-control"],["type","text","formControlName","address",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-primary","btn-sm","p-2","mr-2",3,"disabled","click"],["type","submit",1,"btn","btn-secondary","btn-sm","p-2","mr-2",3,"click"]],template:function(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"button",2),r.Zb("click",function(){r.oc(t);const n=r.nc(7);return e.openModal(n,null)}),r.wc(3,"add"),r.Ob(),r.Ob(),r.uc(4,P_,2,0,"h3",3),r.uc(5,R_,2,1,"div",4),r.Ob(),r.uc(6,V_,21,3,"ng-template",null,5,r.vc)}2&t&&(r.yb(4),r.gc("ngIf",!e.employeeList.length),r.yb(1),r.gc("ngIf",e.employeeList.length))},directives:[N,j,Eo,zi,So,wi,Hi,To,Wi],styles:[".container-fluid[_ngcontent-%COMP%]{padding:50px 100px}.card[_ngcontent-%COMP%]:hover{box-shadow:0 .5rem 1rem #6b6b6b}"]}),t})(),M_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[L_]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[],imports:[[pt,fi,ko,No,Ns.a.initializeApp(i),k_,xs]]}),t})();Object(r.S)(),ft().bootstrapModule(M_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class u extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);